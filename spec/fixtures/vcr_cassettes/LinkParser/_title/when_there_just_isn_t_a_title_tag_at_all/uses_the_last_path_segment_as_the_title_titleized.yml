---
http_interactions:
- request:
    method: get
    uri: https://google.github.io/styleguide/javascriptguide.xml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Connection:
      - keep-alive
      Content-Length:
      - '30231'
      Server:
      - GitHub.com
      Content-Type:
      - application/xml
      Last-Modified:
      - Fri, 07 Aug 2020 17:22:44 GMT
      Etag:
      - W/"5f2d8de4-20d26"
      Access-Control-Allow-Origin:
      - "*"
      Expires:
      - Sat, 22 Aug 2020 23:54:09 GMT
      Cache-Control:
      - max-age=600
      X-Proxy-Cache:
      - MISS
      X-Github-Request-Id:
      - 32BC:5504:13073B:17FAFD:5F41ADC6
      Accept-Ranges:
      - bytes
      Date:
      - Sat, 22 Aug 2020 23:47:40 GMT
      Via:
      - 1.1 varnish
      Age:
      - '0'
      X-Served-By:
      - cache-pdk17873-PDK
      X-Cache:
      - MISS
      X-Cache-Hits:
      - '0'
      X-Timer:
      - S1598140060.332888,VS0,VE22
      Vary:
      - Accept-Encoding
      X-Fastly-Request-Id:
      - a700e878cc2e5712fe76b0c240a354849a6619d3
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        PD94bWwgdmVyc2lvbiA9ICcxLjAnPz4KPD94bWwtc3R5bGVzaGVldCB0eXBlPSJ0ZXh0L3hzbCIgaHJlZj0ic3R5bGVndWlkZS54c2wiPz4KPEdVSURFIHRpdGxlPSJHb29nbGUgSmF2YVNjcmlwdCBTdHlsZSBHdWlkZSI+CiAgPHAgY2xhc3M9InJldmlzaW9uIj4KICAgIFBsZWFzZSBub3RlOiB0aGVyZSdzIGEgbmV3ZXIgdmVyc2lvbiBvZiB0aGlzIGd1aWRlIHRoYXQgaW5jbHVkZXMKICAgIEVDTUFTY3JpcHQgNnRoIEVkaXRpb24gZmVhdHVyZXMuIEl0IGxpdmVzIDxhIGhyZWY9ImpzZ3VpZGUuaHRtbCI+aGVyZTwvYT4uCiAgICBZb3Ugc2hvdWxkIHByb2JhYmx5IGJlIHVzaW5nIHRoYXQgZm9yIG5ldyBjb2RlLgoKICAgIFJldmlzaW9uIDIuOTMKICA8L3A+CgogIDxhZGRyZXNzPgogICAgQWFyb24gV2h5dGU8YnIvPgogICAgQm9iIEplcnZpczxici8+CiAgICBEYW4gUHVwaXVzPGJyLz4KICAgIEVyaWsgQXJ2aWRzc29uPGJyLz4KICAgIEZyaXR6IFNjaG5laWRlcjxici8+CiAgICBSb2JieSBXYWxrZXI8YnIvPgogIDwvYWRkcmVzcz4KICA8T1ZFUlZJRVc+CiAgICA8Q0FURUdPUlkgdGl0bGU9IkltcG9ydGFudCBOb3RlIj4KICAgICAgPFNUWUxFUE9JTlQgdGl0bGU9IkRpc3BsYXlpbmcgSGlkZGVuIERldGFpbHMgaW4gdGhpcyBHdWlkZSI+CiAgICAgICAgPFNVTU1BUlk+CiAgICAgICAgICBUaGlzIHN0eWxlIGd1aWRlIGNvbnRhaW5zIG1hbnkgZGV0YWlscyB0aGF0IGFyZSBpbml0aWFsbHkKICAgICAgICAgIGhpZGRlbiBmcm9tIHZpZXcuICBUaGV5IGFyZSBtYXJrZWQgYnkgdGhlIHRyaWFuZ2xlIGljb24sIHdoaWNoIHlvdQogICAgICAgICAgc2VlIGhlcmUgb24geW91ciBsZWZ0LiAgQ2xpY2sgaXQgbm93LgogICAgICAgICAgWW91IHNob3VsZCBzZWUgIkhvb3JheSIgYXBwZWFyIGJlbG93LgogICAgICAgIDwvU1VNTUFSWT4KICAgICAgICA8Qk9EWT4KICAgICAgICAgIDxwPgogICAgICAgICAgICBIb29yYXkhICBOb3cgeW91IGtub3cgeW91IGNhbiBleHBhbmQgcG9pbnRzIHRvIGdldCBtb3JlCiAgICAgICAgICAgIGRldGFpbHMuICBBbHRlcm5hdGl2ZWx5LCB0aGVyZSdzIGEgInRvZ2dsZSBhbGwiIGF0IHRoZQogICAgICAgICAgICB0b3Agb2YgdGhpcyBkb2N1bWVudC4KICAgICAgICAgIDwvcD4KICAgICAgICA8L0JPRFk+CiAgICAgIDwvU1RZTEVQT0lOVD4KICAgIDwvQ0FURUdPUlk+CiAgICA8Q0FURUdPUlkgdGl0bGU9IkJhY2tncm91bmQiPgogICAgICA8cD4KICAgICAgICBKYXZhU2NyaXB0IGlzIHRoZSBtYWluIGNsaWVudC1zaWRlIHNjcmlwdGluZyBsYW5ndWFnZSB1c2VkCgogICAgICAgIGJ5IG1hbnkgb2YgR29vZ2xlJ3Mgb3Blbi1zb3VyY2UKICAgICAgICAgIHByb2plY3RzLgogICAgICAgIFRoaXMgc3R5bGUgZ3VpZGUgaXMgYSBsaXN0IG9mIDxlbT5kbzwvZW0+cyBhbmQgPGVtPmRvbid0PC9lbT5zIGZvcgogICAgICAgIEphdmFTY3JpcHQgcHJvZ3JhbXMuCiAgICAgIDwvcD4KCgoKCgogICAgPC9DQVRFR09SWT4KICA8L09WRVJWSUVXPgogIDxDQVRFR09SWSB0aXRsZT0iSmF2YVNjcmlwdCBMYW5ndWFnZSBSdWxlcyI+CgoKCgogICAgPFNUWUxFUE9JTlQgdGl0bGU9InZhciI+CiAgICAgIDxTVU1NQVJZPgogICAgICAgIERlY2xhcmF0aW9ucyB3aXRoIDxjb2RlPnZhcjwvY29kZT46IEFsd2F5cwogICAgICA8L1NVTU1BUlk+CiAgICAgIDxCT0RZPgogICAgICAgIDxERUNJU0lPTj4KICAgICAgICAgIFdoZW4geW91IGZhaWwgdG8gc3BlY2lmeSA8Y29kZT52YXI8L2NvZGU+LAogICAgICAgICAgdGhlIHZhcmlhYmxlIGdldHMgcGxhY2VkIGluIHRoZSBnbG9iYWwgY29udGV4dCwgcG90ZW50aWFsbHkgY2xvYmJlcmluZwogICAgICAgICAgZXhpc3RpbmcgdmFsdWVzLiBBbHNvLCBpZiB0aGVyZSdzIG5vIGRlY2xhcmF0aW9uLCBpdCdzIGhhcmQgdG8gdGVsbCBpbgogICAgICAgICAgd2hhdCBzY29wZSBhIHZhcmlhYmxlIGxpdmVzIChlLmcuLCBpdCBjb3VsZCBiZSBpbiB0aGUgRG9jdW1lbnQgb3IKICAgICAgICAgIFdpbmRvdyBqdXN0IGFzIGVhc2lseSBhcyBpbiB0aGUgbG9jYWwgc2NvcGUpLiBTbyBhbHdheXMgZGVjbGFyZSB3aXRoCiAgICAgICAgICA8Y29kZT52YXI8L2NvZGU+LgogICAgICAgIDwvREVDSVNJT04+CiAgICAgIDwvQk9EWT4KICAgIDwvU1RZTEVQT0lOVD4KCiAgICA8U1RZTEVQT0lOVCB0aXRsZT0iQ29uc3RhbnRzIj4KICAgICAgPFNVTU1BUlk+CiAgICAgICAgPHVsPgogICAgICAgICAgPGxpPlVzZSA8Y29kZT5OQU1FU19MSUtFX1RISVM8L2NvZGU+IGZvciBjb25zdGFudCA8ZW0+dmFsdWVzPC9lbT4uPC9saT4KICAgICAgICAgIDxsaT5Vc2UgPGNvZGU+QGNvbnN0PC9jb2RlPiB0byBpbmRpY2F0ZSBhIGNvbnN0YW50IChub24tb3ZlcndyaXRhYmxlKQogICAgICAgICAgICA8ZW0+cG9pbnRlcjwvZW0+IChhIHZhcmlhYmxlIG9yIHByb3BlcnR5KS48L2xpPgogICAgICAgICAgPGxpPk5ldmVyIHVzZSB0aGUKICAgICAgICAgICAgPGEgaHJlZj0iaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vSmF2YVNjcmlwdC9SZWZlcmVuY2UvU3RhdGVtZW50cy9jb25zdCI+CiAgICAgICAgICAgICAgPGNvZGU+Y29uc3Q8L2NvZGU+IGtleXdvcmQ8L2E+CiAgICAgICAgICAgIGFzIGl0J3Mgbm90IHN1cHBvcnRlZCBpbiBJbnRlcm5ldCBFeHBsb3Jlci48L2xpPgogICAgICAgIDwvdWw+CiAgICAgIDwvU1VNTUFSWT4KICAgICAgPEJPRFk+CiAgICAgICAgPERFQ0lTSU9OPgogICAgICAgICAgPFNVQlNFQ1RJT04gdGl0bGU9IkNvbnN0YW50IHZhbHVlcyI+CgogICAgICAgICAgPHA+SWYgYSB2YWx1ZSBpcyBpbnRlbmRlZCB0byBiZSA8ZW0+Y29uc3RhbnQ8L2VtPgogICAgICAgICAgICAgYW5kIDxlbT5pbW11dGFibGU8L2VtPiwgaXQgc2hvdWxkIGJlIGdpdmVuIGEgbmFtZQogICAgICAgICAgICAgaW4gPGNvZGU+Q09OU1RBTlRfVkFMVUVfQ0FTRTwvY29kZT4uCiAgICAgICAgICAgICA8Y29kZT5BTExfQ0FQUzwvY29kZT4gYWRkaXRpb25hbGx5IGltcGxpZXMgPGNvZGU+QGNvbnN0PC9jb2RlPgogICAgICAgICAgICAgKHRoYXQgdGhlIHZhbHVlIGlzIG5vdCBvdmVyd3JpdGFibGUpLgogICAgICAgICAgIDwvcD4KCiAgICAgICAgICAgPHA+UHJpbWl0aXZlIHR5cGVzICg8Y29kZT5udW1iZXI8L2NvZGU+LCA8Y29kZT5zdHJpbmc8L2NvZGU+LAogICAgICAgICAgICAgPGNvZGU+Ym9vbGVhbjwvY29kZT4pIGFyZSBjb25zdGFudCB2YWx1ZXMuPC9wPgoKICAgICAgICAgICA8cD48Y29kZT5PYmplY3RzPC9jb2RlPicKICAgICAgICAgICAgIGltbXV0YWJpbGl0eSBpcyBtb3JlIHN1YmplY3RpdmUg4oCUIG9iamVjdHMgc2hvdWxkIGJlCiAgICAgICAgICAgICBjb25zaWRlcmVkIGltbXV0YWJsZSBvbmx5IGlmIHRoZXkgZG8gbm90IGRlbW9uc3RyYXRlIG9ic2VydmFibGUKICAgICAgICAgICAgIHN0YXRlIGNoYW5nZS4gIFRoaXMgaXMgbm90IGVuZm9yY2VkIGJ5IHRoZSBjb21waWxlci48L3A+CgoKICAgICAgICAgICA8L1NVQlNFQ1RJT04+CgogICAgICAgICAgPFNVQlNFQ1RJT04gdGl0bGU9IkNvbnN0YW50IHBvaW50ZXJzICh2YXJpYWJsZXMgYW5kIHByb3BlcnRpZXMpIj4KICAgICAgICAgICAgPHA+VGhlIDxjb2RlPkBjb25zdDwvY29kZT4gYW5ub3RhdGlvbiBvbiBhIHZhcmlhYmxlIG9yIHByb3BlcnR5CiAgICAgICAgICAgICAgaW1wbGllcyB0aGF0IGl0IGlzIG5vdCBvdmVyd3JpdGFibGUuICBUaGlzIGlzIGVuZm9yY2VkIGJ5IHRoZQogICAgICAgICAgICAgIGNvbXBpbGVyIGF0IGJ1aWxkIHRpbWUuICBUaGlzIGJlaGF2aW9yIGlzIGNvbnNpc3RlbnQgd2l0aCB0aGUKICAgICAgICAgICAgICA8YSBocmVmPSJodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9TdGF0ZW1lbnRzL2NvbnN0Ij4KICAgICAgICAgICAgICAgIDxjb2RlPmNvbnN0PC9jb2RlPiBrZXl3b3JkPC9hPiAod2hpY2ggd2UgZG8gbm90IHVzZSBkdWUgdG8gdGhlCiAgICAgICAgICAgICAgbGFjayBvZiBzdXBwb3J0IGluIEludGVybmV0IEV4cGxvcmVyKS48L3A+CgogICAgICAgICAgICA8cD5BIDxjb2RlPkBjb25zdDwvY29kZT4gYW5ub3RhdGlvbiBvbiBhIG1ldGhvZCBhZGRpdGlvbmFsbHkKICAgICAgICAgICAgICBpbXBsaWVzIHRoYXQgdGhlIG1ldGhvZCBjYW5ub3Qgbm90IGJlIG92ZXJyaWRkZW4gaW4gc3ViY2xhc3Nlcy4KICAgICAgICAgICAgPC9wPgoKICAgICAgICAgICAgPHA+QSA8Y29kZT5AY29uc3Q8L2NvZGU+IGFubm90YXRpb24gb24gYSBjb25zdHJ1Y3RvciBpbXBsaWVzIHRoZQogICAgICAgICAgICAgIGNsYXNzIGNhbm5vdCBiZSBzdWJjbGFzc2VkIChha2luIHRvIDxjb2RlPmZpbmFsPC9jb2RlPiBpbiBKYXZhKS4KICAgICAgICAgICAgPC9wPgoKICAgICAgICAgIDwvU1VCU0VDVElPTj4KCiAgICAgICAgICA8U1VCU0VDVElPTiB0aXRsZT0iRXhhbXBsZXMiPgoKICAgICAgICAgICAgPHA+Tm90ZSB0aGF0IDxjb2RlPkBjb25zdDwvY29kZT4gZG9lcyBub3QgbmVjZXNzYXJpbHkgaW1wbHkKICAgICAgICAgICAgICA8Y29kZT5DT05TVEFOVF9WQUxVRVNfQ0FTRTwvY29kZT4uCgogICAgICAgICAgICAgIEhvd2V2ZXIsIDxjb2RlPkNPTlNUQU5UX1ZBTFVFU19DQVNFPC9jb2RlPgogICAgICAgICAgICAgIDxlbT5kb2VzPC9lbT4gaW1wbHkgPGNvZGU+QGNvbnN0PC9jb2RlPi4KICAgICAgICAgICAgPC9wPgoKICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAvKioKICAgICAgICAgICAgICAgKiBSZXF1ZXN0IHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzLgogICAgICAgICAgICAgICAqIEB0eXBlIHtudW1iZXJ9CiAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgZ29vZy5leGFtcGxlLlRJTUVPVVRfSU5fTUlMTElTRUNPTkRTID0gNjA7CiAgICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgoKICAgICAgICAgICAgPHA+VGhlIG51bWJlciBvZiBzZWNvbmRzIGluIGEgbWludXRlIG5ldmVyIGNoYW5nZXMuICBJdCBpcyBhCiAgICAgICAgICAgICAgY29uc3RhbnQgdmFsdWUuICA8Y29kZT5BTExfQ0FQUzwvY29kZT4KICAgICAgICAgICAgICBhbHNvIGltcGxpZXMgPGNvZGU+QGNvbnN0PC9jb2RlPiwgc28gdGhlIGNvbnN0YW50IGNhbm5vdCBiZQogICAgICAgICAgICAgIG92ZXJ3cml0dGVuLgogICAgICAgICAgICA8L3A+CgogICAgICAgICAgICA8cD5UaGUgb3BlbiBzb3VyY2UgY29tcGlsZXIgd2lsbCBhbGxvdyB0aGUgc3ltYm9sIHRvIGJlCiAgICAgICAgICAgICAgb3ZlcndyaXR0ZW4gYmVjYXVzZSB0aGUgY29uc3RhbnQgaXMKICAgICAgICAgICAgICA8ZW0+bm90PC9lbT4gbWFya2VkIGFzIDxjb2RlPkBjb25zdDwvY29kZT4uPC9wPgoKICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAvKioKICAgICAgICAgICAgICAgKiBNYXAgb2YgVVJMIHRvIHJlc3BvbnNlIHN0cmluZy4KICAgICAgICAgICAgICAgKiBAY29uc3QKICAgICAgICAgICAgICAgKi8KICAgICAgICAgICAgICBNeUNsYXNzLmZldGNoZWRVcmxDYWNoZV8gPSBuZXcgZ29vZy5zdHJ1Y3RzLk1hcCgpOwogICAgICAgICAgICA8L0NPREVfU05JUFBFVD4KCiAgICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICogQ2xhc3MgdGhhdCBjYW5ub3QgYmUgc3ViY2xhc3NlZC4KICAgICAgICAgICAgICAgKiBAY29uc3QKICAgICAgICAgICAgICAgKiBAY29uc3RydWN0b3IKICAgICAgICAgICAgICAgKi8KICAgICAgICAgICAgICBzbG90aC5NeUZpbmFsQ2xhc3MgPSBmdW5jdGlvbigpIHt9OwogICAgICAgICAgICA8L0NPREVfU05JUFBFVD4KCiAgICAgICAgICAgIDxwPkluIHRoaXMgY2FzZSwgdGhlIHBvaW50ZXIgY2FuIG5ldmVyIGJlIG92ZXJ3cml0dGVuLCBidXQKICAgICAgICAgICAgICB2YWx1ZSBpcyBoaWdobHkgbXV0YWJsZSBhbmQgPGI+bm90PC9iPiBjb25zdGFudCAoYW5kIHRodXMgaW4KICAgICAgICAgICAgICA8Y29kZT5jYW1lbENhc2U8L2NvZGU+LCBub3QgPGNvZGU+QUxMX0NBUFM8L2NvZGU+KS48L3A+CiAgICAgICAgPC9TVUJTRUNUSU9OPgoKICAgICAgICA8L0RFQ0lTSU9OPgogICAgICA8L0JPRFk+CiAgICA8L1NUWUxFUE9JTlQ+CgogICAgPFNUWUxFUE9JTlQgdGl0bGU9IlNlbWljb2xvbnMiPgogICAgICA8U1VNTUFSWT4KICAgICAgICBBbHdheXMgdXNlIHNlbWljb2xvbnMuCiAgICAgIDwvU1VNTUFSWT4KICAgICAgPEJPRFk+CiAgICAgICAgPHA+UmVseWluZyBvbiBpbXBsaWNpdCBpbnNlcnRpb24gY2FuIGNhdXNlIHN1YnRsZSwgaGFyZCB0byBkZWJ1ZwogICAgICAgICAgcHJvYmxlbXMuIERvbid0IGRvIGl0LiBZb3UncmUgYmV0dGVyIHRoYW4gdGhhdC48L3A+CiAgICAgICAgPHA+VGhlcmUgYXJlIGEgY291cGxlIHBsYWNlcyB3aGVyZSBtaXNzaW5nIHNlbWljb2xvbnMgYXJlIHBhcnRpY3VsYXJseQogICAgICAgICAgZGFuZ2Vyb3VzOjwvcD4KICAgICAgICA8QkFEX0NPREVfU05JUFBFVD4KICAgICAgICAgIC8vIDEuCiAgICAgICAgICBNeUNsYXNzLnByb3RvdHlwZS5teU1ldGhvZCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gNDI7CiAgICAgICAgICB9ICAvLyBObyBzZW1pY29sb24gaGVyZS4KCiAgICAgICAgICAoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIC8vIFNvbWUgaW5pdGlhbGl6YXRpb24gY29kZSB3cmFwcGVkIGluIGEgZnVuY3Rpb24gdG8gY3JlYXRlIGEgc2NvcGUgZm9yIGxvY2Fscy4KICAgICAgICAgIH0pKCk7CgoKICAgICAgICAgIHZhciB4ID0gewogICAgICAgICAgICAnaSc6IDEsCiAgICAgICAgICAgICdqJzogMgogICAgICAgICAgfSAgLy8gTm8gc2VtaWNvbG9uIGhlcmUuCgogICAgICAgICAgLy8gMi4gIFRyeWluZyB0byBkbyBvbmUgdGhpbmcgb24gSW50ZXJuZXQgRXhwbG9yZXIgYW5kIGFub3RoZXIgb24gRmlyZWZveC4KICAgICAgICAgIC8vIEkga25vdyB5b3UnZCBuZXZlciB3cml0ZSBjb2RlIGxpa2UgdGhpcywgYnV0IHRocm93IG1lIGEgYm9uZS4KICAgICAgICAgIFtmZlZlcnNpb24sIGllVmVyc2lvbl1baXNJRV0oKTsKCgogICAgICAgICAgdmFyIFRISU5HU19UT19FQVQgPSBbYXBwbGVzLCBveXN0ZXJzLCBzcHJheU9uQ2hlZXNlXSAgLy8gTm8gc2VtaWNvbG9uIGhlcmUuCgogICAgICAgICAgLy8gMy4gY29uZGl0aW9uYWwgZXhlY3V0aW9uIGEgbGEgYmFzaAogICAgICAgICAgLTEgPT0gcmVzdWx0T2ZPcGVyYXRpb24oKSB8fCBkaWUoKTsKICAgICAgICA8L0JBRF9DT0RFX1NOSVBQRVQ+CiAgICAgICAgPFNVQlNFQ1RJT04gdGl0bGU9IlNvIHdoYXQgaGFwcGVucz8iPgogICAgICAgICAgPG9sPgogICAgICAgICAgICA8bGk+SmF2YVNjcmlwdCBlcnJvciAtIGZpcnN0IHRoZSBmdW5jdGlvbiByZXR1cm5pbmcgNDIgaXMgY2FsbGVkCiAgICAgICAgICAgICAgd2l0aCB0aGUgc2Vjb25kIGZ1bmN0aW9uIGFzIGEgcGFyYW1ldGVyLCB0aGVuIHRoZSBudW1iZXIgNDIgaXMKICAgICAgICAgICAgICAiY2FsbGVkIiByZXN1bHRpbmcgaW4gYW4gZXJyb3IuPC9saT4KICAgICAgICAgICAgPGxpPllvdSB3aWxsIG1vc3QgbGlrZWx5IGdldCBhICdubyBzdWNoIHByb3BlcnR5IGluIHVuZGVmaW5lZCcKICAgICAgICAgICAgICBlcnJvciBhdCBydW50aW1lIGFzIGl0IHRyaWVzIHRvIGNhbGwKICAgICAgICAgICAgICA8Y29kZT54W2ZmVmVyc2lvbiwgaWVWZXJzaW9uXVtpc0lFXSgpPC9jb2RlPi48L2xpPgogICAgICAgICAgICA8bGk+PGNvZGU+ZGllPC9jb2RlPiBpcyBhbHdheXMgY2FsbGVkIHNpbmNlIHRoZSBhcnJheSBtaW51cyAxIGlzCiAgICAgICAgICAgICAgPGNvZGU+TmFOPC9jb2RlPiB3aGljaCBpcyBuZXZlciBlcXVhbCB0byBhbnl0aGluZyAobm90IGV2ZW4gaWYKICAgICAgICAgICAgICA8Y29kZT5yZXN1bHRPZk9wZXJhdGlvbigpPC9jb2RlPiByZXR1cm5zIDxjb2RlPk5hTjwvY29kZT4pIGFuZAogICAgICAgICAgICAgIDxjb2RlPlRISU5HU19UT19FQVQ8L2NvZGU+IGdldHMgYXNzaWduZWQgdGhlIHJlc3VsdCBvZgogICAgICAgICAgICAgIDxjb2RlPmRpZSgpPC9jb2RlPi48L2xpPgogICAgICAgICAgPC9vbD4KICAgICAgICA8L1NVQlNFQ1RJT04+CiAgICAgICAgPFNVQlNFQ1RJT04gdGl0bGU9IldoeT8iPgogICAgICAgICAgPHA+SmF2YVNjcmlwdCByZXF1aXJlcyBzdGF0ZW1lbnRzIHRvIGVuZCB3aXRoIGEgc2VtaWNvbG9uLCBleGNlcHQgd2hlbgogICAgICAgICAgICBpdCB0aGlua3MgaXQgY2FuIHNhZmVseSBpbmZlciB0aGVpciBleGlzdGVuY2UuIEluIGVhY2ggb2YgdGhlc2UKICAgICAgICAgICAgZXhhbXBsZXMsIGEgZnVuY3Rpb24gZGVjbGFyYXRpb24gb3Igb2JqZWN0IG9yIGFycmF5IGxpdGVyYWwgaXMgdXNlZAogICAgICAgICAgICBpbnNpZGUgYSBzdGF0ZW1lbnQuIFRoZSBjbG9zaW5nIGJyYWNrZXRzIGFyZSBub3QgZW5vdWdoIHRvIHNpZ25hbAogICAgICAgICAgICB0aGUgZW5kIG9mIHRoZSBzdGF0ZW1lbnQuIEphdmFzY3JpcHQgbmV2ZXIgZW5kcyBhIHN0YXRlbWVudCBpZiB0aGUKICAgICAgICAgICAgbmV4dCB0b2tlbiBpcyBhbiBpbmZpeCBvciBicmFja2V0IG9wZXJhdG9yLjwvcD4KICAgICAgICAgIDxwPlRoaXMgaGFzIHJlYWxseSBzdXJwcmlzZWQgcGVvcGxlLCBzbyBtYWtlIHN1cmUgeW91ciBhc3NpZ25tZW50cyBlbmQKICAgICAgICAgICAgd2l0aCBzZW1pY29sb25zLjwvcD4KICAgICAgICA8L1NVQlNFQ1RJT04+CiAgICAgICAgPFNVQlNFQ1RJT04gdGl0bGU9IkNsYXJpZmljYXRpb246IFNlbWljb2xvbnMgYW5kIGZ1bmN0aW9ucyI+CiAgICAgICAgICA8cD5TZW1pY29sb25zIHNob3VsZCBiZSBpbmNsdWRlZCBhdCB0aGUgZW5kIG9mIGZ1bmN0aW9uIGV4cHJlc3Npb25zLAogICAgICAgICAgICBidXQgbm90IGF0IHRoZSBlbmQgb2YgZnVuY3Rpb24gZGVjbGFyYXRpb25zLiBUaGUgZGlzdGluY3Rpb24gaXMKICAgICAgICAgICAgYmVzdCBpbGx1c3RyYXRlZCB3aXRoIGFuIGV4YW1wbGU6PC9wPgogICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgdmFyIGZvbyA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9OyAgLy8gc2VtaWNvbG9uIGhlcmUuCgogICAgICAgICAgICBmdW5jdGlvbiBmb28oKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0gIC8vIG5vIHNlbWljb2xvbiBoZXJlLgogICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgPC9TVUJTRUNUSU9OPgogICAgICA8L0JPRFk+CiAgICA8L1NUWUxFUE9JTlQ+CgogICAgPFNUWUxFUE9JTlQgdGl0bGU9Ik5lc3RlZCBmdW5jdGlvbnMiPgogICAgICA8U1VNTUFSWT5ZZXM8L1NVTU1BUlk+CiAgICAgIDxCT0RZPgogICAgICAgIDxwPk5lc3RlZCBmdW5jdGlvbnMgY2FuIGJlIHZlcnkgdXNlZnVsLCBmb3IgZXhhbXBsZSBpbiB0aGUgY3JlYXRpb24gb2YKICAgICAgICAgIGNvbnRpbnVhdGlvbnMgYW5kIGZvciB0aGUgdGFzayBvZiBoaWRpbmcgaGVscGVyIGZ1bmN0aW9ucy4gRmVlbCBmcmVlCiAgICAgICAgICB0byB1c2UgdGhlbS48L3A+CiAgICAgIDwvQk9EWT4KICAgIDwvU1RZTEVQT0lOVD4KCiAgICA8U1RZTEVQT0lOVCB0aXRsZT0iRnVuY3Rpb24gRGVjbGFyYXRpb25zIFdpdGhpbiBCbG9ja3MiPgogICAgICA8U1VNTUFSWT5ObzwvU1VNTUFSWT4KICAgICAgPEJPRFk+CiAgICAgICAgPHA+RG8gbm90IGRvIHRoaXM6PC9wPgogICAgICAgIDxCQURfQ09ERV9TTklQUEVUPgogICAgICAgICAgaWYgKHgpIHsKICAgICAgICAgICAgZnVuY3Rpb24gZm9vKCkge30KICAgICAgICAgIH0KICAgICAgICA8L0JBRF9DT0RFX1NOSVBQRVQ+CgogICAgICAgIDxwPldoaWxlIG1vc3Qgc2NyaXB0IGVuZ2luZXMgc3VwcG9ydCBGdW5jdGlvbiBEZWNsYXJhdGlvbnMgd2l0aGluIGJsb2NrcwogICAgICAgICAgaXQgaXMgbm90IHBhcnQgb2YgRUNNQVNjcmlwdCAoc2VlCiAgICAgICAgICA8YSBocmVmPSJodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvcHVibGljYXRpb25zL3N0YW5kYXJkcy9FY21hLTI2Mi5odG0iPkVDTUEtMjYyPC9hPiwKICAgICAgICAgIGNsYXVzZSAxMyBhbmQgMTQpLiBXb3JzZSBpbXBsZW1lbnRhdGlvbnMgYXJlIGluY29uc2lzdGVudCB3aXRoIGVhY2gKICAgICAgICAgIG90aGVyIGFuZCB3aXRoIGZ1dHVyZSBFY21hU2NyaXB0IHByb3Bvc2Fscy4gRUNNQVNjcmlwdCBvbmx5IGFsbG93cyBmb3IKICAgICAgICAgIEZ1bmN0aW9uIERlY2xhcmF0aW9ucyBpbiB0aGUgcm9vdCBzdGF0ZW1lbnQgbGlzdCBvZiBhIHNjcmlwdCBvcgogICAgICAgICAgZnVuY3Rpb24uIEluc3RlYWQgdXNlIGEgdmFyaWFibGUgaW5pdGlhbGl6ZWQgd2l0aCBhIEZ1bmN0aW9uCiAgICAgICAgICBFeHByZXNzaW9uIHRvIGRlZmluZSBhIGZ1bmN0aW9uIHdpdGhpbiBhIGJsb2NrOjwvcD4KICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgIGlmICh4KSB7CiAgICAgICAgICAgICB2YXIgZm9vID0gZnVuY3Rpb24oKSB7fTsKICAgICAgICAgICB9CiAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgIDwvQk9EWT4KICAgIDwvU1RZTEVQT0lOVD4KCiAgICA8U1RZTEVQT0lOVCB0aXRsZT0iRXhjZXB0aW9ucyI+CiAgICAgIDxTVU1NQVJZPlllczwvU1VNTUFSWT4KICAgICAgPEJPRFk+CiAgICAgICAgPHA+WW91IGJhc2ljYWxseSBjYW4ndCBhdm9pZCBleGNlcHRpb25zIGlmIHlvdSdyZSBkb2luZyBzb21ldGhpbmcKICAgICAgICAgIG5vbi10cml2aWFsICh1c2luZyBhbiBhcHBsaWNhdGlvbiBkZXZlbG9wbWVudCBmcmFtZXdvcmssIGV0Yy4pLgogICAgICAgICAgR28gZm9yIGl0LjwvcD4KICAgICAgPC9CT0RZPgogICAgPC9TVFlMRVBPSU5UPgoKICAgIDxTVFlMRVBPSU5UIHRpdGxlPSJDdXN0b20gZXhjZXB0aW9ucyI+CiAgICAgIDxTVU1NQVJZPlllczwvU1VNTUFSWT4KICAgICAgPEJPRFk+CiAgICAgICAgPHA+V2l0aG91dCBjdXN0b20gZXhjZXB0aW9ucywgcmV0dXJuaW5nIGVycm9yIGluZm9ybWF0aW9uIGZyb20gYQogICAgICAgICAgZnVuY3Rpb24gdGhhdCBhbHNvIHJldHVybnMgYSB2YWx1ZSBjYW4gYmUgdHJpY2t5LCBub3QgdG8gbWVudGlvbgogICAgICAgICAgaW5lbGVnYW50LiAgQmFkIHNvbHV0aW9ucyBpbmNsdWRlIHBhc3NpbmcgaW4gYSByZWZlcmVuY2UgdHlwZSB0byBob2xkCiAgICAgICAgICBlcnJvciBpbmZvcm1hdGlvbiBvciBhbHdheXMgcmV0dXJuaW5nIE9iamVjdHMgd2l0aCBhIHBvdGVudGlhbAogICAgICAgICAgZXJyb3IgbWVtYmVyLiAgVGhlc2UgYmFzaWNhbGx5IGFtb3VudCB0byBhIHByaW1pdGl2ZSBleGNlcHRpb24KICAgICAgICAgIGhhbmRsaW5nIGhhY2suIEZlZWwgZnJlZSB0byB1c2UgY3VzdG9tIGV4Y2VwdGlvbnMgd2hlbgogICAgICAgICAgYXBwcm9wcmlhdGUuPC9wPgogICAgICA8L0JPRFk+CiAgICA8L1NUWUxFUE9JTlQ+CgogICAgPFNUWUxFUE9JTlQgdGl0bGU9IlN0YW5kYXJkcyBmZWF0dXJlcyI+CiAgICAgIDxTVU1NQVJZPkFsd2F5cyBwcmVmZXJyZWQgb3ZlciBub24tc3RhbmRhcmRzIGZlYXR1cmVzPC9TVU1NQVJZPgogICAgICA8Qk9EWT4KICAgICAgICA8cD5Gb3IgbWF4aW11bSBwb3J0YWJpbGl0eSBhbmQgY29tcGF0aWJpbGl0eSwgYWx3YXlzIHByZWZlciBzdGFuZGFyZHMKICAgICAgICAgIGZlYXR1cmVzIG92ZXIgbm9uLXN0YW5kYXJkcyBmZWF0dXJlcyAoZS5nLiwKICAgICAgICAgIDxjb2RlPnN0cmluZy5jaGFyQXQoMyk8L2NvZGU+IG92ZXIgPGNvZGU+c3RyaW5nWzNdPC9jb2RlPiBhbmQgZWxlbWVudAogICAgICAgICAgYWNjZXNzIHdpdGggRE9NIGZ1bmN0aW9ucyBpbnN0ZWFkIG9mIHVzaW5nIGFuIGFwcGxpY2F0aW9uLXNwZWNpZmljCiAgICAgICAgICBzaG9ydGhhbmQpLjwvcD4KICAgICAgPC9CT0RZPgogICAgPC9TVFlMRVBPSU5UPgoKICAgIDxTVFlMRVBPSU5UIHRpdGxlPSJXcmFwcGVyIG9iamVjdHMgZm9yIHByaW1pdGl2ZSB0eXBlcyI+CiAgICAgIDxTVU1NQVJZPk5vPC9TVU1NQVJZPgogICAgICA8Qk9EWT4KICAgICAgICA8cD5UaGVyZSdzIG5vIHJlYXNvbiB0byB1c2Ugd3JhcHBlciBvYmplY3RzIGZvciBwcmltaXRpdmUgdHlwZXMsIHBsdXMKICAgICAgICAgIHRoZXkncmUgZGFuZ2Vyb3VzOjwvcD4KICAgICAgICA8QkFEX0NPREVfU05JUFBFVD4KICAgICAgICAgIHZhciB4ID0gbmV3IEJvb2xlYW4oZmFsc2UpOwogICAgICAgICAgaWYgKHgpIHsKICAgICAgICAgICAgYWxlcnQoJ2hpJyk7ICAvLyBTaG93cyAnaGknLgogICAgICAgICAgfQogICAgICAgIDwvQkFEX0NPREVfU05JUFBFVD4KICAgICAgICA8cD5Eb24ndCBkbyBpdCE8L3A+CiAgICAgICAgPHA+SG93ZXZlciB0eXBlIGNhc3RpbmcgaXMgZmluZS48L3A+CiAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgIHZhciB4ID0gQm9vbGVhbigwKTsKICAgICAgICAgIGlmICh4KSB7CiAgICAgICAgICAgIGFsZXJ0KCdoaScpOyAgLy8gVGhpcyB3aWxsIG5ldmVyIGJlIGFsZXJ0ZWQuCiAgICAgICAgICB9CiAgICAgICAgICB0eXBlb2YgQm9vbGVhbigwKSA9PSAnYm9vbGVhbic7CiAgICAgICAgICB0eXBlb2YgbmV3IEJvb2xlYW4oMCkgPT0gJ29iamVjdCc7CiAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgPHA+VGhpcyBpcyB2ZXJ5IHVzZWZ1bCBmb3IgY2FzdGluZyB0aGluZ3MgdG8KICAgICAgICAgIDxjb2RlPm51bWJlcjwvY29kZT4sIDxjb2RlPnN0cmluZzwvY29kZT4gYW5kIDxjb2RlPmJvb2xlYW48L2NvZGU+LjwvcD4KICAgICAgPC9CT0RZPgogICAgPC9TVFlMRVBPSU5UPgoKICAgIDxTVFlMRVBPSU5UIHRpdGxlPSJNdWx0aS1sZXZlbCBwcm90b3R5cGUgaGllcmFyY2hpZXMiPgogICAgICA8U1VNTUFSWT5Ob3QgcHJlZmVycmVkPC9TVU1NQVJZPgogICAgICA8Qk9EWT4KICAgICAgICA8cD5NdWx0aS1sZXZlbCBwcm90b3R5cGUgaGllcmFyY2hpZXMgYXJlIGhvdyBKYXZhU2NyaXB0IGltcGxlbWVudHMKICAgICAgICAgIGluaGVyaXRhbmNlLiBZb3UgaGF2ZSBhIG11bHRpLWxldmVsIGhpZXJhcmNoeSBpZiB5b3UgaGF2ZSBhCiAgICAgICAgICB1c2VyLWRlZmluZWQgY2xhc3MgRCB3aXRoIGFub3RoZXIgdXNlci1kZWZpbmVkIGNsYXNzIEIgYXMgaXRzCiAgICAgICAgICBwcm90b3R5cGUuIFRoZXNlIGhpZXJhcmNoaWVzIGFyZSBtdWNoIGhhcmRlciB0byBnZXQgcmlnaHQgdGhhbiB0aGV5CiAgICAgICAgICBmaXJzdCBhcHBlYXIhIDwvcD4KCiAgICAgICAgPHA+Rm9yIHRoYXQgcmVhc29uLCBpdCBpcyBiZXN0IHRvIHVzZSA8Y29kZT5nb29nLmluaGVyaXRzKCk8L2NvZGU+IGZyb20KICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vY29kZS5nb29nbGUuY29tL2Nsb3N1cmUvbGlicmFyeS8iPgogICAgICAgICAgICB0aGUgQ2xvc3VyZSBMaWJyYXJ5CiAgICAgICAgICA8L2E+CiAgICAgICAgICBvciBhIHNpbWlsYXIgbGlicmFyeSBmdW5jdGlvbi4KICAgICAgICA8L3A+CiAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgIGZ1bmN0aW9uIEQoKSB7CiAgICAgICAgICAgIGdvb2cuYmFzZSh0aGlzKQogICAgICAgICAgfQogICAgICAgICAgZ29vZy5pbmhlcml0cyhELCBCKTsKCiAgICAgICAgICBELnByb3RvdHlwZS5tZXRob2QgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgLi4uCiAgICAgICAgICB9OwogICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICA8L0JPRFk+CiAgICA8L1NUWUxFUE9JTlQ+CgogICAgPFNUWUxFUE9JTlQgdGl0bGU9Ik1ldGhvZCBhbmQgcHJvcGVydHkgZGVmaW5pdGlvbnMiPgogICAgICA8U1VNTUFSWT48Y29kZT4vKiogQGNvbnN0cnVjdG9yICovCiAgICAgICAgZnVuY3Rpb24gU29tZUNvbnN0cnVjdG9yKCkgewogICAgICAgICAgdGhpcy5zb21lUHJvcGVydHkgPSAxOwogICAgICAgIH0KICAgICAgICBGb28ucHJvdG90eXBlLnNvbWVNZXRob2QgPSBmdW5jdGlvbigpIHsgLi4uIH07PC9jb2RlPjwvU1VNTUFSWT4KICAgICAgPEJPRFk+CiAgICAgICAgPHA+V2hpbGUgdGhlcmUgYXJlIHNldmVyYWwgd2F5cyB0byBhdHRhY2ggbWV0aG9kcyBhbmQgcHJvcGVydGllcyB0byBhbgogICAgICAgICAgb2JqZWN0IGNyZWF0ZWQgdmlhICJuZXciLCB0aGUgcHJlZmVycmVkIHN0eWxlIGZvciBtZXRob2RzCiAgICAgICAgICBpczo8L3A+CiAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgIEZvby5wcm90b3R5cGUuYmFyID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIC8qIC4uLiAqLwogICAgICAgICAgfTsKICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICA8cD5UaGUgcHJlZmVycmVkIHN0eWxlIGZvciBvdGhlciBwcm9wZXJ0aWVzIGlzIHRvIGluaXRpYWxpemUgdGhlIGZpZWxkCiAgICAgICAgICBpbiB0aGUgY29uc3RydWN0b3I6PC9wPgogICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAvKiogQGNvbnN0cnVjdG9yICovCiAgICAgICAgICBmdW5jdGlvbiBGb28oKSB7CiAgICAgICAgICAgIHRoaXMuYmFyID0gdmFsdWU7CiAgICAgICAgICB9CiAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgPFNVQlNFQ1RJT04gdGl0bGU9IldoeT8iPgogICAgICAgICAgPHA+Q3VycmVudCBKYXZhU2NyaXB0IGVuZ2luZXMgb3B0aW1pemUgYmFzZWQgb24gdGhlICJzaGFwZSIKICAgICAgICAgICAgb2YgYW4gb2JqZWN0LCA8YSBocmVmPSJodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS92OC9kZXNpZ24jcHJvcF9hY2Nlc3MiPgogICAgICAgICAgICBhZGRpbmcgYSBwcm9wZXJ0eSB0byBhbiBvYmplY3QgKGluY2x1ZGluZyBvdmVycmlkaW5nCiAgICAgICAgICAgIGEgdmFsdWUgc2V0IG9uIHRoZSBwcm90b3R5cGUpIGNoYW5nZXMgdGhlIHNoYXBlIGFuZCBjYW4gZGVncmFkZQogICAgICAgICAgICBwZXJmb3JtYW5jZS48L2E+PC9wPgogICAgICAgIDwvU1VCU0VDVElPTj4KICAgICAgPC9CT0RZPgogICAgPC9TVFlMRVBPSU5UPgoKICAgIDxTVFlMRVBPSU5UIHRpdGxlPSJkZWxldGUiPgogICAgICA8U1VNTUFSWT5QcmVmZXIgPGNvZGU+dGhpcy5mb28gPSBudWxsPC9jb2RlPi48L1NVTU1BUlk+CiAgICAgIDxCT0RZPgogICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICBGb28ucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eV8gPSBudWxsOwogICAgICAgICAgfTsKICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICA8cD5JbnN0ZWFkIG9mOjwvcD4KICAgICAgICA8QkFEX0NPREVfU05JUFBFVD4KICAgICAgICAgIEZvby5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBkZWxldGUgdGhpcy5wcm9wZXJ0eV87CiAgICAgICAgICB9OwogICAgICAgIDwvQkFEX0NPREVfU05JUFBFVD4KICAgICAgICA8cD5JbiBtb2Rlcm4gSmF2YVNjcmlwdCBlbmdpbmVzLCBjaGFuZ2luZyB0aGUgbnVtYmVyIG9mIHByb3BlcnRpZXMgb24gYW4KICAgICAgICAgIG9iamVjdCBpcyBtdWNoIHNsb3dlciB0aGFuIHJlYXNzaWduaW5nIHRoZSB2YWx1ZXMuIFRoZSBkZWxldGUga2V5d29yZAogICAgICAgICAgc2hvdWxkIGJlIGF2b2lkZWQgZXhjZXB0IHdoZW4gaXQgaXMgbmVjZXNzYXJ5IHRvIHJlbW92ZSBhIHByb3BlcnR5CiAgICAgICAgICBmcm9tIGFuIG9iamVjdCdzIGl0ZXJhdGVkIGxpc3Qgb2Yga2V5cywgb3IgdG8gY2hhbmdlIHRoZSByZXN1bHQgb2YKICAgICAgICAgIDxjb2RlPmlmIChrZXkgaW4gb2JqKTwvY29kZT4uPC9wPgogICAgICA8L0JPRFk+CiAgICA8L1NUWUxFUE9JTlQ+CgogICAgPFNUWUxFUE9JTlQgdGl0bGU9IkNsb3N1cmVzIj4KICAgICAgPFNVTU1BUlk+WWVzLCBidXQgYmUgY2FyZWZ1bC48L1NVTU1BUlk+CiAgICAgIDxCT0RZPgogICAgICAgIDxwPlRoZSBhYmlsaXR5IHRvIGNyZWF0ZSBjbG9zdXJlcyBpcyBwZXJoYXBzIHRoZSBtb3N0IHVzZWZ1bCBhbmQgb2Z0ZW4KICAgICAgICAgIG92ZXJsb29rZWQgZmVhdHVyZSBvZiBKUy4gSGVyZSBpcwogICAgICAgICAgPGEgaHJlZj0iaHR0cDovL2ppYmJlcmluZy5jb20vZmFxL2ZhcV9ub3Rlcy9jbG9zdXJlcy5odG1sIj4KICAgICAgICAgICAgYSBnb29kIGRlc2NyaXB0aW9uIG9mIGhvdyBjbG9zdXJlcyB3b3JrPC9hPi48L3A+CiAgICAgICAgPHA+T25lIHRoaW5nIHRvIGtlZXAgaW4gbWluZCwgaG93ZXZlciwgaXMgdGhhdCBhIGNsb3N1cmUga2VlcHMgYSBwb2ludGVyCiAgICAgICAgICB0byBpdHMgZW5jbG9zaW5nIHNjb3BlLiBBcyBhIHJlc3VsdCwgYXR0YWNoaW5nIGEgY2xvc3VyZSB0byBhIERPTQogICAgICAgICAgZWxlbWVudCBjYW4gY3JlYXRlIGEgY2lyY3VsYXIgcmVmZXJlbmNlIGFuZCB0aHVzLCBhIG1lbW9yeSBsZWFrLiBGb3IKICAgICAgICAgIGV4YW1wbGUsIGluIHRoZSBmb2xsb3dpbmcgY29kZTo8L3A+CiAgICAgICAgPEJBRF9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICBmdW5jdGlvbiBmb28oZWxlbWVudCwgYSwgYikgewogICAgICAgICAgICBlbGVtZW50Lm9uY2xpY2sgPSBmdW5jdGlvbigpIHsgLyogdXNlcyBhIGFuZCBiICovIH07CiAgICAgICAgICB9CiAgICAgICAgPC9CQURfQ09ERV9TTklQUEVUPgogICAgICAgIDxwPnRoZSBmdW5jdGlvbiBjbG9zdXJlIGtlZXBzIGEgcmVmZXJlbmNlIHRvIDxjb2RlPmVsZW1lbnQ8L2NvZGU+LAogICAgICAgICAgPGNvZGU+YTwvY29kZT4sIGFuZCA8Y29kZT5iPC9jb2RlPiBldmVuIGlmIGl0IG5ldmVyIHVzZXMKICAgICAgICAgIDxjb2RlPmVsZW1lbnQ8L2NvZGU+LiBTaW5jZSA8Y29kZT5lbGVtZW50PC9jb2RlPiBhbHNvIGtlZXBzIGEKICAgICAgICAgIHJlZmVyZW5jZSB0byB0aGUgY2xvc3VyZSwgd2UgaGF2ZSBhIGN5Y2xlIHRoYXQgd29uJ3QgYmUgY2xlYW5lZCB1cCBieQogICAgICAgICAgZ2FyYmFnZSBjb2xsZWN0aW9uLiBJbiB0aGVzZSBzaXR1YXRpb25zLCB0aGUgY29kZSBjYW4gYmUgc3RydWN0dXJlZAogICAgICAgICAgYXMgZm9sbG93czo8L3A+CiAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgIGZ1bmN0aW9uIGZvbyhlbGVtZW50LCBhLCBiKSB7CiAgICAgICAgICAgIGVsZW1lbnQub25jbGljayA9IGJhcihhLCBiKTsKICAgICAgICAgIH0KCiAgICAgICAgICBmdW5jdGlvbiBiYXIoYSwgYikgewogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7IC8qIHVzZXMgYSBhbmQgYiAqLyB9OwogICAgICAgICAgfQogICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICA8L0JPRFk+CiAgICA8L1NUWUxFUE9JTlQ+CgogICAgPFNUWUxFUE9JTlQgdGl0bGU9ImV2YWwoKSI+CiAgICAgIDxTVU1NQVJZPgogICAgICAgIE9ubHkgZm9yIGNvZGUgbG9hZGVycyBhbmQgUkVQTCAoUmVhZOKAk2V2YWzigJNwcmludCBsb29wKQogICAgICA8L1NVTU1BUlk+CiAgICAgIDxCT0RZPgogICAgICAgIDxwPjxjb2RlPmV2YWwoKTwvY29kZT4gbWFrZXMgZm9yIGNvbmZ1c2luZyBzZW1hbnRpY3MgYW5kIGlzIGRhbmdlcm91cwogICAgICAgICAgdG8gdXNlIGlmIHRoZSBzdHJpbmcgYmVpbmcgPGNvZGU+ZXZhbCgpPC9jb2RlPidkIGNvbnRhaW5zIHVzZXIgaW5wdXQuCiAgICAgICAgICBUaGVyZSdzIHVzdWFsbHkgYSBiZXR0ZXIsIGNsZWFyZXIsIGFuZCBzYWZlciB3YXkgdG8gd3JpdGUgeW91ciBjb2RlLAogICAgICAgICAgc28gaXRzIHVzZSBpcyBnZW5lcmFsbHkgbm90IHBlcm1pdHRlZC48L3A+CgogICAgICAgIDxwPkZvciBSUEMgeW91IGNhbiBhbHdheXMgdXNlIEpTT04gYW5kIHJlYWQgdGhlIHJlc3VsdCB1c2luZwogICAgICAgICAgPGNvZGU+SlNPTi5wYXJzZSgpPC9jb2RlPiBpbnN0ZWFkIG9mIDxjb2RlPmV2YWwoKTwvY29kZT4uPC9wPgoKICAgICAgICA8cD5MZXQncyBhc3N1bWUgd2UgaGF2ZSBhIHNlcnZlciB0aGF0IHJldHVybnMgc29tZXRoaW5nIGxpa2UgdGhpczo8L3A+CgogICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICB7CiAgICAgICAgICAgICJuYW1lIjogIkFsaWNlIiwKICAgICAgICAgICAgImlkIjogMzE1MDIsCiAgICAgICAgICAgICJlbWFpbCI6ICJsb29raW5nX2dsYXNzQGV4YW1wbGUuY29tIgogICAgICAgICAgfQogICAgICAgIDwvQ09ERV9TTklQUEVUPgoKICAgICAgICA8QkFEX0NPREVfU05JUFBFVD4KICAgICAgICAgIHZhciB1c2VySW5mbyA9IGV2YWwoZmVlZCk7CiAgICAgICAgICB2YXIgZW1haWwgPSB1c2VySW5mb1snZW1haWwnXTsKICAgICAgICA8L0JBRF9DT0RFX1NOSVBQRVQ+CgogICAgICAgIDxwPklmIHRoZSBmZWVkIHdhcyBtb2RpZmllZCB0byBpbmNsdWRlIG1hbGljaW91cyBKYXZhU2NyaXB0IGNvZGUsIHRoZW4KICAgICAgICAgIGlmIHdlIHVzZSA8Y29kZT5ldmFsPC9jb2RlPiB0aGVuIHRoYXQgY29kZSB3aWxsIGJlIGV4ZWN1dGVkLjwvcD4KCiAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgIHZhciB1c2VySW5mbyA9IEpTT04ucGFyc2UoZmVlZCk7CiAgICAgICAgICB2YXIgZW1haWwgPSB1c2VySW5mb1snZW1haWwnXTsKICAgICAgICA8L0NPREVfU05JUFBFVD4KCiAgICAgICAgPHA+V2l0aCA8Y29kZT5KU09OLnBhcnNlPC9jb2RlPiwgaW52YWxpZCBKU09OIChpbmNsdWRpbmcgYWxsIGV4ZWN1dGFibGUKICAgICAgICAgIEphdmFTY3JpcHQpIHdpbGwgY2F1c2UgYW4gZXhjZXB0aW9uIHRvIGJlIHRocm93bi48L3A+CgogICAgICA8L0JPRFk+CiAgICA8L1NUWUxFUE9JTlQ+CgogICAgPFNUWUxFUE9JTlQgdGl0bGU9IndpdGgoKSB7fSI+CiAgICAgIDxTVU1NQVJZPk5vPC9TVU1NQVJZPgogICAgICA8Qk9EWT4KICAgICAgICA8cD5Vc2luZyA8Y29kZT53aXRoPC9jb2RlPiBjbG91ZHMgdGhlIHNlbWFudGljcyBvZiB5b3VyIHByb2dyYW0uCiAgICAgICAgICBCZWNhdXNlIHRoZSBvYmplY3Qgb2YgdGhlIDxjb2RlPndpdGg8L2NvZGU+IGNhbiBoYXZlIHByb3BlcnRpZXMgdGhhdAogICAgICAgICAgY29sbGlkZSB3aXRoIGxvY2FsIHZhcmlhYmxlcywgaXQgY2FuIGRyYXN0aWNhbGx5IGNoYW5nZSB0aGUgbWVhbmluZwogICAgICAgICAgb2YgeW91ciBwcm9ncmFtLiBGb3IgZXhhbXBsZSwgd2hhdCBkb2VzIHRoaXMgZG8/PC9wPgogICAgICAgIDxCQURfQ09ERV9TTklQUEVUPgogICAgICAgICAgd2l0aCAoZm9vKSB7CiAgICAgICAgICAgIHZhciB4ID0gMzsKICAgICAgICAgICAgcmV0dXJuIHg7CiAgICAgICAgICB9CiAgICAgICAgPC9CQURfQ09ERV9TTklQUEVUPgogICAgICAgIDxwPkFuc3dlcjogYW55dGhpbmcuIFRoZSBsb2NhbCB2YXJpYWJsZSA8Y29kZT54PC9jb2RlPiBjb3VsZCBiZQogICAgICAgICAgY2xvYmJlcmVkIGJ5IGEgcHJvcGVydHkgb2YgPGNvZGU+Zm9vPC9jb2RlPiBhbmQgcGVyaGFwcyBpdCBldmVuIGhhcwogICAgICAgICAgYSBzZXR0ZXIsIGluIHdoaWNoIGNhc2UgYXNzaWduaW5nIDxjb2RlPjM8L2NvZGU+IGNvdWxkIGNhdXNlIGxvdHMgb2YKICAgICAgICAgIG90aGVyIGNvZGUgdG8gZXhlY3V0ZS4gRG9uJ3QgdXNlIDxjb2RlPndpdGg8L2NvZGU+LjwvcD4KICAgICAgPC9CT0RZPgogICAgPC9TVFlMRVBPSU5UPgoKICAgIDxTVFlMRVBPSU5UIHRpdGxlPSJ0aGlzIj4KICAgICAgPFNVTU1BUlk+CiAgICAgICAgT25seSBpbiBvYmplY3QgY29uc3RydWN0b3JzLCBtZXRob2RzLCBhbmQgaW4gc2V0dGluZyB1cCBjbG9zdXJlcwogICAgICA8L1NVTU1BUlk+CiAgICAgIDxCT0RZPgogICAgICAgIDxwPlRoZSBzZW1hbnRpY3Mgb2YgPGNvZGU+dGhpczwvY29kZT4gY2FuIGJlIHRyaWNreS4gQXQgdGltZXMgaXQgcmVmZXJzCiAgICAgICAgICB0byB0aGUgZ2xvYmFsIG9iamVjdCAoaW4gbW9zdCBwbGFjZXMpLCB0aGUgc2NvcGUgb2YgdGhlIGNhbGxlciAoaW4KICAgICAgICAgIDxjb2RlPmV2YWw8L2NvZGU+KSwgYSBub2RlIGluIHRoZSBET00gdHJlZSAod2hlbiBhdHRhY2hlZCB1c2luZyBhbgogICAgICAgICAgZXZlbnQgaGFuZGxlciBIVE1MIGF0dHJpYnV0ZSksIGEgbmV3bHkgY3JlYXRlZCBvYmplY3QgKGluIGEKICAgICAgICAgIGNvbnN0cnVjdG9yKSwgb3Igc29tZSBvdGhlciBvYmplY3QgKGlmIGZ1bmN0aW9uIHdhcwogICAgICAgICAgPGNvZGU+Y2FsbCgpPC9jb2RlPmVkIG9yIDxjb2RlPmFwcGx5KCk8L2NvZGU+ZWQpLjwvcD4KICAgICAgICA8cD5CZWNhdXNlIHRoaXMgaXMgc28gZWFzeSB0byBnZXQgd3JvbmcsIGxpbWl0IGl0cyB1c2UgdG8gdGhvc2UgcGxhY2VzCiAgICAgICAgICB3aGVyZSBpdCBpcyByZXF1aXJlZDo8L3A+CiAgICAgICAgPHVsPgogICAgICAgICAgPGxpPmluIGNvbnN0cnVjdG9yczwvbGk+CiAgICAgICAgICA8bGk+aW4gbWV0aG9kcyBvZiBvYmplY3RzIChpbmNsdWRpbmcgaW4gdGhlIGNyZWF0aW9uIG9mIGNsb3N1cmVzKTwvbGk+CiAgICAgICAgPC91bD4KICAgICAgPC9CT0RZPgogICAgPC9TVFlMRVBPSU5UPgoKICAgIDxTVFlMRVBPSU5UIHRpdGxlPSJmb3ItaW4gbG9vcCI+CiAgICAgIDxTVU1NQVJZPgogICAgICAgIE9ubHkgZm9yIGl0ZXJhdGluZyBvdmVyIGtleXMgaW4gYW4gb2JqZWN0L21hcC9oYXNoCiAgICAgIDwvU1VNTUFSWT4KICAgICAgPEJPRFk+CiAgICAgICAgPHA+PGNvZGU+Zm9yLWluPC9jb2RlPiBsb29wcyBhcmUgb2Z0ZW4gaW5jb3JyZWN0bHkgdXNlZCB0byBsb29wIG92ZXIKICAgICAgICAgIHRoZSBlbGVtZW50cyBpbiBhbiA8Y29kZT5BcnJheTwvY29kZT4uIFRoaXMgaXMgaG93ZXZlciB2ZXJ5IGVycm9yCiAgICAgICAgICBwcm9uZSBiZWNhdXNlIGl0IGRvZXMgbm90IGxvb3AgZnJvbSA8Y29kZT4wPC9jb2RlPiB0bwogICAgICAgICAgPGNvZGU+bGVuZ3RoIC0gMTwvY29kZT4gYnV0IG92ZXIgYWxsIHRoZSBwcmVzZW50IGtleXMgaW4gdGhlIG9iamVjdAogICAgICAgICAgYW5kIGl0cyBwcm90b3R5cGUgY2hhaW4uIEhlcmUgYXJlIGEgZmV3IGNhc2VzIHdoZXJlIGl0IGZhaWxzOjwvcD4KICAgICAgICA8QkFEX0NPREVfU05JUFBFVD4KICAgICAgICAgIGZ1bmN0aW9uIHByaW50QXJyYXkoYXJyKSB7CiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBhcnIpIHsKICAgICAgICAgICAgICBwcmludChhcnJba2V5XSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBwcmludEFycmF5KFswLDEsMiwzXSk7ICAvLyBUaGlzIHdvcmtzLgoKICAgICAgICAgIHZhciBhID0gbmV3IEFycmF5KDEwKTsKICAgICAgICAgIHByaW50QXJyYXkoYSk7ICAvLyBUaGlzIGlzIHdyb25nLgoKICAgICAgICAgIGEgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnKicpOwogICAgICAgICAgcHJpbnRBcnJheShhKTsgIC8vIFRoaXMgaXMgd3JvbmcuCgogICAgICAgICAgYSA9IFswLDEsMiwzXTsKICAgICAgICAgIGEuYnVodSA9ICd3aW5lJzsKICAgICAgICAgIHByaW50QXJyYXkoYSk7ICAvLyBUaGlzIGlzIHdyb25nIGFnYWluLgoKICAgICAgICAgIGEgPSBuZXcgQXJyYXk7CiAgICAgICAgICBhWzNdID0gMzsKICAgICAgICAgIHByaW50QXJyYXkoYSk7ICAvLyBUaGlzIGlzIHdyb25nIGFnYWluLgogICAgICAgIDwvQkFEX0NPREVfU05JUFBFVD4KICAgICAgICA8cD5BbHdheXMgdXNlIG5vcm1hbCBmb3IgbG9vcHMgd2hlbiB1c2luZyBhcnJheXMuPC9wPgogICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICBmdW5jdGlvbiBwcmludEFycmF5KGFycikgewogICAgICAgICAgICB2YXIgbCA9IGFyci5sZW5ndGg7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpICZsdDsgbDsgaSsrKSB7CiAgICAgICAgICAgICAgcHJpbnQoYXJyW2ldKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICA8L0JPRFk+CiAgICA8L1NUWUxFUE9JTlQ+CgogICAgPFNUWUxFUE9JTlQgdGl0bGU9IkFzc29jaWF0aXZlIEFycmF5cyI+CiAgICAgIDxTVU1NQVJZPgogICAgICAgIE5ldmVyIHVzZSA8Y29kZT5BcnJheTwvY29kZT4gYXMgYSBtYXAvaGFzaC9hc3NvY2lhdGl2ZSBhcnJheQogICAgICA8L1NVTU1BUlk+CiAgICAgIDxCT0RZPgogICAgICAgIDxwPkFzc29jaWF0aXZlIDxjb2RlPkFycmF5PC9jb2RlPnMgYXJlIG5vdCBhbGxvd2VkLi4uIG9yIG1vcmUgcHJlY2lzZWx5CiAgICAgICAgICB5b3UgYXJlIG5vdCBhbGxvd2VkIHRvIHVzZSBub24gbnVtYmVyIGluZGV4ZXMgZm9yIGFycmF5cy4gSWYgeW91IG5lZWQKICAgICAgICAgIGEgbWFwL2hhc2ggdXNlIDxjb2RlPk9iamVjdDwvY29kZT4gaW5zdGVhZCBvZiA8Y29kZT5BcnJheTwvY29kZT4gaW4KICAgICAgICAgIHRoZXNlIGNhc2VzIGJlY2F1c2UgdGhlIGZlYXR1cmVzIHRoYXQgeW91IHdhbnQgYXJlIGFjdHVhbGx5IGZlYXR1cmVzCiAgICAgICAgICBvZiA8Y29kZT5PYmplY3Q8L2NvZGU+IGFuZCBub3Qgb2YgPGNvZGU+QXJyYXk8L2NvZGU+LgogICAgICAgICAgPGNvZGU+QXJyYXk8L2NvZGU+IGp1c3QgaGFwcGVucyB0byBleHRlbmQgPGNvZGU+T2JqZWN0PC9jb2RlPiAobGlrZQogICAgICAgICAgYW55IG90aGVyIG9iamVjdCBpbiBKUyBhbmQgdGhlcmVmb3JlIHlvdSBtaWdodCBhcyB3ZWxsIGhhdmUgdXNlZAogICAgICAgICAgPGNvZGU+RGF0ZTwvY29kZT4sIDxjb2RlPlJlZ0V4cDwvY29kZT4gb3IgPGNvZGU+U3RyaW5nPC9jb2RlPikuPC9wPgogICAgICA8L0JPRFk+CiAgICA8L1NUWUxFUE9JTlQ+CgogICAgPFNUWUxFUE9JTlQgdGl0bGU9Ik11bHRpbGluZSBzdHJpbmcgbGl0ZXJhbHMiPgogICAgICA8U1VNTUFSWT5ObzwvU1VNTUFSWT4KICAgICAgPEJPRFk+CiAgICAgICAgPHA+RG8gbm90IGRvIHRoaXM6PC9wPgogICAgICAgIDxCQURfQ09ERV9TTklQUEVUPgogICAgICAgICAgdmFyIG15U3RyaW5nID0gJ0EgcmF0aGVyIGxvbmcgc3RyaW5nIG9mIEVuZ2xpc2ggdGV4dCwgYW4gZXJyb3IgbWVzc2FnZSBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsbHkgdGhhdCBqdXN0IGtlZXBzIGdvaW5nIGFuZCBnb2luZyAtLSBhbiBlcnJvciBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSB0byBtYWtlIHRoZSBFbmVyZ2l6ZXIgYnVubnkgYmx1c2ggKHJpZ2h0IHRocm91Z2ggXAogICAgICAgICAgICAgICAgICAgICAgICAgIHRob3NlIFNjaHdhcnplbmVnZ2VyIHNoYWRlcykhIFdoZXJlIHdhcyBJPyBPaCB5ZXMsIFwKICAgICAgICAgICAgICAgICAgICAgICAgICB5b3VcJ3ZlIGdvdCBhbiBlcnJvciBhbmQgYWxsIHRoZSBleHRyYW5lb3VzIHdoaXRlc3BhY2UgaXMgXAogICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3QgZ3JhdnkuICBIYXZlIGEgbmljZSBkYXkuJzsKICAgICAgICA8L0JBRF9DT0RFX1NOSVBQRVQ+CiAgICAgICAgPHA+VGhlIHdoaXRlc3BhY2UgYXQgdGhlIGJlZ2lubmluZyBvZiBlYWNoIGxpbmUgY2FuJ3QgYmUgc2FmZWx5IHN0cmlwcGVkCiAgICAgICAgICBhdCBjb21waWxlIHRpbWU7IHdoaXRlc3BhY2UgYWZ0ZXIgdGhlIHNsYXNoIHdpbGwgcmVzdWx0IGluIHRyaWNreQogICAgICAgICAgZXJyb3JzLiA8L3A+CiAgICAgICAgPHA+VXNlIHN0cmluZyBjb25jYXRlbmF0aW9uIGluc3RlYWQ6PC9wPgogICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICB2YXIgbXlTdHJpbmcgPSAnQSByYXRoZXIgbG9uZyBzdHJpbmcgb2YgRW5nbGlzaCB0ZXh0LCBhbiBlcnJvciBtZXNzYWdlICcgKwogICAgICAgICAgICAgICdhY3R1YWxseSB0aGF0IGp1c3Qga2VlcHMgZ29pbmcgYW5kIGdvaW5nIC0tIGFuIGVycm9yICcgKwogICAgICAgICAgICAgICdtZXNzYWdlIHRvIG1ha2UgdGhlIEVuZXJnaXplciBidW5ueSBibHVzaCAocmlnaHQgdGhyb3VnaCAnICsKICAgICAgICAgICAgICAndGhvc2UgU2Nod2FyemVuZWdnZXIgc2hhZGVzKSEgV2hlcmUgd2FzIEk/IE9oIHllcywgJyArCiAgICAgICAgICAgICAgJ3lvdVwndmUgZ290IGFuIGVycm9yIGFuZCBhbGwgdGhlIGV4dHJhbmVvdXMgd2hpdGVzcGFjZSBpcyAnICsKICAgICAgICAgICAgICAnanVzdCBncmF2eS4gIEhhdmUgYSBuaWNlIGRheS4nOwogICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICA8L0JPRFk+CiAgICA8L1NUWUxFUE9JTlQ+CgogICAgPFNUWUxFUE9JTlQgdGl0bGU9IkFycmF5IGFuZCBPYmplY3QgbGl0ZXJhbHMiPgogICAgICA8U1VNTUFSWT5ZZXM8L1NVTU1BUlk+CiAgICAgIDxCT0RZPgogICAgICAgIDxwPlVzZSA8Y29kZT5BcnJheTwvY29kZT4gYW5kIDxjb2RlPk9iamVjdDwvY29kZT4gbGl0ZXJhbHMgaW5zdGVhZCBvZgogICAgICAgICAgPGNvZGU+QXJyYXk8L2NvZGU+IGFuZCA8Y29kZT5PYmplY3Q8L2NvZGU+IGNvbnN0cnVjdG9ycy48L3A+CiAgICAgICAgPHA+QXJyYXkgY29uc3RydWN0b3JzIGFyZSBlcnJvci1wcm9uZSBkdWUgdG8gdGhlaXIgYXJndW1lbnRzLjwvcD4KICAgICAgICA8QkFEX0NPREVfU05JUFBFVD4KICAgICAgICAgIC8vIExlbmd0aCBpcyAzLgogICAgICAgICAgdmFyIGExID0gbmV3IEFycmF5KHgxLCB4MiwgeDMpOwoKICAgICAgICAgIC8vIExlbmd0aCBpcyAyLgogICAgICAgICAgdmFyIGEyID0gbmV3IEFycmF5KHgxLCB4Mik7CgogICAgICAgICAgLy8gSWYgeDEgaXMgYSBudW1iZXIgYW5kIGl0IGlzIGEgbmF0dXJhbCBudW1iZXIgdGhlIGxlbmd0aCB3aWxsIGJlIHgxLgogICAgICAgICAgLy8gSWYgeDEgaXMgYSBudW1iZXIgYnV0IG5vdCBhIG5hdHVyYWwgbnVtYmVyIHRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24uCiAgICAgICAgICAvLyBPdGhlcndpc2UgdGhlIGFycmF5IHdpbGwgaGF2ZSBvbmUgZWxlbWVudCB3aXRoIHgxIGFzIGl0cyB2YWx1ZS4KICAgICAgICAgIHZhciBhMyA9IG5ldyBBcnJheSh4MSk7CgogICAgICAgICAgLy8gTGVuZ3RoIGlzIDAuCiAgICAgICAgICB2YXIgYTQgPSBuZXcgQXJyYXkoKTsKICAgICAgICA8L0JBRF9DT0RFX1NOSVBQRVQ+CiAgICAgICAgPHA+QmVjYXVzZSBvZiB0aGlzLCBpZiBzb21lb25lIGNoYW5nZXMgdGhlIGNvZGUgdG8gcGFzcyAxIGFyZ3VtZW50CiAgICAgICAgICBpbnN0ZWFkIG9mIDIgYXJndW1lbnRzLCB0aGUgYXJyYXkgbWlnaHQgbm90IGhhdmUgdGhlIGV4cGVjdGVkCiAgICAgICAgICBsZW5ndGguPC9wPgogICAgICAgIDxwPlRvIGF2b2lkIHRoZXNlIGtpbmRzIG9mIHdlaXJkIGNhc2VzLCBhbHdheXMgdXNlIHRoZSBtb3JlIHJlYWRhYmxlCiAgICAgICAgICBhcnJheSBsaXRlcmFsLjwvcD4KICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgdmFyIGEgPSBbeDEsIHgyLCB4M107CiAgICAgICAgICB2YXIgYTIgPSBbeDEsIHgyXTsKICAgICAgICAgIHZhciBhMyA9IFt4MV07CiAgICAgICAgICB2YXIgYTQgPSBbXTsKICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICA8cD5PYmplY3QgY29uc3RydWN0b3JzIGRvbid0IGhhdmUgdGhlIHNhbWUgcHJvYmxlbXMsIGJ1dCBmb3IgcmVhZGFiaWxpdHkKICAgICAgICAgIGFuZCBjb25zaXN0ZW5jeSBvYmplY3QgbGl0ZXJhbHMgc2hvdWxkIGJlIHVzZWQuPC9wPgogICAgICAgIDxCQURfQ09ERV9TTklQUEVUPgogICAgICAgICAgdmFyIG8gPSBuZXcgT2JqZWN0KCk7CgogICAgICAgICAgdmFyIG8yID0gbmV3IE9iamVjdCgpOwogICAgICAgICAgbzIuYSA9IDA7CiAgICAgICAgICBvMi5iID0gMTsKICAgICAgICAgIG8yLmMgPSAyOwogICAgICAgICAgbzJbJ3N0cmFuZ2Uga2V5J10gPSAzOwogICAgICAgIDwvQkFEX0NPREVfU05JUFBFVD4KICAgICAgICA8cD5TaG91bGQgYmUgd3JpdHRlbiBhczo8L3A+CiAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgIHZhciBvID0ge307CgogICAgICAgICAgdmFyIG8yID0gewogICAgICAgICAgICBhOiAwLAogICAgICAgICAgICBiOiAxLAogICAgICAgICAgICBjOiAyLAogICAgICAgICAgICAnc3RyYW5nZSBrZXknOiAzCiAgICAgICAgICB9OwogICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICA8L0JPRFk+CiAgICA8L1NUWUxFUE9JTlQ+CgogICAgPFNUWUxFUE9JTlQgdGl0bGU9Ik1vZGlmeWluZyBwcm90b3R5cGVzIG9mIGJ1aWx0aW4gb2JqZWN0cyI+CiAgICAgIDxTVU1NQVJZPk5vPC9TVU1NQVJZPgogICAgICA8Qk9EWT4KICAgICAgICA8cD5Nb2RpZnlpbmcgYnVpbHRpbnMgbGlrZSA8Y29kZT5PYmplY3QucHJvdG90eXBlPC9jb2RlPiBhbmQKICAgICAgICAgIDxjb2RlPkFycmF5LnByb3RvdHlwZTwvY29kZT4gYXJlIHN0cmljdGx5IGZvcmJpZGRlbi4gIE1vZGlmeWluZyBvdGhlcgogICAgICAgICAgYnVpbHRpbnMgbGlrZSA8Y29kZT5GdW5jdGlvbi5wcm90b3R5cGU8L2NvZGU+IGlzIGxlc3MgZGFuZ2Vyb3VzIGJ1dAogICAgICAgICAgc3RpbGwgbGVhZHMgdG8gaGFyZCB0byBkZWJ1ZyBpc3N1ZXMgaW4gcHJvZHVjdGlvbiBhbmQgc2hvdWxkIGJlCiAgICAgICAgICBhdm9pZGVkLjwvcD4KICAgICAgPC9CT0RZPgogICAgPC9TVFlMRVBPSU5UPgoKICAgIDxTVFlMRVBPSU5UIHRpdGxlPSJJbnRlcm5ldCBFeHBsb3JlcidzIENvbmRpdGlvbmFsIENvbW1lbnRzIj4KICAgICAgPFNVTU1BUlk+Tm88L1NVTU1BUlk+CiAgICAgIDxCT0RZPgogICAgICAgIDxwPkRvbid0IGRvIHRoaXM6PC9wPgogICAgICAgIDxCQURfQ09ERV9TTklQUEVUPgogICAgICAgIHZhciBmID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvKkBjY19vbiBpZiAoQF9qc2NyaXB0KSB7IHJldHVybiAyKiBAKi8gIDM7IC8qQCB9IEAqLwogICAgICAgIH07CiAgICAgICAgPC9CQURfQ09ERV9TTklQUEVUPgogICAgICAgIDxwPkNvbmRpdGlvbmFsIENvbW1lbnRzIGhpbmRlciBhdXRvbWF0ZWQgdG9vbHMgYXMgdGhleSBjYW4gdmFyeSB0aGUKICAgICAgICBKYXZhU2NyaXB0IHN5bnRheCB0cmVlIGF0IHJ1bnRpbWUuPC9wPgogICAgICA8L0JPRFk+CiAgICA8L1NUWUxFUE9JTlQ+CiAgPC9DQVRFR09SWT4KCiAgPENBVEVHT1JZIHRpdGxlPSJKYXZhU2NyaXB0IFN0eWxlIFJ1bGVzIj4KICAgIDxTVFlMRVBPSU5UIHRpdGxlPSJOYW1pbmciPgogICAgICA8U1VNTUFSWT4KICAgICAgICA8cD5JbiBnZW5lcmFsLCB1c2UKICAgICAgICAgIDxjb2RlPmZ1bmN0aW9uTmFtZXNMaWtlVGhpczwvY29kZT4sCiAgICAgICAgICA8Y29kZT52YXJpYWJsZU5hbWVzTGlrZVRoaXM8L2NvZGU+LAogICAgICAgICAgPGNvZGU+Q2xhc3NOYW1lc0xpa2VUaGlzPC9jb2RlPiwKICAgICAgICAgIDxjb2RlPkVudW1OYW1lc0xpa2VUaGlzPC9jb2RlPiwKICAgICAgICAgIDxjb2RlPm1ldGhvZE5hbWVzTGlrZVRoaXM8L2NvZGU+LAogICAgICAgICAgPGNvZGU+Q09OU1RBTlRfVkFMVUVTX0xJS0VfVEhJUzwvY29kZT4sCiAgICAgICAgICA8Y29kZT5mb28ubmFtZXNwYWNlTmFtZXNMaWtlVGhpcy5iYXI8L2NvZGU+LCBhbmQKICAgICAgICAgIDxjb2RlPmZpbGVuYW1lc2xpa2V0aGlzLmpzPC9jb2RlPi4KICAgICAgICA8L3A+CiAgICAgIDwvU1VNTUFSWT4KICAgICAgPEJPRFk+CiAgICAgICAgPFNVQlNFQ1RJT04gdGl0bGU9IlByb3BlcnRpZXMgYW5kIG1ldGhvZHMiPgogICAgICAgICAgPHVsPgogICAgICAgICAgICA8bGk+PGVtPlByaXZhdGU8L2VtPiBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIHNob3VsZCBiZSBuYW1lZCB3aXRoIGEKICAgICAgICAgICAgICB0cmFpbGluZyB1bmRlcnNjb3JlLgogICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgIDxsaT48ZW0+UHJvdGVjdGVkPC9lbT4gcHJvcGVydGllcyBhbmQgbWV0aG9kcyBzaG91bGQgYmUKICAgICAgICAgICAgICBuYW1lZCB3aXRob3V0IGEgdHJhaWxpbmcgdW5kZXJzY29yZSAobGlrZSBwdWJsaWMgb25lcykuPC9saT4KICAgICAgICAgIDwvdWw+CiAgICAgICAgICA8cD5Gb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiA8ZW0+cHJpdmF0ZTwvZW0+IGFuZCA8ZW0+cHJvdGVjdGVkPC9lbT4sCiAgICAgICAgICAgIHJlYWQgdGhlIHNlY3Rpb24gb24KICAgICAgICAgICAgPGEgaHJlZj0iI1Zpc2liaWxpdHlfX3ByaXZhdGVfYW5kX3Byb3RlY3RlZF9maWVsZHNfIj4KICAgICAgICAgICAgICB2aXNpYmlsaXR5PC9hPi4KICAgICAgICAgICAgPC9wPgoKCgoKICAgICAgICA8L1NVQlNFQ1RJT04+CgogICAgICAgIDxTVUJTRUNUSU9OIHRpdGxlPSJNZXRob2QgYW5kIGZ1bmN0aW9uIHBhcmFtZXRlciI+CiAgICAgICAgICA8cD5PcHRpb25hbCBmdW5jdGlvbiBhcmd1bWVudHMgc3RhcnQgd2l0aCA8Y29kZT5vcHRfPC9jb2RlPi48L3A+CiAgICAgICAgICA8cD5GdW5jdGlvbnMgdGhhdCB0YWtlIGEgdmFyaWFibGUgbnVtYmVyIG9mIGFyZ3VtZW50cyBzaG91bGQgaGF2ZSB0aGUKICAgICAgICAgICAgbGFzdCBhcmd1bWVudCBuYW1lZCA8Y29kZT52YXJfYXJnczwvY29kZT4uIFlvdSBtYXkgbm90IHJlZmVyIHRvCiAgICAgICAgICAgIDxjb2RlPnZhcl9hcmdzPC9jb2RlPiBpbiB0aGUgY29kZTsgdXNlIHRoZSA8Y29kZT5hcmd1bWVudHM8L2NvZGU+CiAgICAgICAgICAgIGFycmF5LjwvcD4KICAgICAgICAgIDxwPk9wdGlvbmFsIGFuZCB2YXJpYWJsZSBhcmd1bWVudHMgY2FuIGFsc28gYmUgc3BlY2lmaWVkIGluCiAgICAgICAgICAgIDxjb2RlPkBwYXJhbTwvY29kZT4gYW5ub3RhdGlvbnMuIEFsdGhvdWdoIGVpdGhlciBjb252ZW50aW9uIGlzCiAgICAgICAgICAgIGFjY2VwdGFibGUgdG8gdGhlIGNvbXBpbGVyLCB1c2luZyBib3RoIHRvZ2V0aGVyIGlzIHByZWZlcnJlZC48L3A+CgogICAgICAgIDwvU1VCU0VDVElPTj4KCiAgICAgICAgPFNVQlNFQ1RJT04gdGl0bGU9IkdldHRlcnMgYW5kIFNldHRlcnMiPgogICAgICAgICAgPHA+RWNtYVNjcmlwdCA1IGdldHRlcnMgYW5kIHNldHRlcnMgZm9yIHByb3BlcnRpZXMgYXJlIGRpc2NvdXJhZ2VkLgogICAgICAgICAgICBIb3dldmVyLCBpZiB0aGV5IGFyZSB1c2VkLCB0aGVuIGdldHRlcnMgbXVzdCBub3QgY2hhbmdlIG9ic2VydmFibGUKICAgICAgICAgICAgc3RhdGUuPC9wPgogICAgICAgICAgICA8QkFEX0NPREVfU05JUFBFVD4KICAgICAgICAgICAgICAvKioKICAgICAgICAgICAgICAgKiBXUk9ORyAtLSBEbyBOT1QgZG8gdGhpcy4KICAgICAgICAgICAgICAgKi8KICAgICAgICAgICAgICB2YXIgZm9vID0geyBnZXQgbmV4dCgpIHsgcmV0dXJuIHRoaXMubmV4dElkKys7IH0gfTsKICAgICAgICAgICAgPC9CQURfQ09ERV9TTklQUEVUPgogICAgICAgIDwvU1VCU0VDVElPTj4KCiAgICAgICAgPFNVQlNFQ1RJT04gdGl0bGU9IkFjY2Vzc29yIGZ1bmN0aW9ucyI+CiAgICAgICAgICA8cD5HZXR0ZXJzIGFuZCBzZXR0ZXJzIG1ldGhvZHMgZm9yIHByb3BlcnRpZXMgYXJlIG5vdCByZXF1aXJlZC4KICAgICAgICAgICAgSG93ZXZlciwgaWYgdGhleSBhcmUgdXNlZCwgdGhlbiBnZXR0ZXJzIG11c3QgYmUgbmFtZWQKICAgICAgICAgICAgPGNvZGU+Z2V0Rm9vKCk8L2NvZGU+IGFuZCBzZXR0ZXJzIG11c3QgYmUgbmFtZWQKICAgICAgICAgICAgPGNvZGU+c2V0Rm9vKHZhbHVlKTwvY29kZT4uIChGb3IgYm9vbGVhbiBnZXR0ZXJzLAogICAgICAgICAgICA8Y29kZT5pc0ZvbygpPC9jb2RlPiBpcyBhbHNvIGFjY2VwdGFibGUsIGFuZCBvZnRlbiBzb3VuZHMgbW9yZQogICAgICAgICAgICBuYXR1cmFsLik8L3A+CiAgICAgICAgPC9TVUJTRUNUSU9OPgoKICAgICAgICA8U1VCU0VDVElPTiB0aXRsZT0iTmFtZXNwYWNlcyI+CiAgICAgICAgICA8cD5KYXZhU2NyaXB0IGhhcyBubyBpbmhlcmVudCBwYWNrYWdpbmcgb3IgbmFtZXNwYWNpbmcgc3VwcG9ydC48L3A+CiAgICAgICAgICA8cD5HbG9iYWwgbmFtZSBjb25mbGljdHMgYXJlIGRpZmZpY3VsdCB0byBkZWJ1ZywgYW5kIGNhbiBjYXVzZQogICAgICAgICAgICBpbnRyYWN0YWJsZSBwcm9ibGVtcyB3aGVuIHR3byBwcm9qZWN0cyB0cnkgdG8gaW50ZWdyYXRlLiBJbiBvcmRlcgogICAgICAgICAgICB0byBtYWtlIGl0IHBvc3NpYmxlIHRvIHNoYXJlIGNvbW1vbiBKYXZhU2NyaXB0IGNvZGUsIHdlJ3ZlIGFkb3B0ZWQKICAgICAgICAgICAgY29udmVudGlvbnMgdG8gcHJldmVudCBjb2xsaXNpb25zLiA8L3A+CiAgICAgICAgICA8U1VCU1VCU0VDVElPTiB0aXRsZT0iVXNlIG5hbWVzcGFjZXMgZm9yIGdsb2JhbCBjb2RlIj4KICAgICAgICAgICAgPHA+PGVtPkFMV0FZUzwvZW0+IHByZWZpeCBpZGVudGlmaWVycyBpbiB0aGUgZ2xvYmFsIHNjb3BlIHdpdGggYQogICAgICAgICAgICAgIHVuaXF1ZSBwc2V1ZG8gbmFtZXNwYWNlIHJlbGF0ZWQgdG8gdGhlIHByb2plY3Qgb3IgbGlicmFyeS4gSWYgeW91CiAgICAgICAgICAgICAgYXJlIHdvcmtpbmcgb24gIlByb2plY3QgU2xvdGgiLCBhIHJlYXNvbmFibGUgcHNldWRvIG5hbWVzcGFjZQogICAgICAgICAgICAgIHdvdWxkIGJlIDxjb2RlPnNsb3RoLio8L2NvZGU+LjwvcD4KICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICB2YXIgc2xvdGggPSB7fTsKCiAgICAgICAgICAgICAgc2xvdGguc2xlZXAgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIC4uLgogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgoKCiAgICAgICAgICAgIDxwPk1hbnkgSmF2YVNjcmlwdCBsaWJyYXJpZXMsIGluY2x1ZGluZwogICAgICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vY29kZS5nb29nbGUuY29tL2Nsb3N1cmUvbGlicmFyeS8iPgogICAgICAgICAgICAgICAgdGhlIENsb3N1cmUgTGlicmFyeQogICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgICBhbmQKICAgICAgICAgICAgICA8YSBocmVmPSJodHRwOi8vd3d3LmRvam90b29sa2l0Lm9yZy8iPgogICAgICAgICAgICAgICAgRG9qbyB0b29sa2l0CiAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgIGdpdmUgeW91IGhpZ2gtbGV2ZWwgZnVuY3Rpb25zIGZvciBkZWNsYXJpbmcgeW91ciBuYW1lc3BhY2VzLgogICAgICAgICAgICAgIEJlIGNvbnNpc3RlbnQgYWJvdXQgaG93IHlvdSBkZWNsYXJlIHlvdXIgbmFtZXNwYWNlcy48L3A+CiAgICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgZ29vZy5wcm92aWRlKCdzbG90aCcpOwoKICAgICAgICAgICAgICBzbG90aC5zbGVlcCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgLi4uCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICA8L1NVQlNVQlNFQ1RJT04+CiAgICAgICAgICA8U1VCU1VCU0VDVElPTiB0aXRsZT0iUmVzcGVjdCBuYW1lc3BhY2Ugb3duZXJzaGlwIj4KICAgICAgICAgICAgPHA+V2hlbiBjaG9vc2luZyBhIGNoaWxkLW5hbWVzcGFjZSwgbWFrZSBzdXJlIHRoYXQgdGhlIG93bmVycyBvZiB0aGUKICAgICAgICAgICAgICBwYXJlbnQgbmFtZXNwYWNlIGtub3cgd2hhdCB5b3UgYXJlIGRvaW5nLiBJZiB5b3Ugc3RhcnQgYSBwcm9qZWN0CiAgICAgICAgICAgICAgdGhhdCBjcmVhdGVzIGhhdHMgZm9yIHNsb3RocywgbWFrZSBzdXJlIHRoYXQgdGhlIFNsb3RoIHRlYW0ga25vd3MKICAgICAgICAgICAgICB0aGF0IHlvdSdyZSB1c2luZyA8Y29kZT5zbG90aC5oYXRzPC9jb2RlPi48L3A+CgogICAgICAgICAgPC9TVUJTVUJTRUNUSU9OPgogICAgICAgICAgPFNVQlNVQlNFQ1RJT04gdGl0bGU9IlVzZSBkaWZmZXJlbnQgbmFtZXNwYWNlcyBmb3IgZXh0ZXJuYWwgY29kZSBhbmQgaW50ZXJuYWwgY29kZSI+CiAgICAgICAgICAgIDxwPiJFeHRlcm5hbCBjb2RlIiBpcyBjb2RlIHRoYXQgY29tZXMgZnJvbSBvdXRzaWRlIHlvdXIgY29kZWJhc2UsCiAgICAgICAgICAgICAgYW5kIGlzIGNvbXBpbGVkIGluZGVwZW5kZW50bHkuIEludGVybmFsIGFuZCBleHRlcm5hbCBuYW1lcyBzaG91bGQKICAgICAgICAgICAgICBiZSBrZXB0IHN0cmljdGx5IHNlcGFyYXRlLiBJZiB5b3UncmUgdXNpbmcgYW4gZXh0ZXJuYWwgbGlicmFyeQogICAgICAgICAgICAgIHRoYXQgbWFrZXMgdGhpbmdzIGF2YWlsYWJsZSBpbiA8Y29kZT5mb28uaGF0cy4qPC9jb2RlPiwgeW91cgogICAgICAgICAgICAgIGludGVybmFsIGNvZGUgc2hvdWxkIG5vdCBkZWZpbmUgYWxsIGl0cyBzeW1ib2xzIGluCiAgICAgICAgICAgICAgPGNvZGU+Zm9vLmhhdHMuKjwvY29kZT4sIGJlY2F1c2UgaXQgd2lsbCBicmVhayBpZiB0aGUgb3RoZXIKICAgICAgICAgICAgICB0ZWFtIGRlZmluZXMgbmV3IHN5bWJvbHMuPC9wPgogICAgICAgICAgICA8QkFEX0NPREVfU05JUFBFVD4KICAgICAgICAgICAgICBmb28ucmVxdWlyZSgnZm9vLmhhdHMnKTsKCiAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICogV1JPTkcgLS0gRG8gTk9UIGRvIHRoaXMuCiAgICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yCiAgICAgICAgICAgICAgICogQGV4dGVuZHMge2Zvby5oYXRzLlJvdW5kSGF0fQogICAgICAgICAgICAgICAqLwogICAgICAgICAgICAgIGZvby5oYXRzLkJvd2xlckhhdCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIDwvQkFEX0NPREVfU05JUFBFVD4KICAgICAgICAgICAgPHA+SWYgeW91IG5lZWQgdG8gZGVmaW5lIG5ldyBBUElzIG9uIGFuIGV4dGVybmFsIG5hbWVzcGFjZSwgdGhlbiB5b3UKICAgICAgICAgICAgICBzaG91bGQgZXhwbGljaXRseSBleHBvcnQgdGhlIHB1YmxpYyBBUEkgZnVuY3Rpb25zLCBhbmQgb25seSB0aG9zZQogICAgICAgICAgICAgIGZ1bmN0aW9ucy4gWW91ciBpbnRlcm5hbCBjb2RlIHNob3VsZCBjYWxsIHRoZSBpbnRlcm5hbCBBUElzIGJ5CiAgICAgICAgICAgICAgdGhlaXIgaW50ZXJuYWwgbmFtZXMsIGZvciBjb25zaXN0ZW5jeSBhbmQgc28gdGhhdCB0aGUgY29tcGlsZXIKICAgICAgICAgICAgICBjYW4gb3B0aW1pemUgdGhlbSBiZXR0ZXIuPC9wPgogICAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAgIGZvby5wcm92aWRlKCdnb29nbGV5aGF0cy5Cb3dsZXJIYXQnKTsKCiAgICAgICAgICAgICAgZm9vLnJlcXVpcmUoJ2Zvby5oYXRzJyk7CgogICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAqIEBjb25zdHJ1Y3RvcgogICAgICAgICAgICAgICAqIEBleHRlbmRzIHtmb28uaGF0cy5Sb3VuZEhhdH0KICAgICAgICAgICAgICAgKi8KICAgICAgICAgICAgICBnb29nbGV5aGF0cy5Cb3dsZXJIYXQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIC4uLgogICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgIGdvb2cuZXhwb3J0U3ltYm9sKCdmb28uaGF0cy5Cb3dsZXJIYXQnLCBnb29nbGV5aGF0cy5Cb3dsZXJIYXQpOwogICAgICAgICAgICA8L0NPREVfU05JUFBFVD4KCgogICAgICAgICAgPC9TVUJTVUJTRUNUSU9OPgogICAgICAgICAgPFNVQlNVQlNFQ1RJT04gdGl0bGU9IkFsaWFzIGxvbmcgdHlwZSBuYW1lcyB0byBpbXByb3ZlIHJlYWRhYmlsaXR5Ij4KICAgICAgICAgICAgPHA+VXNlIGxvY2FsIGFsaWFzZXMgZm9yIGZ1bGx5LXF1YWxpZmllZCB0eXBlcyBpZiBkb2luZyBzbyBpbXByb3ZlcwogICAgICAgICAgICAgIHJlYWRhYmlsaXR5LiBUaGUgbmFtZSBvZiBhIGxvY2FsIGFsaWFzIHNob3VsZCBtYXRjaCB0aGUgbGFzdCBwYXJ0CiAgICAgICAgICAgICAgb2YgdGhlIHR5cGUuPC9wPgogICAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAqIEBjb25zdHJ1Y3RvcgogICAgICAgICAgICAgICAqLwogICAgICAgICAgICAgIHNvbWUubG9uZy5uYW1lc3BhY2UuTXlDbGFzcyA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAqIEBwYXJhbSB7c29tZS5sb25nLm5hbWVzcGFjZS5NeUNsYXNzfSBhCiAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgc29tZS5sb25nLm5hbWVzcGFjZS5NeUNsYXNzLnN0YXRpY0hlbHBlciA9IGZ1bmN0aW9uKGEpIHsKICAgICAgICAgICAgICAgIC4uLgogICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgIG15YXBwLm1haW4gPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHZhciBNeUNsYXNzID0gc29tZS5sb25nLm5hbWVzcGFjZS5NeUNsYXNzOwogICAgICAgICAgICAgICAgdmFyIHN0YXRpY0hlbHBlciA9IHNvbWUubG9uZy5uYW1lc3BhY2UuTXlDbGFzcy5zdGF0aWNIZWxwZXI7CiAgICAgICAgICAgICAgICBzdGF0aWNIZWxwZXIobmV3IE15Q2xhc3MoKSk7CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgIDxwPkRvIG5vdCBjcmVhdGUgbG9jYWwgYWxpYXNlcyBvZiBuYW1lc3BhY2VzLiBOYW1lc3BhY2VzIHNob3VsZCBvbmx5CiAgICAgICAgICAgICAgYmUgYWxpYXNlZCB1c2luZyA8YSBocmVmPSIjZ29vZy1zY29wZSI+Z29vZy5zY29wZTwvYT4uPC9wPgogICAgICAgICAgICA8QkFEX0NPREVfU05JUFBFVD4KICAgICAgICAgICAgICBteWFwcC5tYWluID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICB2YXIgbmFtZXNwYWNlID0gc29tZS5sb25nLm5hbWVzcGFjZTsKICAgICAgICAgICAgICAgIG5hbWVzcGFjZS5NeUNsYXNzLnN0YXRpY0hlbHBlcihuZXcgbmFtZXNwYWNlLk15Q2xhc3MoKSk7CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgPC9CQURfQ09ERV9TTklQUEVUPgogICAgICAgICAgICA8cD5Bdm9pZCBhY2Nlc3NpbmcgcHJvcGVydGllcyBvZiBhbiBhbGlhc2VkIHR5cGUsIHVubGVzcyBpdCBpcyBhbgogICAgICAgICAgICAgIGVudW0uPC9wPgogICAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAgIC8qKiBAZW51bSB7c3RyaW5nfSAqLwogICAgICAgICAgICAgIHNvbWUubG9uZy5uYW1lc3BhY2UuRnJ1aXQgPSB7CiAgICAgICAgICAgICAgICBBUFBMRTogJ2EnLAogICAgICAgICAgICAgICAgQkFOQU5BOiAnYicKICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICBteWFwcC5tYWluID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICB2YXIgRnJ1aXQgPSBzb21lLmxvbmcubmFtZXNwYWNlLkZydWl0OwogICAgICAgICAgICAgICAgc3dpdGNoIChmcnVpdCkgewogICAgICAgICAgICAgICAgICBjYXNlIEZydWl0LkFQUExFOgogICAgICAgICAgICAgICAgICAgIC4uLgogICAgICAgICAgICAgICAgICBjYXNlIEZydWl0LkJBTkFOQToKICAgICAgICAgICAgICAgICAgICAuLi4KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9OwogICAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICAgICAgPEJBRF9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgbXlhcHAubWFpbiA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgdmFyIE15Q2xhc3MgPSBzb21lLmxvbmcubmFtZXNwYWNlLk15Q2xhc3M7CiAgICAgICAgICAgICAgICBNeUNsYXNzLnN0YXRpY0hlbHBlcihudWxsKTsKICAgICAgICAgICAgICB9OwogICAgICAgICAgICA8L0JBRF9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgIDxwPk5ldmVyIGNyZWF0ZSBhbGlhc2VzIGluIHRoZSBnbG9iYWwgc2NvcGUuIFVzZSB0aGVtIG9ubHkgaW4KICAgICAgICAgICAgICBmdW5jdGlvbiBibG9ja3MuPC9wPgogICAgICAgICAgPC9TVUJTVUJTRUNUSU9OPgogICAgICAgIDwvU1VCU0VDVElPTj4KICAgICAgICA8U1VCU0VDVElPTiB0aXRsZT0iRmlsZW5hbWVzIj4KICAgICAgICAgIDxwPkZpbGVuYW1lcyBzaG91bGQgYmUgYWxsIGxvd2VyY2FzZSBpbiBvcmRlciB0byBhdm9pZCBjb25mdXNpb24gb24KICAgICAgICAgICAgY2FzZS1zZW5zaXRpdmUgcGxhdGZvcm1zLiBGaWxlbmFtZXMgc2hvdWxkIGVuZCBpbiA8Y29kZT4uanM8L2NvZGU+LAogICAgICAgICAgICBhbmQgc2hvdWxkIGNvbnRhaW4gbm8gcHVuY3R1YXRpb24gZXhjZXB0IGZvciA8Y29kZT4tPC9jb2RlPiBvcgogICAgICAgICAgICA8Y29kZT5fPC9jb2RlPiAocHJlZmVyIDxjb2RlPi08L2NvZGU+IHRvIDxjb2RlPl88L2NvZGU+KS48L3A+CiAgICAgICAgPC9TVUJTRUNUSU9OPgoKICAgICAgPC9CT0RZPgogICAgPC9TVFlMRVBPSU5UPgoKICAgIDxTVFlMRVBPSU5UIHRpdGxlPSJDdXN0b20gdG9TdHJpbmcoKSBtZXRob2RzIj4KICAgICAgPFNVTU1BUlk+CiAgICAgICAgTXVzdCBhbHdheXMgc3VjY2VlZCB3aXRob3V0IHNpZGUgZWZmZWN0cy4KICAgICAgPC9TVU1NQVJZPgogICAgICA8Qk9EWT4KICAgICAgICA8cD5Zb3UgY2FuIGNvbnRyb2wgaG93IHlvdXIgb2JqZWN0cyBzdHJpbmctaWZ5IHRoZW1zZWx2ZXMgYnkgZGVmaW5pbmcgYQogICAgICAgICAgY3VzdG9tIDxjb2RlPnRvU3RyaW5nKCk8L2NvZGU+IG1ldGhvZC4gVGhpcyBpcyBmaW5lLCBidXQgeW91IG5lZWQKICAgICAgICAgIHRvIGVuc3VyZSB0aGF0IHlvdXIgbWV0aG9kICgxKSBhbHdheXMgc3VjY2VlZHMgYW5kICgyKSBkb2VzIG5vdCBoYXZlCiAgICAgICAgICBzaWRlLWVmZmVjdHMuIElmIHlvdXIgbWV0aG9kIGRvZXNuJ3QgbWVldCB0aGVzZSBjcml0ZXJpYSwgaXQncyB2ZXJ5CiAgICAgICAgICBlYXN5IHRvIHJ1biBpbnRvIHNlcmlvdXMgcHJvYmxlbXMuIEZvciBleGFtcGxlLCBpZgogICAgICAgICAgPGNvZGU+dG9TdHJpbmcoKTwvY29kZT4gY2FsbHMgYSBtZXRob2QgdGhhdCBkb2VzIGFuCiAgICAgICAgICA8Y29kZT5hc3NlcnQ8L2NvZGU+LCA8Y29kZT5hc3NlcnQ8L2NvZGU+IG1pZ2h0IHRyeSB0byBvdXRwdXQgdGhlIG5hbWUKICAgICAgICAgIG9mIHRoZSBvYmplY3QgaW4gd2hpY2ggaXQgZmFpbGVkLCB3aGljaCBvZiBjb3Vyc2UgcmVxdWlyZXMgY2FsbGluZwogICAgICAgICAgPGNvZGU+dG9TdHJpbmcoKTwvY29kZT4uPC9wPgogICAgICA8L0JPRFk+CiAgICA8L1NUWUxFUE9JTlQ+CgogICAgPFNUWUxFUE9JTlQgdGl0bGU9IkRlZmVycmVkIGluaXRpYWxpemF0aW9uIj4KICAgICAgPFNVTU1BUlk+T0s8L1NVTU1BUlk+CiAgICAgIDxCT0RZPgogICAgICAgIDxwPkl0IGlzbid0IGFsd2F5cyBwb3NzaWJsZSB0byBpbml0aWFsaXplIHZhcmlhYmxlcyBhdCB0aGUgcG9pbnQgb2YKICAgICAgICAgIGRlY2xhcmF0aW9uLCBzbyBkZWZlcnJlZCBpbml0aWFsaXphdGlvbiBpcyBmaW5lLjwvcD4KICAgICAgPC9CT0RZPgogICAgPC9TVFlMRVBPSU5UPgoKICAgIDxTVFlMRVBPSU5UIHRpdGxlPSJFeHBsaWNpdCBzY29wZSI+CiAgICAgIDxTVU1NQVJZPkFsd2F5czwvU1VNTUFSWT4KICAgICAgPEJPRFk+CiAgICAgICAgPHA+QWx3YXlzIHVzZSBleHBsaWNpdCBzY29wZSAtIGRvaW5nIHNvIGluY3JlYXNlcyBwb3J0YWJpbGl0eSBhbmQKICAgICAgICAgIGNsYXJpdHkuIEZvciBleGFtcGxlLCBkb24ndCByZWx5IG9uIDxjb2RlPndpbmRvdzwvY29kZT4gYmVpbmcgaW4gdGhlCiAgICAgICAgICBzY29wZSBjaGFpbi4gWW91IG1pZ2h0IHdhbnQgdG8gdXNlIHlvdXIgZnVuY3Rpb24gaW4gYW5vdGhlcgogICAgICAgICAgYXBwbGljYXRpb24gZm9yIHdoaWNoIDxjb2RlPndpbmRvdzwvY29kZT4gaXMgbm90IHRoZSBjb250ZW50CiAgICAgICAgICB3aW5kb3cuPC9wPgogICAgICA8L0JPRFk+CiAgICA8L1NUWUxFUE9JTlQ+CgogICAgPFNUWUxFUE9JTlQgdGl0bGU9IkNvZGUgZm9ybWF0dGluZyI+CiAgICAgIDxTVU1NQVJZPkV4cGFuZCBmb3IgbW9yZSBpbmZvcm1hdGlvbi48L1NVTU1BUlk+CiAgICAgIDxCT0RZPgogICAgICAgIDxwPldlIGZvbGxvdyB0aGUgPGEgaHJlZj0iY3BwZ3VpZGUuaHRtbCNGb3JtYXR0aW5nIj5DKysgZm9ybWF0dGluZwogICAgICAgICAgcnVsZXM8L2E+IGluIHNwaXJpdCwgd2l0aCB0aGUgZm9sbG93aW5nIGFkZGl0aW9uYWwgY2xhcmlmaWNhdGlvbnMuPC9wPgogICAgICAgIDxTVUJTRUNUSU9OIHRpdGxlPSJDdXJseSBCcmFjZXMiPgogICAgICAgICAgPHA+QmVjYXVzZSBvZiBpbXBsaWNpdCBzZW1pY29sb24gaW5zZXJ0aW9uLCBhbHdheXMgc3RhcnQgeW91ciBjdXJseQogICAgICAgICAgICBicmFjZXMgb24gdGhlIHNhbWUgbGluZSBhcyB3aGF0ZXZlciB0aGV5J3JlIG9wZW5pbmcuICBGb3IKICAgICAgICAgICAgZXhhbXBsZTo8L3A+CiAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICBpZiAoc29tZXRoaW5nKSB7CiAgICAgICAgICAgICAgLy8gLi4uCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgLy8gLi4uCiAgICAgICAgICAgIH0KICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgIDwvU1VCU0VDVElPTj4KICAgICAgICA8U1VCU0VDVElPTiB0aXRsZT0iQXJyYXkgYW5kIE9iamVjdCBJbml0aWFsaXplcnMiPgogICAgICAgICAgPHA+U2luZ2xlLWxpbmUgYXJyYXkgYW5kIG9iamVjdCBpbml0aWFsaXplcnMgYXJlIGFsbG93ZWQgd2hlbiB0aGV5CiAgICAgICAgICAgIGZpdCBvbiBhIGxpbmU6PC9wPgogICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgdmFyIGFyciA9IFsxLCAyLCAzXTsgIC8vIE5vIHNwYWNlIGFmdGVyIFsgb3IgYmVmb3JlIF0uCiAgICAgICAgICAgIHZhciBvYmogPSB7YTogMSwgYjogMiwgYzogM307ICAvLyBObyBzcGFjZSBhZnRlciB7IG9yIGJlZm9yZSB9LgogICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICA8cD5NdWx0aWxpbmUgYXJyYXkgaW5pdGlhbGl6ZXJzIGFuZCBvYmplY3QgaW5pdGlhbGl6ZXJzIGFyZSBpbmRlbnRlZAogICAgICAgICAgICAyIHNwYWNlcywgd2l0aCB0aGUgYnJhY2VzIG9uIHRoZWlyIG93biBsaW5lLCBqdXN0IGxpa2UgYmxvY2tzLjwvcD4KICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgIC8vIE9iamVjdCBpbml0aWFsaXplci4KICAgICAgICAgICAgdmFyIGluc2V0ID0gewogICAgICAgICAgICAgIHRvcDogMTAsCiAgICAgICAgICAgICAgcmlnaHQ6IDIwLAogICAgICAgICAgICAgIGJvdHRvbTogMTUsCiAgICAgICAgICAgICAgbGVmdDogMTIKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIC8vIEFycmF5IGluaXRpYWxpemVyLgogICAgICAgICAgICB0aGlzLnJvd3NfID0gWwogICAgICAgICAgICAgICciU2xhcnRpYmFydGZhc3QiICZsdDtmam9yZG1hc3RlckBtYWdyYXRoZWEuY29tJmd0OycsCiAgICAgICAgICAgICAgJyJaYXBob2QgQmVlYmxlYnJveCIgJmx0O3RoZXByZXpAdW5pdmVyc2UuZ292Jmd0OycsCiAgICAgICAgICAgICAgJyJGb3JkIFByZWZlY3QiICZsdDtmb3JkQHRoZWd1aWRlLmNvbSZndDsnLAogICAgICAgICAgICAgICciQXJ0aHVyIERlbnQiICZsdDtoYXMubm8udGVhQGdtYWlsLmNvbSZndDsnLAogICAgICAgICAgICAgICciTWFydmluIHRoZSBQYXJhbm9pZCBBbmRyb2lkIiAmbHQ7bWFydkBnb29nbGVtYWlsLmNvbSZndDsnLAogICAgICAgICAgICAgICd0aGUubWljZUBtYWdyYXRoZWEuY29tJwogICAgICAgICAgICBdOwoKICAgICAgICAgICAgLy8gVXNlZCBpbiBhIG1ldGhvZCBjYWxsLgogICAgICAgICAgICBnb29nLmRvbS5jcmVhdGVEb20oZ29vZy5kb20uVGFnTmFtZS5ESVYsIHsKICAgICAgICAgICAgICBpZDogJ2ZvbycsCiAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnc29tZS1jc3MtY2xhc3MnLAogICAgICAgICAgICAgIHN0eWxlOiAnZGlzcGxheTpub25lJwogICAgICAgICAgICB9LCAnSGVsbG8sIHdvcmxkIScpOwogICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICA8cD5Mb25nIGlkZW50aWZpZXJzIG9yIHZhbHVlcyBwcmVzZW50IHByb2JsZW1zIGZvciBhbGlnbmVkCiAgICAgICAgICAgIGluaXRpYWxpemF0aW9uIGxpc3RzLCBzbyBhbHdheXMgcHJlZmVyIG5vbi1hbGlnbmVkIGluaXRpYWxpemF0aW9uLgogICAgICAgICAgICBGb3IgZXhhbXBsZTo8L3A+CiAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICBDT1JSRUNUX09iamVjdC5wcm90b3R5cGUgPSB7CiAgICAgICAgICAgICAgYTogMCwKICAgICAgICAgICAgICBiOiAxLAogICAgICAgICAgICAgIGxlbmd0aHlOYW1lOiAyCiAgICAgICAgICAgIH07CiAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICAgIDxwPk5vdCBsaWtlIHRoaXM6PC9wPgogICAgICAgICAgPEJBRF9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgIFdST05HX09iamVjdC5wcm90b3R5cGUgPSB7CiAgICAgICAgICAgICAgYSAgICAgICAgICA6IDAsCiAgICAgICAgICAgICAgYiAgICAgICAgICA6IDEsCiAgICAgICAgICAgICAgbGVuZ3RoeU5hbWU6IDIKICAgICAgICAgICAgfTsKICAgICAgICAgIDwvQkFEX0NPREVfU05JUFBFVD4KICAgICAgICA8L1NVQlNFQ1RJT04+CiAgICAgICAgPFNVQlNFQ1RJT04gdGl0bGU9IkZ1bmN0aW9uIEFyZ3VtZW50cyI+CiAgICAgICAgICA8cD5XaGVuIHBvc3NpYmxlLCBhbGwgZnVuY3Rpb24gYXJndW1lbnRzIHNob3VsZCBiZSBsaXN0ZWQgb24gdGhlIHNhbWUKICAgICAgICAgICAgbGluZS4gSWYgZG9pbmcgc28gd291bGQgZXhjZWVkIHRoZSA4MC1jb2x1bW4gbGltaXQsIHRoZSBhcmd1bWVudHMKICAgICAgICAgICAgbXVzdCBiZSBsaW5lLXdyYXBwZWQgaW4gYSByZWFkYWJsZSB3YXkuIFRvIHNhdmUgc3BhY2UsIHlvdSBtYXkgd3JhcAogICAgICAgICAgICBhcyBjbG9zZSB0byA4MCBhcyBwb3NzaWJsZSwgb3IgcHV0IGVhY2ggYXJndW1lbnQgb24gaXRzIG93biBsaW5lIHRvCiAgICAgICAgICAgIGVuaGFuY2UgcmVhZGFiaWxpdHkuIFRoZSBpbmRlbnRhdGlvbiBtYXkgYmUgZWl0aGVyIGZvdXIgc3BhY2VzLCBvcgogICAgICAgICAgICBhbGlnbmVkIHRvIHRoZSBwYXJlbnRoZXNpcy4gQmVsb3cgYXJlIHRoZSBtb3N0IGNvbW1vbiBwYXR0ZXJucyBmb3IKICAgICAgICAgICAgYXJndW1lbnQgd3JhcHBpbmc6PC9wPgogICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgLy8gRm91ci1zcGFjZSwgd3JhcCBhdCA4MC4gIFdvcmtzIHdpdGggdmVyeSBsb25nIGZ1bmN0aW9uIG5hbWVzLCBzdXJ2aXZlcwogICAgICAgICAgICAvLyByZW5hbWluZyB3aXRob3V0IHJlaW5kZW50aW5nLCBsb3cgb24gc3BhY2UuCiAgICAgICAgICAgIGdvb2cuZm9vLmJhci5kb1RoaW5nVGhhdElzVmVyeURpZmZpY3VsdFRvRXhwbGFpbiA9IGZ1bmN0aW9uKAogICAgICAgICAgICAgICAgdmVyeURlc2NyaXB0aXZlQXJndW1lbnROdW1iZXJPbmUsIHZlcnlEZXNjcmlwdGl2ZUFyZ3VtZW50VHdvLAogICAgICAgICAgICAgICAgdGFibGVNb2RlbEV2ZW50SGFuZGxlclByb3h5LCBhcnRpY2hva2VEZXNjcmlwdG9yQWRhcHRlckl0ZXJhdG9yKSB7CiAgICAgICAgICAgICAgLy8gLi4uCiAgICAgICAgICAgIH07CgogICAgICAgICAgICAvLyBGb3VyLXNwYWNlLCBvbmUgYXJndW1lbnQgcGVyIGxpbmUuICBXb3JrcyB3aXRoIGxvbmcgZnVuY3Rpb24gbmFtZXMsCiAgICAgICAgICAgIC8vIHN1cnZpdmVzIHJlbmFtaW5nLCBhbmQgZW1waGFzaXplcyBlYWNoIGFyZ3VtZW50LgogICAgICAgICAgICBnb29nLmZvby5iYXIuZG9UaGluZ1RoYXRJc1ZlcnlEaWZmaWN1bHRUb0V4cGxhaW4gPSBmdW5jdGlvbigKICAgICAgICAgICAgICAgIHZlcnlEZXNjcmlwdGl2ZUFyZ3VtZW50TnVtYmVyT25lLAogICAgICAgICAgICAgICAgdmVyeURlc2NyaXB0aXZlQXJndW1lbnRUd28sCiAgICAgICAgICAgICAgICB0YWJsZU1vZGVsRXZlbnRIYW5kbGVyUHJveHksCiAgICAgICAgICAgICAgICBhcnRpY2hva2VEZXNjcmlwdG9yQWRhcHRlckl0ZXJhdG9yKSB7CiAgICAgICAgICAgICAgLy8gLi4uCiAgICAgICAgICAgIH07CgogICAgICAgICAgICAvLyBQYXJlbnRoZXNpcy1hbGlnbmVkIGluZGVudGF0aW9uLCB3cmFwIGF0IDgwLiAgVmlzdWFsbHkgZ3JvdXBzIGFyZ3VtZW50cywKICAgICAgICAgICAgLy8gbG93IG9uIHNwYWNlLgogICAgICAgICAgICBmdW5jdGlvbiBmb28odmVyeURlc2NyaXB0aXZlQXJndW1lbnROdW1iZXJPbmUsIHZlcnlEZXNjcmlwdGl2ZUFyZ3VtZW50VHdvLAogICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVNb2RlbEV2ZW50SGFuZGxlclByb3h5LCBhcnRpY2hva2VEZXNjcmlwdG9yQWRhcHRlckl0ZXJhdG9yKSB7CiAgICAgICAgICAgICAgLy8gLi4uCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIFBhcmVudGhlc2lzLWFsaWduZWQsIG9uZSBhcmd1bWVudCBwZXIgbGluZS4gIEVtcGhhc2l6ZXMgZWFjaAogICAgICAgICAgICAvLyBpbmRpdmlkdWFsIGFyZ3VtZW50LgogICAgICAgICAgICBmdW5jdGlvbiBiYXIodmVyeURlc2NyaXB0aXZlQXJndW1lbnROdW1iZXJPbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICB2ZXJ5RGVzY3JpcHRpdmVBcmd1bWVudFR3bywKICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlTW9kZWxFdmVudEhhbmRsZXJQcm94eSwKICAgICAgICAgICAgICAgICAgICAgICAgIGFydGljaG9rZURlc2NyaXB0b3JBZGFwdGVySXRlcmF0b3IpIHsKICAgICAgICAgICAgICAvLyAuLi4KICAgICAgICAgICAgfQogICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICA8cD5XaGVuIHRoZSBmdW5jdGlvbiBjYWxsIGlzIGl0c2VsZiBpbmRlbnRlZCwgeW91J3JlIGZyZWUgdG8gc3RhcnQgdGhlCiAgICAgICAgICA0LXNwYWNlIGluZGVudCByZWxhdGl2ZSB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBvcmlnaW5hbCBzdGF0ZW1lbnQKICAgICAgICAgIG9yIHJlbGF0aXZlIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGN1cnJlbnQgZnVuY3Rpb24gY2FsbC4KICAgICAgICAgIFRoZSBmb2xsb3dpbmcgYXJlIGFsbCBhY2NlcHRhYmxlIGluZGVudGF0aW9uIHN0eWxlcy48L3A+CiAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICBpZiAodmVyeUxvbmdGdW5jdGlvbk5hbWVBKAogICAgICAgICAgICAgICAgICAgIHZlcnlMb25nQXJndW1lbnROYW1lKSB8fAogICAgICAgICAgICAgICAgdmVyeUxvbmdGdW5jdGlvbk5hbWVCKAogICAgICAgICAgICAgICAgdmVyeUxvbmdBcmd1bWVudE5hbWUpKSB7CiAgICAgICAgICAgICAgdmVyeUxvbmdGdW5jdGlvbk5hbWVDKHZlcnlMb25nRnVuY3Rpb25OYW1lRCgKICAgICAgICAgICAgICAgICAgdmVyeUxvbmdGdW5jdGlvTmFtZUUoCiAgICAgICAgICAgICAgICAgICAgICB2ZXJ5TG9uZ0Z1bmN0aW9uTmFtZUYpKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgIDwvU1VCU0VDVElPTj4KICAgICAgICA8U1VCU0VDVElPTiB0aXRsZT0iUGFzc2luZyBBbm9ueW1vdXMgRnVuY3Rpb25zIj4KICAgICAgICAgIDxwPldoZW4gZGVjbGFyaW5nIGFuIGFub255bW91cyBmdW5jdGlvbiBpbiB0aGUgbGlzdCBvZiBhcmd1bWVudHMgZm9yCiAgICAgICAgICAgIGEgZnVuY3Rpb24gY2FsbCwgdGhlIGJvZHkgb2YgdGhlIGZ1bmN0aW9uIGlzIGluZGVudGVkIHR3byBzcGFjZXMKICAgICAgICAgICAgZnJvbSB0aGUgbGVmdCBlZGdlIG9mIHRoZSBzdGF0ZW1lbnQsIG9yIHR3byBzcGFjZXMgZnJvbSB0aGUgbGVmdAogICAgICAgICAgICBlZGdlIG9mIHRoZSBmdW5jdGlvbiBrZXl3b3JkLiBUaGlzIGlzIHRvIG1ha2UgdGhlIGJvZHkgb2YgdGhlCiAgICAgICAgICAgIGFub255bW91cyBmdW5jdGlvbiBlYXNpZXIgdG8gcmVhZCAoaS5lLiBub3QgYmUgYWxsIHNxdWlzaGVkIHVwIGludG8KICAgICAgICAgICAgdGhlIHJpZ2h0IGhhbGYgb2YgdGhlIHNjcmVlbikuPC9wPgogICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgcHJlZml4LnNvbWV0aGluZy5yZWFsbHlMb25nRnVuY3Rpb25OYW1lKCd3aGF0ZXZlcicsIGZ1bmN0aW9uKGExLCBhMikgewogICAgICAgICAgICAgIGlmIChhMS5lcXVhbHMoYTIpKSB7CiAgICAgICAgICAgICAgICBzb21lT3RoZXJMb25nRnVuY3Rpb25OYW1lKGExKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYW5kTm93Rm9yU29tZXRoaW5nQ29tcGxldGVseURpZmZlcmVudChhMi5wYXJyb3QpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgICB2YXIgbmFtZXMgPSBwcmVmaXguc29tZXRoaW5nLm15RXhjZWxsZW50TWFwRnVuY3Rpb24oCiAgICAgICAgICAgICAgICB2ZXJib3NlbHlOYW1lZENvbGxlY3Rpb25PZkl0ZW1zLAogICAgICAgICAgICAgICAgZnVuY3Rpb24oaXRlbSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5uYW1lOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICA8L1NVQlNFQ1RJT04+CiAgICAgICAgPFNVQlNFQ1RJT04gdGl0bGU9IkFsaWFzaW5nIHdpdGggZ29vZy5zY29wZSI+CiAgICAgICAgICA8YSBuYW1lPSJnb29nLXNjb3BlIi8+CiAgICAgICAgICA8cD4KICAgICAgICAgICAgPGEgaHJlZj0iaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vZG9jdW1lbnQvcHViP2lkPTFFVEZBdWgya2FYTVZMLXZhZlVZaGFXbGhsNmI1RDlUT3Zib1ZnN1psNjhZIj48Y29kZT5nb29nLnNjb3BlPC9jb2RlPjwvYT4KICAgICAgICAgICAgbWF5IGJlIHVzZWQgdG8gc2hvcnRlbiByZWZlcmVuY2VzIHRvCiAgICAgICAgICAgIG5hbWVzcGFjZWQgc3ltYm9scyBpbiBwcm9ncmFtcyB1c2luZwogICAgICAgICAgICA8YSBocmVmPSJodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9jbG9zdXJlL2xpYnJhcnkvIj50aGUgQ2xvc3VyZQogICAgICAgICAgICAgIExpYnJhcnk8L2E+LjwvcD4KICAgICAgICAgIDxwPk9ubHkgb25lIDxjb2RlPmdvb2cuc2NvcGU8L2NvZGU+IGludm9jYXRpb24gbWF5IGJlIGFkZGVkIHBlcgogICAgICAgICAgICBmaWxlLiAgQWx3YXlzIHBsYWNlIGl0IGluIHRoZSBnbG9iYWwgc2NvcGUuPC9wPgogICAgICAgICAgPHA+VGhlIG9wZW5pbmcgPGNvZGU+Z29vZy5zY29wZShmdW5jdGlvbigpIHs8L2NvZGU+IGludm9jYXRpb24KICAgICAgICAgICAgbXVzdCBiZSBwcmVjZWRlZCBieSBleGFjdGx5IG9uZSBibGFuayBsaW5lIGFuZCBmb2xsb3cgYW55CiAgICAgICAgICAgIDxjb2RlPmdvb2cucHJvdmlkZTwvY29kZT4gc3RhdGVtZW50cywgPGNvZGU+Z29vZy5yZXF1aXJlPC9jb2RlPgogICAgICAgICAgICBzdGF0ZW1lbnRzLCBvciB0b3AtbGV2ZWwgY29tbWVudHMuICBUaGUgaW52b2NhdGlvbiBtdXN0IGJlIGNsb3NlZCBvbgogICAgICAgICAgICB0aGUgbGFzdCBsaW5lIGluIHRoZSBmaWxlLiAgQXBwZW5kIDxjb2RlPi8vIGdvb2cuc2NvcGU8L2NvZGU+IHRvIHRoZQogICAgICAgICAgICBjbG9zaW5nIHN0YXRlbWVudCBvZiB0aGUgc2NvcGUuIFNlcGFyYXRlIHRoZSBjb21tZW50IGZyb20gdGhlCiAgICAgICAgICAgIHNlbWljb2xvbiBieSB0d28gc3BhY2VzLjwvcD4KICAgICAgICAgIDxwPlNpbWlsYXIgdG8gQysrIG5hbWVzcGFjZXMsIGRvIG5vdCBpbmRlbnQgdW5kZXIgZ29vZy5zY29wZQogICAgICAgICAgICBkZWNsYXJhdGlvbnMuIEluc3RlYWQsIGNvbnRpbnVlIGZyb20gdGhlIDAgY29sdW1uLjwvcD4KICAgICAgICAgIDxwPk9ubHkgYWxpYXMgbmFtZXMgdGhhdCB3aWxsIG5vdCBiZSByZS1hc3NpZ25lZCB0byBhbm90aGVyIG9iamVjdAogICAgICAgICAgICAoZS5nLiwgbW9zdCBjb25zdHJ1Y3RvcnMsIGVudW1zLCBhbmQgbmFtZXNwYWNlcykuIERvIG5vdCBkbwogICAgICAgICAgICB0aGlzIChzZWUgYmVsb3cgZm9yIGhvdyB0byBhbGlhcyBhIGNvbnN0cnVjdG9yKTo8L3A+CgogICAgICAgICAgPEJBRF9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgIGdvb2cuc2NvcGUoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciBCdXR0b24gPSBnb29nLnVpLkJ1dHRvbjsKCiAgICAgICAgICAgIEJ1dHRvbiA9IGZ1bmN0aW9uKCkgeyAuLi4gfTsKICAgICAgICAgICAgLi4uCiAgICAgICAgICA8L0JBRF9DT0RFX1NOSVBQRVQ+CgogICAgICAgICAgPHA+TmFtZXMgbXVzdCBiZSB0aGUgc2FtZSBhcyB0aGUgbGFzdCBwcm9wZXJ0eSBvZiB0aGUgZ2xvYmFsIHRoYXQgdGhleQogICAgICAgICAgICBhcmUgYWxpYXNpbmcuPC9wPgoKICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgIGdvb2cucHJvdmlkZSgnbXkubW9kdWxlLlNvbWVUeXBlJyk7CgogICAgICAgICAgICBnb29nLnJlcXVpcmUoJ2dvb2cuZG9tJyk7CiAgICAgICAgICAgIGdvb2cucmVxdWlyZSgnZ29vZy51aS5CdXR0b24nKTsKCiAgICAgICAgICAgIGdvb2cuc2NvcGUoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciBCdXR0b24gPSBnb29nLnVpLkJ1dHRvbjsKICAgICAgICAgICAgdmFyIGRvbSA9IGdvb2cuZG9tOwoKICAgICAgICAgICAgLy8gQWxpYXMgbmV3IHR5cGVzIDxiPmFmdGVyPC9iPiB0aGUgY29uc3RydWN0b3IgZGVjbGFyYXRpb24uCiAgICAgICAgICAgIG15Lm1vZHVsZS5Tb21lVHlwZSA9IGZ1bmN0aW9uKCkgeyAuLi4gfTsKICAgICAgICAgICAgdmFyIFNvbWVUeXBlID0gbXkubW9kdWxlLlNvbWVUeXBlOwoKICAgICAgICAgICAgLy8gRGVjbGFyZSBtZXRob2RzIG9uIHRoZSBwcm90b3R5cGUgYXMgdXN1YWw6CiAgICAgICAgICAgIFNvbWVUeXBlLnByb3RvdHlwZS5maW5kQnV0dG9uID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgLy8gQnV0dG9uIGFzIGFsaWFzZWQgYWJvdmUuCiAgICAgICAgICAgICAgdGhpcy5idXR0b24gPSBuZXcgQnV0dG9uKGRvbS5nZXRFbGVtZW50KCdteS1idXR0b24nKSk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIC4uLgogICAgICAgICAgICB9KTsgIC8vIGdvb2cuc2NvcGUKICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgIDwvU1VCU0VDVElPTj4KICAgICAgICA8U1VCU0VDVElPTiB0aXRsZT0iSW5kZW50aW5nIHdyYXBwZWQgbGluZXMiPgogICAgICAgICAgPHA+RXhjZXB0IGZvciA8YSBocmVmPSIjQXJyYXlfYW5kX09iamVjdF9saXRlcmFscyI+YXJyYXkgbGl0ZXJhbHMsCiAgICAgICAgICAgIG9iamVjdCBsaXRlcmFsczwvYT4sIGFuZCBhbm9ueW1vdXMgZnVuY3Rpb25zLCBhbGwgd3JhcHBlZCBsaW5lcwogICAgICAgICAgICBzaG91bGQgYmUgaW5kZW50ZWQgZWl0aGVyIGxlZnQtYWxpZ25lZCB0byBhIHNpYmxpbmcgZXhwcmVzc2lvbgogICAgICAgICAgICBhYm92ZSwgb3IgZm91ciBzcGFjZXMgKG5vdCB0d28gc3BhY2VzKSBkZWVwZXIgdGhhbiBhIHBhcmVudAogICAgICAgICAgICBleHByZXNzaW9uICh3aGVyZSAic2libGluZyIgYW5kICJwYXJlbnQiIHJlZmVyIHRvIHBhcmVudGhlc2lzCiAgICAgICAgICAgIG5lc3RpbmcgbGV2ZWwpLgogICAgICAgICAgPC9wPgoKICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgIHNvbWVXb25kZXJmdWxIdG1sID0gJzxkaXYgY2xhc3M9IicgKyBnZXRDbGFzc2VzRm9yV29uZGVyZnVsSHRtbCgpJyI+JyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0RXZlbk1vcmVIdG1sKHNvbWVSZWFsbHlJbnRlcmVzdGluZ1ZhbHVlcywgbW9yZVZhbHVlcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbk1vcmVQYXJhbXMsICdhIGR1Y2snLCB0cnVlLCA3MiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZ2h0bHlNb3JlTW9ua2V5cygweGZmZikpICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JzsKCiAgICAgICAgICAgIHRoaXNJc0FWZXJ5TG9uZ1ZhcmlhYmxlTmFtZSA9CiAgICAgICAgICAgICAgICBoZXJlSXNBbkV2ZW5Mb25nZXJPdGhlckZ1bmN0aW9uTmFtZVRoYXRXaWxsTm90Rml0T25QcmV2TGluZSgpOwoKICAgICAgICAgICAgdGhpc0lzQVZlcnlMb25nVmFyaWFibGVOYW1lID0gc2libGluZ09uZSArIHNpYmxpbmdUd28gKyBzaWJsaW5nVGhyZWUgKwogICAgICAgICAgICAgICAgc2libGluZ0ZvdXIgKyBzaWJsaW5nRml2ZSArIHNpYmxpbmdTaXggKyBzaWJsaW5nU2V2ZW4gKwogICAgICAgICAgICAgICAgbW9yZVNpYmxpbmdFeHByZXNzaW9ucyArIGFsbEF0VGhlU2FtZUluZGVudGF0aW9uTGV2ZWw7CgogICAgICAgICAgICB0aGlzSXNBVmVyeUxvbmdWYXJpYWJsZU5hbWUgPSBvcGVyYW5kT25lICsgb3BlcmFuZFR3byArIG9wZXJhbmRUaHJlZSArCiAgICAgICAgICAgICAgICBvcGVyYW5kRm91ciArIG9wZXJhbmRGaXZlICogKAogICAgICAgICAgICAgICAgICAgIGFOZXN0ZWRDaGlsZEV4cHJlc3Npb24gKyBzaG91bGRCZUluZGVudGVkTW9yZSk7CgogICAgICAgICAgICBzb21lVmFsdWUgPSB0aGlzLmZvbygKICAgICAgICAgICAgICAgIHNob3J0QXJnLAogICAgICAgICAgICAgICAgJ1NvbWUgcmVhbGx5IGxvbmcgc3RyaW5nIGFyZyAtIHRoaXMgaXMgYSBwcmV0dHkgY29tbW9uIGNhc2UsIGFjdHVhbGx5LicsCiAgICAgICAgICAgICAgICBzaG9ydHkyLAogICAgICAgICAgICAgICAgdGhpcy5iYXIoKSk7CgogICAgICAgICAgICBpZiAoc2VhcmNoYWJsZUNvbGxlY3Rpb24oYWxsWW91clN0dWZmKS5jb250YWlucyh0aGVTdHVmZllvdVdhbnQpICZhbXA7JmFtcDsKICAgICAgICAgICAgICAgICFhbWJpZW50Tm90aWZpY2F0aW9uLmlzQWN0aXZlKCkgJmFtcDsmYW1wOyAoY2xpZW50LmlzQW1iaWVudFN1cHBvcnRlZCgpIHx8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnQuYWx3YXlzVHJ5QW1iaWVudEFueXdheXMoKSkpIHsKICAgICAgICAgICAgICBhbWJpZW50Tm90aWZpY2F0aW9uLmFjdGl2YXRlKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgIDwvU1VCU0VDVElPTj4KICAgICAgICA8U1VCU0VDVElPTiB0aXRsZT0iQmxhbmsgbGluZXMiPgogICAgICAgICAgPHA+VXNlIG5ld2xpbmVzIHRvIGdyb3VwIGxvZ2ljYWxseSByZWxhdGVkIHBpZWNlcyBvZiBjb2RlLgogICAgICAgICAgICBGb3IgZXhhbXBsZTo8L3A+CiAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICBkb1NvbWV0aGluZ1RvKHgpOwogICAgICAgICAgICBkb1NvbWV0aGluZ0Vsc2VUbyh4KTsKICAgICAgICAgICAgYW5kVGhlbih4KTsKCiAgICAgICAgICAgIG5vd0RvU29tZXRoaW5nV2l0aCh5KTsKCiAgICAgICAgICAgIGFuZE5vd1dpdGgoeik7CiAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICA8L1NVQlNFQ1RJT04+CiAgICAgICAgPFNVQlNFQ1RJT04gdGl0bGU9IkJpbmFyeSBhbmQgVGVybmFyeSBPcGVyYXRvcnMiPgogICAgICAgICAgPHA+QWx3YXlzIHB1dCB0aGUgb3BlcmF0b3Igb24gdGhlIHByZWNlZGluZyBsaW5lLiBPdGhlcndpc2UsCiAgICAgICAgICAgIGxpbmUgYnJlYWtzIGFuZCBpbmRlbnRhdGlvbiBmb2xsb3cgdGhlIHNhbWUgcnVsZXMgYXMgaW4gb3RoZXIKICAgICAgICAgICAgR29vZ2xlIHN0eWxlIGd1aWRlcy4gVGhpcyBvcGVyYXRvciBwbGFjZW1lbnQgd2FzIGluaXRpYWxseSBhZ3JlZWQKICAgICAgICAgICAgdXBvbiBvdXQgb2YgY29uY2VybnMgYWJvdXQgYXV0b21hdGljIHNlbWljb2xvbiBpbnNlcnRpb24uIEluIGZhY3QsCiAgICAgICAgICAgIHNlbWljb2xvbiBpbnNlcnRpb24gY2Fubm90IGhhcHBlbiBiZWZvcmUgYSBiaW5hcnkgb3BlcmF0b3IsIGJ1dCBuZXcKICAgICAgICAgICAgY29kZSBzaG91bGQgc3RpY2sgdG8gdGhpcyBzdHlsZSBmb3IgY29uc2lzdGVuY3kuPC9wPgogICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgdmFyIHggPSBhID8gYiA6IGM7ICAvLyBBbGwgb24gb25lIGxpbmUgaWYgaXQgd2lsbCBmaXQuCgogICAgICAgICAgICAvLyBJbmRlbnRhdGlvbiArNCBpcyBPSy4KICAgICAgICAgICAgdmFyIHkgPSBhID8KICAgICAgICAgICAgICAgIGxvbmdCdXRTaW1wbGVPcGVyYW5kQiA6IGxvbmdCdXRTaW1wbGVPcGVyYW5kQzsKCiAgICAgICAgICAgIC8vIEluZGVudGluZyB0byB0aGUgbGluZSBwb3NpdGlvbiBvZiB0aGUgZmlyc3Qgb3BlcmFuZCBpcyBhbHNvIE9LLgogICAgICAgICAgICB2YXIgeiA9IGEgPwogICAgICAgICAgICAgICAgICAgIG1vcmVDb21wbGljYXRlZEIgOgogICAgICAgICAgICAgICAgICAgIG1vcmVDb21wbGljYXRlZEM7CiAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICAgIDxwPlRoaXMgaW5jbHVkZXMgdGhlIGRvdCBvcGVyYXRvci48L3A+CiAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICB2YXIgeCA9IGZvby5iYXIoKS4KICAgICAgICAgICAgICAgIGRvU29tZXRoaW5nKCkuCiAgICAgICAgICAgICAgICBkb1NvbWV0aGluZ0Vsc2UoKTsKICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgIDwvU1VCU0VDVElPTj4KICAgICAgPC9CT0RZPgogICAgPC9TVFlMRVBPSU5UPgoKICAgIDxTVFlMRVBPSU5UIHRpdGxlPSJQYXJlbnRoZXNlcyI+CiAgICAgIDxTVU1NQVJZPk9ubHkgd2hlcmUgcmVxdWlyZWQ8L1NVTU1BUlk+CiAgICAgIDxCT0RZPgogICAgICAgIDxwPlVzZSBzcGFyaW5nbHkgYW5kIGluIGdlbmVyYWwgb25seSB3aGVyZSByZXF1aXJlZCBieSB0aGUgc3ludGF4CiAgICAgICAgICBhbmQgc2VtYW50aWNzLjwvcD4KICAgICAgICA8cD5OZXZlciB1c2UgcGFyZW50aGVzZXMgZm9yIHVuYXJ5IG9wZXJhdG9ycyBzdWNoIGFzCiAgICAgICAgICA8Y29kZT5kZWxldGU8L2NvZGU+LCA8Y29kZT50eXBlb2Y8L2NvZGU+IGFuZCA8Y29kZT52b2lkPC9jb2RlPiBvcgogICAgICAgICAgYWZ0ZXIga2V5d29yZHMgc3VjaCBhcyA8Y29kZT5yZXR1cm48L2NvZGU+LCA8Y29kZT50aHJvdzwvY29kZT4gYXMKICAgICAgICAgIHdlbGwgYXMgb3RoZXJzICg8Y29kZT5jYXNlPC9jb2RlPiwgPGNvZGU+aW48L2NvZGU+IG9yCiAgICAgICAgICA8Y29kZT5uZXc8L2NvZGU+KS48L3A+CiAgICAgIDwvQk9EWT4KICAgIDwvU1RZTEVQT0lOVD4KCiAgICA8U1RZTEVQT0lOVCB0aXRsZT0iU3RyaW5ncyI+CiAgICAgIDxTVU1NQVJZPlByZWZlciAnIG92ZXIgIjwvU1VNTUFSWT4KICAgICAgPEJPRFk+CiAgICAgICAgPHA+Rm9yIGNvbnNpc3RlbmN5IHNpbmdsZS1xdW90ZXMgKCcpIGFyZSBwcmVmZXJyZWQgdG8gZG91YmxlLXF1b3RlcyAoIikuCiAgICAgICAgICBUaGlzIGlzIGhlbHBmdWwgd2hlbiBjcmVhdGluZyBzdHJpbmdzIHRoYXQgaW5jbHVkZSBIVE1MOjwvcD4KICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgdmFyIG1zZyA9ICdUaGlzIGlzIDxhIGhyZWY9Imh0dHA6Ly9mb28iPnNvbWUgSFRNTDwvYT4nOwogICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICA8L0JPRFk+CiAgICA8L1NUWUxFUE9JTlQ+CgogICAgPFNUWUxFUE9JTlQgdGl0bGU9IlZpc2liaWxpdHkgKHByaXZhdGUgYW5kIHByb3RlY3RlZCBmaWVsZHMpIj4KICAgICAgPFNVTU1BUlk+RW5jb3VyYWdlZCwgdXNlIEpTRG9jIGFubm90YXRpb25zIDxjb2RlPkBwcml2YXRlPC9jb2RlPiBhbmQKICAgICAgICA8Y29kZT5AcHJvdGVjdGVkPC9jb2RlPjwvU1VNTUFSWT4KICAgICAgPEJPRFk+CiAgICAgICAgPHA+V2UgcmVjb21tZW5kIHRoZSB1c2Ugb2YgdGhlIEpTRG9jIGFubm90YXRpb25zIDxjb2RlPkBwcml2YXRlPC9jb2RlPiBhbmQKICAgICAgICAgIDxjb2RlPkBwcm90ZWN0ZWQ8L2NvZGU+IHRvIGluZGljYXRlIHZpc2liaWxpdHkgbGV2ZWxzIGZvciBjbGFzc2VzLAogICAgICAgICAgZnVuY3Rpb25zLCBhbmQgcHJvcGVydGllcy48L3A+CiAgICAgICAgPHA+VGhlIC0tanNjb21wX3dhcm5pbmc9dmlzaWJpbGl0eSBjb21waWxlciBmbGFnIHR1cm5zIG9uIGNvbXBpbGVyCiAgICAgICAgICB3YXJuaW5ncyBmb3IgdmlzaWJpbGl0eSB2aW9sYXRpb25zLiBTZWUKICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2xvc3VyZS1jb21waWxlci93aWtpL1dhcm5pbmdzIj4KICAgICAgICAgICAgQ2xvc3VyZSBDb21waWxlcgogICAgICAgICAgV2FybmluZ3M8L2E+LgogICAgICAgIDwvcD4KICAgICAgICA8cD48Y29kZT5AcHJpdmF0ZTwvY29kZT4gZ2xvYmFsIHZhcmlhYmxlcyBhbmQgZnVuY3Rpb25zIGFyZSBvbmx5CiAgICAgICAgICBhY2Nlc3NpYmxlIHRvIGNvZGUgaW4gdGhlIHNhbWUgZmlsZS48L3A+CiAgICAgICAgPHA+Q29uc3RydWN0b3JzIG1hcmtlZCA8Y29kZT5AcHJpdmF0ZTwvY29kZT4gbWF5IG9ubHkgYmUgaW5zdGFudGlhdGVkIGJ5CiAgICAgICAgICBjb2RlIGluIHRoZSBzYW1lIGZpbGUgYW5kIGJ5IHRoZWlyIHN0YXRpYyBhbmQgaW5zdGFuY2UgbWVtYmVycy4KICAgICAgICAgIDxjb2RlPkBwcml2YXRlPC9jb2RlPiBjb25zdHJ1Y3RvcnMgbWF5IGFsc28gYmUgYWNjZXNzZWQgYW55d2hlcmUgaW4gdGhlCiAgICAgICAgICBzYW1lIGZpbGUgZm9yIHRoZWlyIHB1YmxpYyBzdGF0aWMgcHJvcGVydGllcyBhbmQgYnkgdGhlCiAgICAgICAgICA8Y29kZT5pbnN0YW5jZW9mPC9jb2RlPiBvcGVyYXRvci48L3A+CiAgICAgICAgPHA+R2xvYmFsIHZhcmlhYmxlcywgZnVuY3Rpb25zLCBhbmQgY29uc3RydWN0b3JzIHNob3VsZCBuZXZlciBiZQogICAgICAgICAgYW5ub3RhdGVkIDxjb2RlPkBwcm90ZWN0ZWQ8L2NvZGU+LjwvcD4KICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgLy8gRmlsZSAxLgogICAgICAgICAgLy8gQUFfUHJpdmF0ZUNsYXNzXyBhbmQgQUFfaW5pdF8gYXJlIGFjY2Vzc2libGUgYmVjYXVzZSB0aGV5IGFyZSBnbG9iYWwKICAgICAgICAgIC8vIGFuZCBpbiB0aGUgc2FtZSBmaWxlLgoKICAgICAgICAgIC8qKgogICAgICAgICAgICogQHByaXZhdGUKICAgICAgICAgICAqIEBjb25zdHJ1Y3RvcgogICAgICAgICAgICovCiAgICAgICAgICBBQV9Qcml2YXRlQ2xhc3NfID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICB9OwoKICAgICAgICAgIC8qKiBAcHJpdmF0ZSAqLwogICAgICAgICAgZnVuY3Rpb24gQUFfaW5pdF8oKSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgQUFfUHJpdmF0ZUNsYXNzXygpOwogICAgICAgICAgfQoKICAgICAgICAgIEFBX2luaXRfKCk7CiAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgPHA+PGNvZGU+QHByaXZhdGU8L2NvZGU+IHByb3BlcnRpZXMgYXJlIGFjY2Vzc2libGUgdG8gYWxsIGNvZGUgaW4gdGhlCiAgICAgICAgICBzYW1lIGZpbGUsIHBsdXMgYWxsIHN0YXRpYyBtZXRob2RzIGFuZCBpbnN0YW5jZSBtZXRob2RzIG9mIHRoYXQgY2xhc3MKICAgICAgICAgIHRoYXQgIm93bnMiIHRoZSBwcm9wZXJ0eSwgaWYgdGhlIHByb3BlcnR5IGJlbG9uZ3MgdG8gYSBjbGFzcy4gVGhleQogICAgICAgICAgY2Fubm90IGJlIGFjY2Vzc2VkIG9yIG92ZXJyaWRkZW4gZnJvbSBhIHN1YmNsYXNzIGluIGEgZGlmZmVyZW50IGZpbGUuPC9wPgogICAgICAgIDxwPjxjb2RlPkBwcm90ZWN0ZWQ8L2NvZGU+IHByb3BlcnRpZXMgYXJlIGFjY2Vzc2libGUgdG8gYWxsIGNvZGUgaW4gdGhlCiAgICAgICAgICBzYW1lIGZpbGUsIHBsdXMgYW55IHN0YXRpYyBtZXRob2RzIGFuZCBpbnN0YW5jZSBtZXRob2RzIG9mIGFueSBzdWJjbGFzcwogICAgICAgICAgb2YgYSBjbGFzcyB0aGF0ICJvd25zIiB0aGUgcHJvcGVydHkuPC9wPgogICAgICAgIDxwPk5vdGUgdGhhdCB0aGVzZSBzZW1hbnRpY3MgZGlmZmVyIGZyb20gdGhvc2Ugb2YgQysrIGFuZCBKYXZhLCBpbiB0aGF0CiAgICAgICAgICB0aGV5IGdyYW50IHByaXZhdGUgYW5kIHByb3RlY3RlZCBhY2Nlc3MgdG8gYWxsIGNvZGUgaW4gdGhlIHNhbWUgZmlsZSwKICAgICAgICAgIG5vdCBqdXN0IGluIHRoZSBzYW1lIGNsYXNzIG9yIGNsYXNzIGhpZXJhcmNoeS4gQWxzbywgdW5saWtlIGluIEMrKywKICAgICAgICAgIHByaXZhdGUgcHJvcGVydGllcyBjYW5ub3QgYmUgb3ZlcnJpZGRlbiBieSBhIHN1YmNsYXNzLgogICAgICAgIDwvcD4KICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgLy8gRmlsZSAxLgoKICAgICAgICAgIC8qKiBAY29uc3RydWN0b3IgKi8KICAgICAgICAgIEFBX1B1YmxpY0NsYXNzID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIC8qKiBAcHJpdmF0ZSAqLwogICAgICAgICAgICB0aGlzLnByaXZhdGVQcm9wXyA9IDI7CgogICAgICAgICAgICAvKiogQHByb3RlY3RlZCAqLwogICAgICAgICAgICB0aGlzLnByb3RlY3RlZFByb3AgPSA0OwogICAgICAgICAgfTsKCiAgICAgICAgICAvKiogQHByaXZhdGUgKi8KICAgICAgICAgIEFBX1B1YmxpY0NsYXNzLnN0YXRpY1ByaXZhdGVQcm9wXyA9IDE7CgogICAgICAgICAgLyoqIEBwcm90ZWN0ZWQgKi8KICAgICAgICAgIEFBX1B1YmxpY0NsYXNzLnN0YXRpY1Byb3RlY3RlZFByb3AgPSAzMTsKCiAgICAgICAgICAvKiogQHByaXZhdGUgKi8KICAgICAgICAgIEFBX1B1YmxpY0NsYXNzLnByb3RvdHlwZS5wcml2YXRlTWV0aG9kXyA9IGZ1bmN0aW9uKCkge307CgogICAgICAgICAgLyoqIEBwcm90ZWN0ZWQgKi8KICAgICAgICAgIEFBX1B1YmxpY0NsYXNzLnByb3RvdHlwZS5wcm90ZWN0ZWRNZXRob2QgPSBmdW5jdGlvbigpIHt9OwoKICAgICAgICAgIC8vIEZpbGUgMi4KCiAgICAgICAgICAvKioKICAgICAgICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG51bWJlciBvZiBkdWNrcyB3ZSd2ZSBhcnJhbmdlZCBpbiBhIHJvdy4KICAgICAgICAgICAqLwogICAgICAgICAgQUFfUHVibGljQ2xhc3MucHJvdG90eXBlLm1ldGhvZCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAvLyBMZWdhbCBhY2Nlc3NlcyBvZiB0aGVzZSB0d28gcHJvcGVydGllcy4KICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJpdmF0ZVByb3BfICsgQUFfUHVibGljQ2xhc3Muc3RhdGljUHJpdmF0ZVByb3BfOwogICAgICAgICAgfTsKCiAgICAgICAgICAvLyBGaWxlIDMuCgogICAgICAgICAgLyoqCiAgICAgICAgICAgKiBAY29uc3RydWN0b3IKICAgICAgICAgICAqIEBleHRlbmRzIHtBQV9QdWJsaWNDbGFzc30KICAgICAgICAgICAqLwogICAgICAgICAgQUFfU3ViQ2xhc3MgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgLy8gTGVnYWwgYWNjZXNzIG9mIGEgcHJvdGVjdGVkIHN0YXRpYyBwcm9wZXJ0eS4KICAgICAgICAgICAgQUFfUHVibGljQ2xhc3Muc3RhdGljUHJvdGVjdGVkUHJvcCA9IHRoaXMubWV0aG9kKCk7CiAgICAgICAgICB9OwogICAgICAgICAgZ29vZy5pbmhlcml0cyhBQV9TdWJDbGFzcywgQUFfUHVibGljQ2xhc3MpOwoKICAgICAgICAgIC8qKgogICAgICAgICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbnVtYmVyIG9mIGR1Y2tzIHdlJ3ZlIGFycmFuZ2VkIGluIGEgcm93LgogICAgICAgICAgICovCiAgICAgICAgICBBQV9TdWJDbGFzcy5wcm90b3R5cGUubWV0aG9kID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIC8vIExlZ2FsIGFjY2VzcyBvZiBhIHByb3RlY3RlZCBpbnN0YW5jZSBwcm9wZXJ0eS4KICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvdGVjdGVkUHJvcDsKICAgICAgICAgIH07CiAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CgogICAgICAgIDxwPk5vdGljZSB0aGF0IGluIEphdmFTY3JpcHQsIHRoZXJlIGlzIG5vIGRpc3RpbmN0aW9uIGJldHdlZW4gYSB0eXBlCiAgICAgICAgKGxpa2UgIDxjb2RlPkFBX1ByaXZhdGVDbGFzc188L2NvZGU+KSBhbmQgdGhlIGNvbnN0cnVjdG9yIGZvciB0aGF0CiAgICAgICAgdHlwZS4gVGhlcmUgaXMgbm8gd2F5IHRvIGV4cHJlc3MgYm90aCB0aGF0IGEgdHlwZSBpcyBwdWJsaWMgYW5kIGl0cwogICAgICAgIGNvbnN0cnVjdG9yIGlzIHByaXZhdGUgKGJlY2F1c2UgdGhlIGNvbnN0cnVjdG9yIGNvdWxkIGVhc2lseSBiZSBhbGlhc2VkCiAgICAgICAgaW4gYSB3YXkgdGhhdCB3b3VsZCBkZWZlYXQgdGhlIHByaXZhY3kgY2hlY2spLjwvcD4KICAgICAgPC9CT0RZPgogICAgPC9TVFlMRVBPSU5UPgoKICAgIDxTVFlMRVBPSU5UIHRpdGxlPSJKYXZhU2NyaXB0IFR5cGVzIj4KICAgICAgPFNVTU1BUlk+RW5jb3VyYWdlZCBhbmQgZW5mb3JjZWQgYnkgdGhlIGNvbXBpbGVyLjwvU1VNTUFSWT4KICAgICAgPEJPRFk+CiAgICAgICAgPGEgbmFtZT0iSnNUeXBlcyIvPgogICAgICAgIDxwPldoZW4gZG9jdW1lbnRpbmcgYSB0eXBlIGluIEpTRG9jLCBiZSBhcyBzcGVjaWZpYyBhbmQgYWNjdXJhdGUgYXMKICAgICAgICAgIHBvc3NpYmxlLiBUaGUgdHlwZXMgd2Ugc3VwcG9ydCBhcmUgYmFzZWQgb24gdGhlCiAgICAgICAgICA8YSBocmVmPSJodHRwOi8vd2lraS5lY21hc2NyaXB0Lm9yZy9kb2t1LnBocD9pZD1zcGVjOnNwZWMiPgogICAgICAgICAgICBFY21hU2NyaXB0IDQgc3BlYzwvYT4uPC9wPgogICAgICAgIDxTVUJTRUNUSU9OIHRpdGxlPSJUaGUgSmF2YVNjcmlwdCBUeXBlIExhbmd1YWdlIj4KICAgICAgICAgIDxwPlRoZSBFUzQgcHJvcG9zYWwgY29udGFpbmVkIGEgbGFuZ3VhZ2UgZm9yIHNwZWNpZnlpbmcgSmF2YVNjcmlwdAogICAgICAgICAgICB0eXBlcy4gV2UgdXNlIHRoaXMgbGFuZ3VhZ2UgaW4gSnNEb2MgdG8gZXhwcmVzcyB0aGUgdHlwZXMgb2YKICAgICAgICAgICAgZnVuY3Rpb24gcGFyYW1ldGVycyBhbmQgcmV0dXJuIHZhbHVlcy48L3A+CgogICAgICAgICAgPHA+QXMgdGhlIEVTNCBwcm9wb3NhbCBoYXMgZXZvbHZlZCwgdGhpcyBsYW5ndWFnZSBoYXMgY2hhbmdlZC4gVGhlCiAgICAgICAgICAgIGNvbXBpbGVyIHN0aWxsIHN1cHBvcnRzIG9sZCBzeW50YXhlcyBmb3IgdHlwZXMsIGJ1dCB0aG9zZSBzeW50YXhlcwogICAgICAgICAgICBhcmUgZGVwcmVjYXRlZC48L3A+CgogICAgICAgICAgPHAvPgogICAgICAgICAgPHRhYmxlIGJvcmRlcj0iMSIgc3R5bGU9ImJvcmRlci1jb2xsYXBzZTpjb2xsYXBzZSIgY2VsbHBhZGRpbmc9IjQiPgogICAgICAgICAgICA8dGhlYWQ+CiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRoPlN5bnRheCBOYW1lPC90aD4KICAgICAgICAgICAgICAgIDx0aD5TeW50YXg8L3RoPgogICAgICAgICAgICAgICAgPHRoPkRlc2NyaXB0aW9uPC90aD4KICAgICAgICAgICAgICAgIDx0aD5EZXByZWNhdGVkIFN5bnRheGVzPC90aD4KICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICA8L3RoZWFkPgogICAgICAgICAgICA8dGJvZHk+CiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkPlByaW1pdGl2ZSBUeXBlPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgVGhlcmUgYXJlIDUgcHJpbWl0aXZlIHR5cGVzIGluIEphdmFTY3JpcHQ6CiAgICAgICAgICAgICAgICAgIDxjb2RlPntudWxsfTwvY29kZT4sCiAgICAgICAgICAgICAgICAgIDxjb2RlPnt1bmRlZmluZWR9PC9jb2RlPiwKICAgICAgICAgICAgICAgICAgPGNvZGU+e2Jvb2xlYW59PC9jb2RlPiwKICAgICAgICAgICAgICAgICAgPGNvZGU+e251bWJlcn08L2NvZGU+LCBhbmQKICAgICAgICAgICAgICAgICAgPGNvZGU+e3N0cmluZ308L2NvZGU+LgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD5TaW1wbHkgdGhlIG5hbWUgb2YgYSB0eXBlLjwvdGQ+CiAgICAgICAgICAgICAgICA8dGQvPgogICAgICAgICAgICAgIDwvdHI+CgogICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZD5JbnN0YW5jZSBUeXBlPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPGNvZGU+e09iamVjdH08L2NvZGU+PGJyLz4KICAgICAgICAgICAgICAgICAgQW4gaW5zdGFuY2Ugb2YgT2JqZWN0IG9yIG51bGwuPHAvPgogICAgICAgICAgICAgICAgICA8Y29kZT57RnVuY3Rpb259PC9jb2RlPjxici8+CiAgICAgICAgICAgICAgICAgIEFuIGluc3RhbmNlIG9mIEZ1bmN0aW9uIG9yIG51bGwuPHAvPgogICAgICAgICAgICAgICAgICA8Y29kZT57RXZlbnRUYXJnZXR9PC9jb2RlPjxici8+CiAgICAgICAgICAgICAgICAgIEFuIGluc3RhbmNlIG9mIGEgY29uc3RydWN0b3IgdGhhdCBpbXBsZW1lbnRzIHRoZSBFdmVudFRhcmdldAogICAgICAgICAgICAgICAgICBpbnRlcmZhY2UsIG9yIG51bGwuCiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPkFuIGluc3RhbmNlIG9mIGEgY29uc3RydWN0b3Igb3IgaW50ZXJmYWNlIGZ1bmN0aW9uLjxwLz4KCiAgICAgICAgICAgICAgICBDb25zdHJ1Y3RvciBmdW5jdGlvbnMgYXJlIGZ1bmN0aW9ucyBkZWZpbmVkIHdpdGggdGhlCiAgICAgICAgICAgICAgICA8Y29kZT5AY29uc3RydWN0b3I8L2NvZGU+IEpTRG9jIHRhZy4KICAgICAgICAgICAgICAgIEludGVyZmFjZSBmdW5jdGlvbnMgYXJlIGZ1bmN0aW9ucyBkZWZpbmVkIHdpdGggdGhlCiAgICAgICAgICAgICAgICA8Y29kZT5AaW50ZXJmYWNlPC9jb2RlPiBKU0RvYyB0YWcuPHAvPgoKICAgICAgICAgICAgICAgIEJ5IGRlZmF1bHQsIGluc3RhbmNlIHR5cGVzIHdpbGwgYWNjZXB0IG51bGwuIFRoaXMgaXMgdGhlIG9ubHkKCQl0eXBlIHN5bnRheCB0aGF0IG1ha2VzIHRoZSB0eXBlIG51bGxhYmxlLiBPdGhlciB0eXBlIHN5bnRheGVzCgkJaW4gdGhpcyB0YWJsZSB3aWxsIG5vdCBhY2NlcHQgbnVsbC4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQvPgogICAgICAgICAgICAgIDwvdHI+CgogICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZD5FbnVtIFR5cGU8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8Y29kZT57Z29vZy5ldmVudHMuRXZlbnRUeXBlfTwvY29kZT48YnIvPgogICAgICAgICAgICAgICAgICBPbmUgb2YgdGhlIHByb3BlcnRpZXMgb2YgdGhlIG9iamVjdCBsaXRlcmFsIGluaXRpYWxpemVyCiAgICAgICAgICAgICAgICAgIG9mIDxjb2RlPmdvb2cuZXZlbnRzLkV2ZW50VHlwZTwvY29kZT4uCiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPkFuIGVudW0gbXVzdCBiZSBpbml0aWFsaXplZCBhcyBhbiBvYmplY3QgbGl0ZXJhbCwgb3IgYXMKICAgICAgICAgICAgICAgIGFuIGFsaWFzIG9mIGFub3RoZXIgZW51bSwgYW5ub3RhdGVkIHdpdGggdGhlIDxjb2RlPkBlbnVtPC9jb2RlPgogICAgICAgICAgICAgICAgSlNEb2MgdGFnLiBUaGUgcHJvcGVydGllcyBvZiB0aGlzIGxpdGVyYWwgYXJlIHRoZSBpbnN0YW5jZXMKICAgICAgICAgICAgICAgIG9mIHRoZSBlbnVtLiBUaGUgc3ludGF4IG9mIHRoZSBlbnVtIGlzIGRlZmluZWQKICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNlbnVtcyI+YmVsb3c8L2E+LjxwLz4KCiAgICAgICAgICAgICAgICBOb3RlIHRoYXQgdGhpcyBpcyBvbmUgb2YgdGhlIGZldyB0aGluZ3MgaW4gb3VyIHR5cGUgc3lzdGVtCiAgICAgICAgICAgICAgICB0aGF0IHdlcmUgbm90IGluIHRoZSBFUzQgc3BlYy4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQvPgogICAgICAgICAgICAgIDwvdHI+CgogICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZD5UeXBlIEFwcGxpY2F0aW9uPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPGNvZGU+e0FycmF5LiZsdDtzdHJpbmcmZ3Q7fTwvY29kZT48YnIvPkFuIGFycmF5IG9mIHN0cmluZ3MuPHAvPgogICAgICAgICAgICAgICAgICA8Y29kZT57T2JqZWN0LiZsdDtzdHJpbmcsIG51bWJlciZndDt9PC9jb2RlPgogICAgICAgICAgICAgICAgICA8YnIvPkFuIG9iamVjdCBpbiB3aGljaCB0aGUga2V5cyBhcmUgc3RyaW5ncyBhbmQgdGhlIHZhbHVlcwogICAgICAgICAgICAgICAgICBhcmUgbnVtYmVycy4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+UGFyYW1ldGVyaXplcyBhIHR5cGUsIGJ5IGFwcGx5aW5nIGEgc2V0IG9mIHR5cGUgYXJndW1lbnRzCiAgICAgICAgICAgICAgICAgIHRvIHRoYXQgdHlwZS4gVGhlIGlkZWEgaXMgYW5hbG9nb3VzIHRvIGdlbmVyaWNzIGluIEphdmEuCiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkLz4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+VHlwZSBVbmlvbjwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxjb2RlPnsobnVtYmVyfGJvb2xlYW4pfTwvY29kZT48YnIvPkEgbnVtYmVyIG9yIGEgYm9vbGVhbi4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+SW5kaWNhdGVzIHRoYXQgYSB2YWx1ZSBtaWdodCBoYXZlIHR5cGUgQSBPUiB0eXBlIEIuPHAvPgoKICAgICAgICAgICAgICAgICAgVGhlIHBhcmVudGhlc2VzIG1heSBiZSBvbWl0dGVkIGF0IHRoZSB0b3AtbGV2ZWwKICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbiwgYnV0IHRoZSBwYXJlbnRoZXNlcyBzaG91bGQgYmUgaW5jbHVkZWQgaW4KICAgICAgICAgICAgICAgICAgc3ViLWV4cHJlc3Npb25zIHRvIGF2b2lkIGFtYmlndWl0eS48YnIvPgogICAgICAgICAgICAgICAgICA8Y29kZT57bnVtYmVyfGJvb2xlYW59PC9jb2RlPjxici8+CiAgICAgICAgICAgICAgICAgIDxjb2RlPntmdW5jdGlvbigpOiAobnVtYmVyfGJvb2xlYW4pfTwvY29kZT4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxjb2RlPnsobnVtYmVyLGJvb2xlYW4pfTwvY29kZT4sPGJyLz4KICAgICAgICAgICAgICAgICAgPGNvZGU+eyhudW1iZXJ8fGJvb2xlYW4pfTwvY29kZT4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgPC90cj4KCiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkPk51bGxhYmxlIHR5cGU8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8Y29kZT57P251bWJlcn08L2NvZGU+PGJyLz4gQSBudW1iZXIgb3IgbnVsbC4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+U2hvcnRoYW5kIGZvciB0aGUgdW5pb24gb2YgdGhlIG51bGwgdHlwZSB3aXRoIGFueQogICAgICAgICAgICAgICAgb3RoZXIgdHlwZS4gVGhpcyBpcyBqdXN0IHN5bnRhY3RpYyBzdWdhci4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxjb2RlPntudW1iZXI/fTwvY29kZT4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgPC90cj4KCiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkPk5vbi1udWxsYWJsZSB0eXBlPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPGNvZGU+eyFPYmplY3R9PC9jb2RlPjxici8+IEFuIE9iamVjdCwgYnV0IG5ldmVyIHRoZQogICAgICAgICAgICAgICAgICA8Y29kZT5udWxsPC9jb2RlPiB2YWx1ZS4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+RmlsdGVycyBudWxsIG91dCBvZiBudWxsYWJsZSB0eXBlcy4gTW9zdCBvZnRlbiB1c2VkCiAgICAgICAgICAgICAgICB3aXRoIGluc3RhbmNlIHR5cGVzLCB3aGljaCBhcmUgbnVsbGFibGUgYnkgZGVmYXVsdC4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxjb2RlPntPYmplY3QhfTwvY29kZT4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgPC90cj4KCiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkPlJlY29yZCBUeXBlPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPGNvZGU+e3tteU51bTogbnVtYmVyLCBteU9iamVjdH19PC9jb2RlPgogICAgICAgICAgICAgICAgICA8YnIvPkFuIGFub255bW91cyB0eXBlIHdpdGggdGhlIGdpdmVuIHR5cGUgbWVtYmVycy4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxwPkluZGljYXRlcyB0aGF0IHRoZSB2YWx1ZSBoYXMgdGhlIHNwZWNpZmllZCBtZW1iZXJzIHdpdGggdGhlCiAgICAgICAgICAgICAgICAgICAgc3BlY2lmaWVkIHR5cGVzLiBJbiB0aGlzIGNhc2UsIDxjb2RlPm15TnVtPC9jb2RlPiB3aXRoIGEKICAgICAgICAgICAgICAgICAgICB0eXBlIDxjb2RlPm51bWJlcjwvY29kZT4gYW5kIDxjb2RlPm15T2JqZWN0PC9jb2RlPiB3aXRoIGFueQogICAgICAgICAgICAgICAgICAgIHR5cGUuPC9wPgogICAgICAgICAgICAgICAgICA8cD5Ob3RpY2UgdGhhdCB0aGUgYnJhY2VzIGFyZSBwYXJ0IG9mIHRoZSB0eXBlIHN5bnRheC4gRm9yCiAgICAgICAgICAgICAgICAgICAgZXhhbXBsZSwgdG8gZGVub3RlIGFuIDxjb2RlPkFycmF5PC9jb2RlPiBvZiBvYmplY3RzIHRoYXQKICAgICAgICAgICAgICAgICAgICBoYXZlIGEgPGNvZGU+bGVuZ3RoPC9jb2RlPiBwcm9wZXJ0eSwgeW91IG1pZ2h0IHdyaXRlCiAgICAgICAgICAgICAgICAgIDxjb2RlPkFycmF5LiZsdDt7bGVuZ3RofSZndDs8L2NvZGU+LjwvcD4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQvPgogICAgICAgICAgICAgIDwvdHI+CgogICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZD5GdW5jdGlvbiBUeXBlPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPGNvZGU+e2Z1bmN0aW9uKHN0cmluZywgYm9vbGVhbil9PC9jb2RlPjxici8+CiAgICAgICAgICAgICAgICAgIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyB0d28gYXJndW1lbnRzIChhIHN0cmluZyBhbmQgYSBib29sZWFuKSwKICAgICAgICAgICAgICAgICAgYW5kIGhhcyBhbiB1bmtub3duIHJldHVybiB2YWx1ZS48YnIvPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD5TcGVjaWZpZXMgYSBmdW5jdGlvbi48L3RkPgogICAgICAgICAgICAgICAgPHRkLz4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+RnVuY3Rpb24gUmV0dXJuIFR5cGU8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8Y29kZT57ZnVuY3Rpb24oKTogbnVtYmVyfTwvY29kZT48YnIvPgogICAgICAgICAgICAgICAgICBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgbm8gYXJndW1lbnRzIGFuZCByZXR1cm5zIGEgbnVtYmVyLjxici8+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPlNwZWNpZmllcyBhIGZ1bmN0aW9uIHJldHVybiB0eXBlLjwvdGQ+CiAgICAgICAgICAgICAgICA8dGQvPgogICAgICAgICAgICAgIDwvdHI+CgogICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZD5GdW5jdGlvbiA8Y29kZT50aGlzPC9jb2RlPiBUeXBlPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPGNvZGU+e2Z1bmN0aW9uKHRoaXM6Z29vZy51aS5NZW51LCBzdHJpbmcpfTwvY29kZT48YnIvPgogICAgICAgICAgICAgICAgICBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgb25lIGFyZ3VtZW50IChhIHN0cmluZyksIGFuZCBleGVjdXRlcwogICAgICAgICAgICAgICAgICBpbiB0aGUgY29udGV4dCBvZiBhIGdvb2cudWkuTWVudS4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+U3BlY2lmaWVzIHRoZSBjb250ZXh0IHR5cGUgb2YgYSBmdW5jdGlvbiB0eXBlLjwvdGQ+CiAgICAgICAgICAgICAgICA8dGQvPgogICAgICAgICAgICAgIDwvdHI+CgogICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZD5GdW5jdGlvbiA8Y29kZT5uZXc8L2NvZGU+IFR5cGU8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8Y29kZT57ZnVuY3Rpb24obmV3Omdvb2cudWkuTWVudSwgc3RyaW5nKX08L2NvZGU+PGJyLz4KICAgICAgICAgICAgICAgICAgQSBjb25zdHJ1Y3RvciB0aGF0IHRha2VzIG9uZSBhcmd1bWVudCAoYSBzdHJpbmcpLCBhbmQKICAgICAgICAgICAgICAgICAgY3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBnb29nLnVpLk1lbnUgd2hlbiBjYWxsZWQKICAgICAgICAgICAgICAgICAgd2l0aCB0aGUgJ25ldycga2V5d29yZC4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+U3BlY2lmaWVzIHRoZSBjb25zdHJ1Y3RlZCB0eXBlIG9mIGEgY29uc3RydWN0b3IuPC90ZD4KICAgICAgICAgICAgICAgIDx0ZC8+CiAgICAgICAgICAgICAgPC90cj4KCiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkPlZhcmlhYmxlIGFyZ3VtZW50czwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxjb2RlPntmdW5jdGlvbihzdHJpbmcsIC4uLltudW1iZXJdKTogbnVtYmVyfTwvY29kZT48YnIvPgogICAgICAgICAgICAgICAgICBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgb25lIGFyZ3VtZW50IChhIHN0cmluZyksIGFuZCB0aGVuIGEKICAgICAgICAgICAgICAgICAgdmFyaWFibGUgbnVtYmVyIG9mIGFyZ3VtZW50cyB0aGF0IG11c3QgYmUgbnVtYmVycy4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+U3BlY2lmaWVzIHZhcmlhYmxlIGFyZ3VtZW50cyB0byBhIGZ1bmN0aW9uLjwvdGQ+CiAgICAgICAgICAgICAgICA8dGQvPgogICAgICAgICAgICAgIDwvdHI+CgogICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPGEgbmFtZT0idmFyLWFyZ3MtYW5ub3RhdGlvbiIvPgogICAgICAgICAgICAgICAgICBWYXJpYWJsZSBhcmd1bWVudHMgKGluIDxjb2RlPkBwYXJhbTwvY29kZT4gYW5ub3RhdGlvbnMpCiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8Y29kZT5AcGFyYW0gey4uLm51bWJlcn0gdmFyX2FyZ3M8L2NvZGU+PGJyLz4KICAgICAgICAgICAgICAgICAgQSB2YXJpYWJsZSBudW1iZXIgb2YgYXJndW1lbnRzIHRvIGFuIGFubm90YXRlZCBmdW5jdGlvbi4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIFNwZWNpZmllcyB0aGF0IHRoZSBhbm5vdGF0ZWQgZnVuY3Rpb24gYWNjZXB0cyBhIHZhcmlhYmxlCiAgICAgICAgICAgICAgICAgIG51bWJlciBvZiBhcmd1bWVudHMuCiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkLz4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+RnVuY3Rpb24gPGEgaHJlZj0iI29wdGlvbmFsIj5vcHRpb25hbCBhcmd1bWVudHM8L2E+PC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPGNvZGU+e2Z1bmN0aW9uKD9zdHJpbmc9LCBudW1iZXI9KX08L2NvZGU+PGJyLz4KICAgICAgICAgICAgICAgICAgQSBmdW5jdGlvbiB0aGF0IHRha2VzIG9uZSBvcHRpb25hbCwgbnVsbGFibGUgc3RyaW5nIGFuZCBvbmUKICAgICAgICAgICAgICAgICAgb3B0aW9uYWwgbnVtYmVyIGFzIGFyZ3VtZW50cy4gVGhlIDxjb2RlPj08L2NvZGU+IHN5bnRheCBpcwogICAgICAgICAgICAgICAgICBvbmx5IGZvciA8Y29kZT5mdW5jdGlvbjwvY29kZT4gdHlwZSBkZWNsYXJhdGlvbnMuCiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPlNwZWNpZmllcyBvcHRpb25hbCBhcmd1bWVudHMgdG8gYSBmdW5jdGlvbi48L3RkPgogICAgICAgICAgICAgICAgPHRkLz4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxhIG5hbWU9Im9wdGlvbmFsLWFyZy1hbm5vdGF0aW9uIi8+CiAgICAgICAgICAgICAgICAgIEZ1bmN0aW9uIDxhIGhyZWY9IiNvcHRpb25hbCI+b3B0aW9uYWwgYXJndW1lbnRzPC9hPgogICAgICAgICAgICAgICAgICAoaW4gPGNvZGU+QHBhcmFtPC9jb2RlPiBhbm5vdGF0aW9ucykKICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxjb2RlPkBwYXJhbSB7bnVtYmVyPX0gb3B0X2FyZ3VtZW50PC9jb2RlPjxici8+CiAgICAgICAgICAgICAgICAgIEFuIG9wdGlvbmFsIHBhcmFtZXRlciBvZiB0eXBlIDxjb2RlPm51bWJlcjwvY29kZT4uCiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPlNwZWNpZmllcyB0aGF0IHRoZSBhbm5vdGF0ZWQgZnVuY3Rpb24gYWNjZXB0cyBhbiBvcHRpb25hbAogICAgICAgICAgICAgICAgICBhcmd1bWVudC48L3RkPgogICAgICAgICAgICAgICAgPHRkLz4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+VGhlIEFMTCB0eXBlPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD48Y29kZT57Kn08L2NvZGU+PC90ZD4KICAgICAgICAgICAgICAgIDx0ZD5JbmRpY2F0ZXMgdGhhdCB0aGUgdmFyaWFibGUgY2FuIHRha2Ugb24gYW55IHR5cGUuPC90ZD4KICAgICAgICAgICAgICAgIDx0ZC8+CiAgICAgICAgICAgICAgPC90cj4KCiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkPlRoZSBVTktOT1dOIHR5cGU8L3RkPgogICAgICAgICAgICAgICAgPHRkPjxjb2RlPns/fTwvY29kZT48L3RkPgogICAgICAgICAgICAgICAgPHRkPkluZGljYXRlcyB0aGF0IHRoZSB2YXJpYWJsZSBjYW4gdGFrZSBvbiBhbnkgdHlwZSwKICAgICAgICAgICAgICAgICAgICBhbmQgdGhlIGNvbXBpbGVyIHNob3VsZCBub3QgdHlwZS1jaGVjayBhbnkgdXNlcyBvZiBpdC48L3RkPgogICAgICAgICAgICAgICAgPHRkLz4KICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICA8L3Rib2R5PgogICAgICAgICAgPC90YWJsZT4KICAgICAgICA8L1NVQlNFQ1RJT04+CiAgICAgICAgPFNVQlNFQ1RJT04gdGl0bGU9IlR5cGVzIGluIEphdmFTY3JpcHQiPgogICAgICAgICAgPHAvPgogICAgICAgICAgPHRhYmxlIGJvcmRlcj0iMSIgc3R5bGU9ImJvcmRlci1jb2xsYXBzZTpjb2xsYXBzZSIgY2VsbHBhZGRpbmc9IjQiPgogICAgICAgICAgICA8dGhlYWQ+CiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRoPlR5cGUgRXhhbXBsZTwvdGg+CiAgICAgICAgICAgICAgICA8dGg+VmFsdWUgRXhhbXBsZXM8L3RoPgogICAgICAgICAgICAgICAgPHRoPkRlc2NyaXB0aW9uPC90aD4KICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICA8L3RoZWFkPgogICAgICAgICAgICA8dGJvZHk+CgogICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZD5udW1iZXI8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgICAgIDEKICAgICAgICAgICAgICAgICAgICAxLjAKICAgICAgICAgICAgICAgICAgICAtNQogICAgICAgICAgICAgICAgICAgIDFlNQogICAgICAgICAgICAgICAgICAgIE1hdGguUEkKICAgICAgICAgICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkLz4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+TnVtYmVyPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICBuZXcgTnVtYmVyKHRydWUpCiAgICAgICAgICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI1dyYXBwZXJfb2JqZWN0c19mb3JfcHJpbWl0aXZlX3R5cGVzIj4KICAgICAgICAgICAgICAgICAgICBOdW1iZXIgb2JqZWN0CiAgICAgICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgPC90cj4KCiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkPnN0cmluZzwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICAgICAgJ0hlbGxvJwogICAgICAgICAgICAgICAgICAgICJXb3JsZCIKICAgICAgICAgICAgICAgICAgICBTdHJpbmcoNDIpCiAgICAgICAgICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgU3RyaW5nIHZhbHVlCiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgIDwvdHI+CgogICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZD5TdHJpbmc8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgICAgIG5ldyBTdHJpbmcoJ0hlbGxvJykKICAgICAgICAgICAgICAgICAgICBuZXcgU3RyaW5nKDQyKQogICAgICAgICAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNXcmFwcGVyX29iamVjdHNfZm9yX3ByaW1pdGl2ZV90eXBlcyI+CiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIG9iamVjdAogICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgIDwvdHI+CgogICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZD5ib29sZWFuPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICB0cnVlCiAgICAgICAgICAgICAgICAgICAgZmFsc2UKICAgICAgICAgICAgICAgICAgICBCb29sZWFuKDApCiAgICAgICAgICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgQm9vbGVhbiB2YWx1ZQogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+Qm9vbGVhbjwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICAgICAgbmV3IEJvb2xlYW4odHJ1ZSkKICAgICAgICAgICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8YSBocmVmPSIjV3JhcHBlcl9vYmplY3RzX2Zvcl9wcmltaXRpdmVfdHlwZXMiPgogICAgICAgICAgICAgICAgICAgIEJvb2xlYW4gb2JqZWN0CiAgICAgICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgPC90cj4KCiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkPlJlZ0V4cDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICAgICAgbmV3IFJlZ0V4cCgnaGVsbG8nKQogICAgICAgICAgICAgICAgICAgIC93b3JsZC9nCiAgICAgICAgICAgICAgICAgIDwvQ09ERV9TTklQUEVUPjwvdGQ+PHRkPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+RGF0ZTwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICAgICAgbmV3IERhdGUKICAgICAgICAgICAgICAgICAgICBuZXcgRGF0ZSgpCiAgICAgICAgICAgICAgICAgIDwvQ09ERV9TTklQUEVUPjwvdGQ+CiAgICAgICAgICAgICAgICA8dGQvPgogICAgICAgICAgICAgIDwvdHI+CgogICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZD4KCiAgICAgICAgICAgICAgICAgIG51bGwKCiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgICAgIG51bGwKICAgICAgICAgICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkLz4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+CgogICAgICAgICAgICAgICAgICB1bmRlZmluZWQKCiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZAogICAgICAgICAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQvPgogICAgICAgICAgICAgIDwvdHI+CgogICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZD52b2lkPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBmKCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPk5vIHJldHVybiB2YWx1ZTwvdGQ+CiAgICAgICAgICAgICAgPC90cj4KCiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkPkFycmF5PC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICBbJ2ZvbycsIDAuMywgbnVsbF0KICAgICAgICAgICAgICAgICAgICBbXQogICAgICAgICAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+VW50eXBlZCBBcnJheTwvdGQ+CiAgICAgICAgICAgICAgPC90cj4KCiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkPkFycmF5LiZsdDtudW1iZXImZ3Q7PC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICBbMTEsIDIyLCAzM10KICAgICAgICAgICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICBBbiBBcnJheSBvZiBudW1iZXJzCiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgIDwvdHI+CgogICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZD5BcnJheS4mbHQ7QXJyYXkuJmx0O3N0cmluZyZndDsmZ3Q7PC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICBbWydvbmUnLCAndHdvJywgJ3RocmVlJ10sIFsnZm9vJywgJ2JhciddXQogICAgICAgICAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+QXJyYXkgb2YgQXJyYXlzIG9mIHN0cmluZ3M8L3RkPgogICAgICAgICAgICAgIDwvdHI+CgogICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZD5PYmplY3Q8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICAgICAgICAge2ZvbzogJ2FiYycsIGJhcjogMTIzLCBiYXo6IG51bGx9CiAgICAgICAgICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDx0ZC8+CiAgICAgICAgICAgICAgPC90cj4KCiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkPk9iamVjdC4mbHQ7c3RyaW5nJmd0OzwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICAgICAgeydmb28nOiAnYmFyJ30KICAgICAgICAgICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICBBbiBPYmplY3QgaW4gd2hpY2ggdGhlIHZhbHVlcyBhcmUgc3RyaW5ncy4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgPC90cj4KCiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkPk9iamVjdC4mbHQ7bnVtYmVyLCBzdHJpbmcmZ3Q7PC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0ge307CiAgICAgICAgICAgICAgICAgICAgb2JqWzFdID0gJ2Jhcic7CiAgICAgICAgICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgQW4gT2JqZWN0IGluIHdoaWNoIHRoZSBrZXlzIGFyZSBudW1iZXJzIGFuZCB0aGUgdmFsdWVzIGFyZQogICAgICAgICAgICAgICAgICBzdHJpbmdzLiAgPHAvPk5vdGUgdGhhdCBpbiBKYXZhU2NyaXB0LCB0aGUga2V5cyBhcmUgYWx3YXlzCiAgICAgICAgICAgICAgICAgIGltcGxpY2l0bHkgY29udmVydGVkIHRvIHN0cmluZ3MsIHNvCiAgICAgICAgICAgICAgICAgIDxjb2RlPm9ialsnMSddID09IG9ialsxXTwvY29kZT4uCiAgICAgICAgICAgICAgICAgIFNvIHRoZSBrZXkgd2lsbCBhbHdheXMgYmUgYSBzdHJpbmcgaW4gZm9yLi4uaW4gbG9vcHMuIEJ1dCB0aGUKICAgICAgICAgICAgICAgICAgY29tcGlsZXIgd2lsbCB2ZXJpZnkgdGhlIHR5cGUgb2YgdGhlIGtleSB3aGVuIGluZGV4aW5nIGludG8KICAgICAgICAgICAgICAgICAgdGhlIG9iamVjdC4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgPC90cj4KCiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkPkZ1bmN0aW9uPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbih4LCB5KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geCAqIHk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNXcmFwcGVyX29iamVjdHNfZm9yX3ByaW1pdGl2ZV90eXBlcyI+CiAgICAgICAgICAgICAgICAgICAgRnVuY3Rpb24gb2JqZWN0CiAgICAgICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgPC90cj4KCiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkPmZ1bmN0aW9uKG51bWJlciwgbnVtYmVyKTogbnVtYmVyPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbih4LCB5KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geCAqIHk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+ZnVuY3Rpb24gdmFsdWU8L3RkPgogICAgICAgICAgICAgIDwvdHI+CgogICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZD48YSBuYW1lPSJjb25zdHJ1Y3Rvci10YWciPlNvbWVDbGFzczwvYT48L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgICAgIC8qKiBAY29uc3RydWN0b3IgKi8KICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBTb21lQ2xhc3MoKSB7fQoKICAgICAgICAgICAgICAgICAgICBuZXcgU29tZUNsYXNzKCk7CiAgICAgICAgICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDx0ZC8+CiAgICAgICAgICAgICAgPC90cj4KCiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkPlNvbWVJbnRlcmZhY2U8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgICAgIC8qKiBAaW50ZXJmYWNlICovCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gU29tZUludGVyZmFjZSgpIHt9CgogICAgICAgICAgICAgICAgICAgIFNvbWVJbnRlcmZhY2UucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbigpIHt9OwogICAgICAgICAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQvPgogICAgICAgICAgICAgIDwvdHI+CgogICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZD5wcm9qZWN0Lk15Q2xhc3M8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgICAgIC8qKiBAY29uc3RydWN0b3IgKi8KICAgICAgICAgICAgICAgICAgICBwcm9qZWN0Lk15Q2xhc3MgPSBmdW5jdGlvbiAoKSB7fQoKICAgICAgICAgICAgICAgICAgICBuZXcgcHJvamVjdC5NeUNsYXNzKCkKICAgICAgICAgICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkLz4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+cHJvamVjdC5NeUVudW08L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgICAgIC8qKiBAZW51bSB7c3RyaW5nfSAqLwogICAgICAgICAgICAgICAgICAgIHByb2plY3QuTXlFbnVtID0gewogICAgICAgICAgICAgICAgICAgICAgLyoqIFRoZSBjb2xvciBibHVlLiAqLwogICAgICAgICAgICAgICAgICAgICAgQkxVRTogJyMwMDAwZGQnLAogICAgICAgICAgICAgICAgICAgICAgLyoqIFRoZSBjb2xvciByZWQuICovCiAgICAgICAgICAgICAgICAgICAgICBSRUQ6ICcjZGQwMDAwJwogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD48YSBuYW1lPSJlbnVtcyI+RW51bWVyYXRpb248L2E+PHAvPgogICAgICAgICAgICAgICAgICBKU0RvYyBjb21tZW50cyBvbiBlbnVtIHZhbHVlcyBhcmUgb3B0aW9uYWwuCiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgIDwvdHI+CgogICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZD5FbGVtZW50PC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKQogICAgICAgICAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+RWxlbWVudHMgaW4gdGhlIERPTS48L3RkPgogICAgICAgICAgICAgIDwvdHI+CgogICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZD5Ob2RlPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQKICAgICAgICAgICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPk5vZGVzIGluIHRoZSBET00uPC90ZD4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+SFRNTElucHV0RWxlbWVudDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICAgICAgaHRtbERvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbnB1dCcpWzBdCiAgICAgICAgICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD5BIHNwZWNpZmljIHR5cGUgb2YgRE9NIGVsZW1lbnQuPC90ZD4KICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICA8L3Rib2R5PgogICAgICAgICAgPC90YWJsZT4KICAgICAgICA8L1NVQlNFQ1RJT04+CgogICAgICAgIDxTVUJTRUNUSU9OIHRpdGxlPSJUeXBlIENhc3RzIj4KICAgICAgICAgIDxwPkluIGNhc2VzIHdoZXJlIHR5cGUtY2hlY2tpbmcgZG9lc24ndCBhY2N1cmF0ZWx5IGluZmVyIHRoZSB0eXBlIG9mCiAgICAgICAgICAgIGFuIGV4cHJlc3Npb24sIGl0IGlzIHBvc3NpYmxlIHRvIGFkZCBhIHR5cGUgY2FzdCBjb21tZW50IGJ5IGFkZGluZyBhCiAgICAgICAgICAgIHR5cGUgYW5ub3RhdGlvbiBjb21tZW50IGFuZCBlbmNsb3NpbmcgdGhlIGV4cHJlc3Npb24gaW4KICAgICAgICAgICAgcGFyZW50aGVzZXMuIFRoZSBwYXJlbnRoZXNlcyBhcmUgcmVxdWlyZWQuPC9wPgoKICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoeCkKICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgIDwvU1VCU0VDVElPTj4KCiAgICAgICAgPFNVQlNFQ1RJT04gdGl0bGU9Ik51bGxhYmxlIHZzLiBPcHRpb25hbCBQYXJhbWV0ZXJzIGFuZCBQcm9wZXJ0aWVzIj4KICAgICAgICAgIDxhIG5hbWU9Im9wdGlvbmFsIi8+CiAgICAgICAgICA8cD5CZWNhdXNlIEphdmFTY3JpcHQgaXMgYSBsb29zZWx5LXR5cGVkIGxhbmd1YWdlLCBpdCBpcyB2ZXJ5CiAgICAgICAgICAgIGltcG9ydGFudCB0byB1bmRlcnN0YW5kIHRoZSBzdWJ0bGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBvcHRpb25hbCwKICAgICAgICAgICAgbnVsbGFibGUsIGFuZCB1bmRlZmluZWQgZnVuY3Rpb24gcGFyYW1ldGVycyBhbmQgY2xhc3MKICAgICAgICAgICAgcHJvcGVydGllcy48L3A+CgogICAgICAgICAgPHA+SW5zdGFuY2VzIG9mIGNsYXNzZXMgYW5kIGludGVyZmFjZXMgYXJlIG51bGxhYmxlIGJ5IGRlZmF1bHQuCiAgICAgICAgICBGb3IgZXhhbXBsZSwgdGhlIGZvbGxvd2luZyBkZWNsYXJhdGlvbjwvcD4KCiAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAvKioKICAgICAgICAgICAgICogU29tZSBjbGFzcywgaW5pdGlhbGl6ZWQgd2l0aCBhIHZhbHVlLgogICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWUgU29tZSB2YWx1ZS4KICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yCiAgICAgICAgICAgICAqLwogICAgICAgICAgICBmdW5jdGlvbiBNeUNsYXNzKHZhbHVlKSB7CiAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICogU29tZSB2YWx1ZS4KICAgICAgICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fQogICAgICAgICAgICAgICAqIEBwcml2YXRlCiAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgdGhpcy5teVZhbHVlXyA9IHZhbHVlOwogICAgICAgICAgICB9CiAgICAgICAgICA8L0NPREVfU05JUFBFVD4KCiAgICAgICAgICA8cD50ZWxscyB0aGUgY29tcGlsZXIgdGhhdCB0aGUgPGNvZGU+bXlWYWx1ZV88L2NvZGU+IHByb3BlcnR5IGhvbGRzCiAgICAgICAgICAgIGVpdGhlciBhbiBPYmplY3Qgb3IgbnVsbC4gIElmIDxjb2RlPm15VmFsdWVfPC9jb2RlPiBtdXN0IG5ldmVyIGJlCiAgICAgICAgICAgIG51bGwsIGl0IHNob3VsZCBiZSBkZWNsYXJlZCBsaWtlIHRoaXM6PC9wPgoKICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiBTb21lIGNsYXNzLCBpbml0aWFsaXplZCB3aXRoIGEgbm9uLW51bGwgdmFsdWUuCiAgICAgICAgICAgICAqIEBwYXJhbSB7IU9iamVjdH0gdmFsdWUgU29tZSB2YWx1ZS4KICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yCiAgICAgICAgICAgICAqLwogICAgICAgICAgICBmdW5jdGlvbiBNeUNsYXNzKHZhbHVlKSB7CiAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICogU29tZSB2YWx1ZS4KICAgICAgICAgICAgICAgKiBAdHlwZSB7IU9iamVjdH0KICAgICAgICAgICAgICAgKiBAcHJpdmF0ZQogICAgICAgICAgICAgICAqLwogICAgICAgICAgICAgIHRoaXMubXlWYWx1ZV8gPSB2YWx1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CgogICAgICAgICAgPHA+VGhpcyB3YXksIGlmIHRoZSBjb21waWxlciBjYW4gZGV0ZXJtaW5lIHRoYXQgc29tZXdoZXJlIGluIHRoZSBjb2RlCiAgICAgICAgICAgIDxjb2RlPk15Q2xhc3M8L2NvZGU+IGlzIGluaXRpYWxpemVkIHdpdGggYSBudWxsIHZhbHVlLCBpdCB3aWxsIGlzc3VlCiAgICAgICAgICAgIGEgd2FybmluZy48L3A+CgoKCiAgICAgICAgICA8cD5PcHRpb25hbCBwYXJhbWV0ZXJzIHRvIGZ1bmN0aW9ucyBtYXkgYmUgdW5kZWZpbmVkIGF0IHJ1bnRpbWUsIHNvIGlmCiAgICAgICAgICB0aGV5IGFyZSBhc3NpZ25lZCB0byBjbGFzcyBwcm9wZXJ0aWVzLCB0aG9zZSBwcm9wZXJ0aWVzIG11c3QgYmUKICAgICAgICAgIGRlY2xhcmVkIGFjY29yZGluZ2x5OjwvcD4KCiAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAvKioKICAgICAgICAgICAgICogU29tZSBjbGFzcywgaW5pdGlhbGl6ZWQgd2l0aCBhbiBvcHRpb25hbCB2YWx1ZS4KICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3Q9fSBvcHRfdmFsdWUgU29tZSB2YWx1ZSAob3B0aW9uYWwpLgogICAgICAgICAgICAgKiBAY29uc3RydWN0b3IKICAgICAgICAgICAgICovCiAgICAgICAgICAgIGZ1bmN0aW9uIE15Q2xhc3Mob3B0X3ZhbHVlKSB7CiAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICogU29tZSB2YWx1ZS4KICAgICAgICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fHVuZGVmaW5lZH0KICAgICAgICAgICAgICAgKiBAcHJpdmF0ZQogICAgICAgICAgICAgICAqLwogICAgICAgICAgICAgIHRoaXMubXlWYWx1ZV8gPSBvcHRfdmFsdWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgoKICAgICAgICAgIDxwPlRoaXMgdGVsbHMgdGhlIGNvbXBpbGVyIHRoYXQgPGNvZGU+bXlWYWx1ZV88L2NvZGU+IG1heSBob2xkIGFuCiAgICAgICAgICAgIE9iamVjdCwgbnVsbCwgb3IgcmVtYWluIHVuZGVmaW5lZC48L3A+CgogICAgICAgICAgPHA+Tm90ZSB0aGF0IHRoZSBvcHRpb25hbCBwYXJhbWV0ZXIgPGNvZGU+b3B0X3ZhbHVlPC9jb2RlPiBpcyBkZWNsYXJlZAogICAgICAgICAgICB0byBiZSBvZiB0eXBlIDxjb2RlPntPYmplY3Q9fTwvY29kZT4sIG5vdAogICAgICAgICAgICA8Y29kZT57T2JqZWN0fHVuZGVmaW5lZH08L2NvZGU+LiAgVGhpcyBpcyBiZWNhdXNlIG9wdGlvbmFsCiAgICAgICAgICAgIHBhcmFtZXRlcnMgbWF5LCBieSBkZWZpbml0aW9uLCBiZSB1bmRlZmluZWQuICBXaGlsZSB0aGVyZSBpcyBubyBoYXJtCiAgICAgICAgICAgIGluIGV4cGxpY2l0bHkgZGVjbGFyaW5nIGFuIG9wdGlvbmFsIHBhcmFtZXRlciBhcyBwb3NzaWJseSB1bmRlZmluZWQsCiAgICAgICAgICAgIGl0IGlzIGJvdGggdW5uZWNlc3NhcnkgYW5kIG1ha2VzIHRoZSBjb2RlIGhhcmRlciB0byByZWFkLjwvcD4KCiAgICAgICAgICA8cD5GaW5hbGx5LCBub3RlIHRoYXQgYmVpbmcgbnVsbGFibGUgYW5kIGJlaW5nIG9wdGlvbmFsIGFyZSBvcnRob2dvbmFsCiAgICAgICAgICAgIHByb3BlcnRpZXMuICBUaGUgZm9sbG93aW5nIGZvdXIgZGVjbGFyYXRpb25zIGFyZSBhbGwgZGlmZmVyZW50OjwvcD4KCiAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAvKioKICAgICAgICAgICAgICogVGFrZXMgZm91ciBhcmd1bWVudHMsIHR3byBvZiB3aGljaCBhcmUgbnVsbGFibGUsIGFuZCB0d28gb2Ygd2hpY2ggYXJlCiAgICAgICAgICAgICAqIG9wdGlvbmFsLgogICAgICAgICAgICAgKiBAcGFyYW0geyFPYmplY3R9IG5vbk51bGwgTWFuZGF0b3J5IChtdXN0IG5vdCBiZSB1bmRlZmluZWQpLCBtdXN0IG5vdCBiZSBudWxsLgogICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gbWF5QmVOdWxsIE1hbmRhdG9yeSAobXVzdCBub3QgYmUgdW5kZWZpbmVkKSwgbWF5IGJlIG51bGwuCiAgICAgICAgICAgICAqIEBwYXJhbSB7IU9iamVjdD19IG9wdF9ub25OdWxsIE9wdGlvbmFsIChtYXkgYmUgdW5kZWZpbmVkKSwgYnV0IGlmIHByZXNlbnQsCiAgICAgICAgICAgICAqICAgICBtdXN0IG5vdCBiZSBudWxsIQogICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdD19IG9wdF9tYXlCZU51bGwgT3B0aW9uYWwgKG1heSBiZSB1bmRlZmluZWQpLCBtYXkgYmUgbnVsbC4KICAgICAgICAgICAgICovCiAgICAgICAgICAgIGZ1bmN0aW9uIHN0cmFuZ2VCdXRUcnVlKG5vbk51bGwsIG1heUJlTnVsbCwgb3B0X25vbk51bGwsIG9wdF9tYXlCZU51bGwpIHsKICAgICAgICAgICAgICAvLyAuLi4KICAgICAgICAgICAgfTsKICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgIDwvU1VCU0VDVElPTj4KCiAgICAgICAgPFNVQlNFQ1RJT04gdGl0bGU9IlR5cGVkZWZzIj4KICAgICAgICAgIDxhIG5hbWU9IlR5cGVkZWZzIi8+CiAgICAgICAgICA8cD5Tb21ldGltZXMgdHlwZXMgY2FuIGdldCBjb21wbGljYXRlZC4gQSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMKICAgICAgICAgICAgY29udGVudCBmb3IgYW4gRWxlbWVudCBtaWdodCBsb29rIGxpa2U6PC9wPgoKICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnTmFtZQogICAgICAgICAgICAgKiBAcGFyYW0geyhzdHJpbmd8RWxlbWVudHxUZXh0fEFycmF5LiZsdDtFbGVtZW50Jmd0O3xBcnJheS4mbHQ7VGV4dCZndDspfSBjb250ZW50cwogICAgICAgICAgICAgKiBAcmV0dXJuIHshRWxlbWVudH0KICAgICAgICAgICAgICovCiAgICAgICAgICAgIGdvb2cuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uKHRhZ05hbWUsIGNvbnRlbnRzKSB7CiAgICAgICAgICAgICAgLi4uCiAgICAgICAgICAgIH07CiAgICAgICAgICA8L0NPREVfU05JUFBFVD4KCiAgICAgICAgICA8cD5Zb3UgY2FuIGRlZmluZSBjb21tb25seSB1c2VkIHR5cGUgZXhwcmVzc2lvbnMgd2l0aCBhCiAgICAgICAgICAgIDxjb2RlPkB0eXBlZGVmPC9jb2RlPiB0YWcuIEZvciBleGFtcGxlLDwvcD4KCiAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAvKiogQHR5cGVkZWYgeyhzdHJpbmd8RWxlbWVudHxUZXh0fEFycmF5LiZsdDtFbGVtZW50Jmd0O3xBcnJheS4mbHQ7VGV4dCZndDspfSAqLwogICAgICAgICAgICBnb29nLkVsZW1lbnRDb250ZW50OwoKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWdOYW1lCiAgICAgICAgICAgICAqIEBwYXJhbSB7Z29vZy5FbGVtZW50Q29udGVudH0gY29udGVudHMKICAgICAgICAgICAgICogQHJldHVybiB7IUVsZW1lbnR9CiAgICAgICAgICAgICAqLwogICAgICAgICAgICBnb29nLmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbih0YWdOYW1lLCBjb250ZW50cykgewogICAgICAgICAgICAuLi4KICAgICAgICAgICAgfTsKICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgIDwvU1VCU0VDVElPTj4KCiAgICAgICAgPFNVQlNFQ1RJT04gdGl0bGU9IlRlbXBsYXRlIHR5cGVzIj4KICAgICAgICAgIDxhIG5hbWU9IlRlbXBsYXRlX3R5cGVzIi8+CiAgICAgICAgICA8cD5UaGUgY29tcGlsZXIgaGFzIGxpbWl0ZWQgc3VwcG9ydCBmb3IgdGVtcGxhdGUgdHlwZXMuIEl0IGNhbiBvbmx5CiAgICAgICAgICAgIGluZmVyIHRoZSB0eXBlIG9mIDxjb2RlPnRoaXM8L2NvZGU+IGluc2lkZSBhbiBhbm9ueW1vdXMgZnVuY3Rpb24KICAgICAgICAgICAgbGl0ZXJhbCBmcm9tIHRoZSB0eXBlIG9mIHRoZSA8Y29kZT50aGlzPC9jb2RlPiBhcmd1bWVudCBhbmQgd2hldGhlciB0aGUKICAgICAgICAgICAgPGNvZGU+dGhpczwvY29kZT4gYXJndW1lbnQgaXMgbWlzc2luZy48L3A+CgogICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczpULCAuLi4pfSBmbgogICAgICAgICAgICAgKiBAcGFyYW0ge1R9IHRoaXNPYmoKICAgICAgICAgICAgICogQHBhcmFtIHsuLi4qfSB2YXJfYXJncwogICAgICAgICAgICAgKiBAdGVtcGxhdGUgVAogICAgICAgICAgICAgKi8KICAgICAgICAgICAgZ29vZy5iaW5kID0gZnVuY3Rpb24oZm4sIHRoaXNPYmosIHZhcl9hcmdzKSB7CiAgICAgICAgICAgIC4uLgogICAgICAgICAgICB9OwogICAgICAgICAgICAvLyBQb3NzaWJseSBnZW5lcmF0ZXMgYSBtaXNzaW5nIHByb3BlcnR5IHdhcm5pbmcuCiAgICAgICAgICAgIGdvb2cuYmluZChmdW5jdGlvbigpIHsgdGhpcy5zb21lUHJvcGVydHk7IH0sIG5ldyBTb21lQ2xhc3MoKSk7CiAgICAgICAgICAgIC8vIEdlbmVyYXRlcyBhbiB1bmRlZmluZWQgdGhpcyB3YXJuaW5nLgogICAgICAgICAgICBnb29nLmJpbmQoZnVuY3Rpb24oKSB7IHRoaXMuc29tZVByb3BlcnR5OyB9KTsKICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgIDwvU1VCU0VDVElPTj4KICAgICAgPC9CT0RZPgogICAgPC9TVFlMRVBPSU5UPgoKICAgIDxTVFlMRVBPSU5UIHRpdGxlPSJDb21tZW50cyI+CiAgICAgIDxTVU1NQVJZPlVzZSBKU0RvYzwvU1VNTUFSWT4KICAgICAgPEJPRFk+CiAgICAgICAgPHA+CiAgICAgICAgICBXZSBmb2xsb3cgdGhlCiAgICAgICAgICA8YSBocmVmPSJjcHBndWlkZS5odG1sI0NvbW1lbnRzIj4KICAgICAgICAgICAgQysrIHN0eWxlIGZvciBjb21tZW50czwvYT4gaW4gc3Bpcml0LgogICAgICAgIDwvcD4KCiAgICAgICAgPHA+QWxsIGZpbGVzLCBjbGFzc2VzLCBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIHNob3VsZCBiZSBkb2N1bWVudGVkIHdpdGgKICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvanNkb2MtdG9vbGtpdC8iPkpTRG9jPC9hPgogICAgICAgICAgY29tbWVudHMgd2l0aCB0aGUgYXBwcm9wcmlhdGUgPGEgaHJlZj0iI0pTRG9jX1RhZ19SZWZlcmVuY2UiPnRhZ3M8L2E+CiAgICAgICAgICBhbmQgPGEgaHJlZj0iI0pzVHlwZXMiPnR5cGVzPC9hPi4gVGV4dHVhbCBkZXNjcmlwdGlvbnMgZm9yIHByb3BlcnRpZXMsCiAgICAgICAgICBtZXRob2RzLCBtZXRob2QgcGFyYW1ldGVycyBhbmQgbWV0aG9kIHJldHVybiB2YWx1ZXMgc2hvdWxkIGJlIGluY2x1ZGVkCiAgICAgICAgICB1bmxlc3Mgb2J2aW91cyBmcm9tIHRoZSBwcm9wZXJ0eSwgbWV0aG9kLCBvciBwYXJhbWV0ZXIgbmFtZS4KICAgICAgICA8L3A+CgogICAgICAgIDxwPklubGluZSBjb21tZW50cyBzaG91bGQgYmUgb2YgdGhlIDxjb2RlPi8vPC9jb2RlPiB2YXJpZXR5LjwvcD4KCiAgICAgICAgPHA+Q29tcGxldGUgc2VudGVuY2VzIGFyZSByZWNvbW1lbmRlZCBidXQgbm90IHJlcXVpcmVkLgogICAgICAgIENvbXBsZXRlIHNlbnRlbmNlcyBzaG91bGQgdXNlIGFwcHJvcHJpYXRlIGNhcGl0YWxpemF0aW9uCiAgICAgICAgYW5kIHB1bmN0dWF0aW9uLjwvcD4KCiAgICAgICAgPFNVQlNFQ1RJT04gdGl0bGU9IkNvbW1lbnQgU3ludGF4Ij4KICAgICAgICAgIDxwPlRoZSBKU0RvYyBzeW50YXggaXMgYmFzZWQgb24KICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vd3d3Lm9yYWNsZS5jb20vdGVjaG5ldHdvcmsvamF2YS9qYXZhc2UvZG9jdW1lbnRhdGlvbi9pbmRleC0xMzc4NjguaHRtbCI+CiAgICAgICAgICBKYXZhRG9jPC9hPi4gTWFueSB0b29scyBleHRyYWN0IG1ldGFkYXRhIGZyb20gSlNEb2MgY29tbWVudHMgdG8KICAgICAgICAgIHBlcmZvcm0gY29kZSB2YWxpZGF0aW9uIGFuZCBvcHRpbWl6YXRpb25zLiBUaGVzZSBjb21tZW50cyBtdXN0IGJlCiAgICAgICAgICB3ZWxsLWZvcm1lZC48L3A+CgogICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgIC8qKgogICAgICAgICAgICogQSBKU0RvYyBjb21tZW50IHNob3VsZCBiZWdpbiB3aXRoIGEgc2xhc2ggYW5kIDIgYXN0ZXJpc2tzLgogICAgICAgICAgICogSW5saW5lIHRhZ3Mgc2hvdWxkIGJlIGVuY2xvc2VkIGluIGJyYWNlcyBsaWtlIHtAY29kZSB0aGlzfS4KICAgICAgICAgICAqIEBkZXNjIEJsb2NrIHRhZ3Mgc2hvdWxkIGFsd2F5cyBzdGFydCBvbiB0aGVpciBvd24gbGluZS4KICAgICAgICAgICAqLwogICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgPC9TVUJTRUNUSU9OPgoKICAgICAgICA8U1VCU0VDVElPTiB0aXRsZT0iSlNEb2MgSW5kZW50YXRpb24iPgogICAgICAgICAgPHA+SWYgeW91IGhhdmUgdG8gbGluZSBicmVhayBhIGJsb2NrIHRhZywgeW91IHNob3VsZCB0cmVhdCB0aGlzIGFzCiAgICAgICAgICBicmVha2luZyBhIGNvZGUgc3RhdGVtZW50IGFuZCBpbmRlbnQgaXQgZm91ciBzcGFjZXMuPC9wPgoKICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiBJbGx1c3RyYXRlcyBsaW5lIHdyYXBwaW5nIGZvciBsb25nIHBhcmFtL3JldHVybiBkZXNjcmlwdGlvbnMuCiAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb28gVGhpcyBpcyBhIHBhcmFtIHdpdGggYSBkZXNjcmlwdGlvbiB0b28gbG9uZyB0byBmaXQgaW4KICAgICAgICAgICAgICogICAgIG9uZSBsaW5lLgogICAgICAgICAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoaXMgcmV0dXJucyBzb21ldGhpbmcgdGhhdCBoYXMgYSBkZXNjcmlwdGlvbiB0b28gbG9uZyB0bwogICAgICAgICAgICAgKiAgICAgZml0IGluIG9uZSBsaW5lLgogICAgICAgICAgICAgKi8KICAgICAgICAgICAgcHJvamVjdC5NeUNsYXNzLnByb3RvdHlwZS5tZXRob2QgPSBmdW5jdGlvbihmb28pIHsKICAgICAgICAgICAgICByZXR1cm4gNTsKICAgICAgICAgICAgfTsKICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgoKICAgICAgICAgIDxwPllvdSBzaG91bGQgbm90IGluZGVudCB0aGUgPGNvZGU+QGZpbGVvdmVydmlldzwvY29kZT4gY29tbWFuZC4gWW91IGRvIG5vdCBoYXZlIHRvCiAgICAgICAgICAgIGluZGVudCB0aGUgPGNvZGU+QGRlc2M8L2NvZGU+IGNvbW1hbmQuPC9wPgoKICAgICAgICAgIDxwPkV2ZW4gdGhvdWdoIGl0IGlzIG5vdCBwcmVmZXJyZWQsIGl0IGlzIGFsc28gYWNjZXB0YWJsZSB0byBsaW5lIHVwCiAgICAgICAgICAgICB0aGUgZGVzY3JpcHRpb24uPC9wPgoKICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiBUaGlzIGlzIE5PVCB0aGUgcHJlZmVycmVkIGluZGVudGF0aW9uIG1ldGhvZC4KICAgICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGZvbyBUaGlzIGlzIGEgcGFyYW0gd2l0aCBhIGRlc2NyaXB0aW9uIHRvbyBsb25nIHRvIGZpdCBpbgogICAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgIG9uZSBsaW5lLgogICAgICAgICAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoaXMgcmV0dXJucyBzb21ldGhpbmcgdGhhdCBoYXMgYSBkZXNjcmlwdGlvbiB0b28gbG9uZyB0bwogICAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgIGZpdCBpbiBvbmUgbGluZS4KICAgICAgICAgICAgICovCiAgICAgICAgICAgIHByb2plY3QuTXlDbGFzcy5wcm90b3R5cGUubWV0aG9kID0gZnVuY3Rpb24oZm9vKSB7CiAgICAgICAgICAgICAgcmV0dXJuIDU7CiAgICAgICAgICAgIH07CiAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICA8L1NVQlNFQ1RJT04+CgogICAgICAgIDxTVUJTRUNUSU9OIHRpdGxlPSJIVE1MIGluIEpTRG9jIj4KICAgICAgICAgIDxwPkxpa2UgSmF2YURvYywgSlNEb2Mgc3VwcG9ydHMgbWFueSBIVE1MIHRhZ3MsIGxpa2UgJmx0O2NvZGUmZ3Q7LAogICAgICAgICAgICAmbHQ7cHJlJmd0OywgJmx0O3R0Jmd0OywgJmx0O3N0cm9uZyZndDssICZsdDt1bCZndDssICZsdDtvbCZndDssCiAgICAgICAgICAgICZsdDtsaSZndDssICZsdDthJmd0OywgYW5kIG90aGVycy48L3A+CgogICAgICAgICAgPHA+VGhpcyBtZWFucyB0aGF0IHBsYWludGV4dCBmb3JtYXR0aW5nIGlzIG5vdCByZXNwZWN0ZWQuIFNvLCBkb24ndAogICAgICAgICAgICByZWx5IG9uIHdoaXRlc3BhY2UgdG8gZm9ybWF0IEpTRG9jOjwvcD4KCiAgICAgICAgICA8QkFEX0NPREVfU05JUFBFVD4KICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIENvbXB1dGVzIHdlaWdodCBiYXNlZCBvbiB0aHJlZSBmYWN0b3JzOgogICAgICAgICAgICAgKiAgIGl0ZW1zIHNlbnQKICAgICAgICAgICAgICogICBpdGVtcyByZWNlaXZlZAogICAgICAgICAgICAgKiAgIGxhc3QgdGltZXN0YW1wCiAgICAgICAgICAgICAqLwogICAgICAgICAgPC9CQURfQ09ERV9TTklQUEVUPgoKICAgICAgICAgIDxwPkl0J2xsIGNvbWUgb3V0IGxpa2UgdGhpczo8L3A+CgogICAgICAgICAgPEJBRF9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICBDb21wdXRlcyB3ZWlnaHQgYmFzZWQgb24gdGhyZWUgZmFjdG9yczogaXRlbXMgc2VudCBpdGVtcyByZWNlaXZlZCBsYXN0IHRpbWVzdGFtcAogICAgICAgICAgPC9CQURfQ09ERV9TTklQUEVUPgoKICAgICAgICAgIDxwPkluc3RlYWQsIGRvIHRoaXM6PC9wPgoKICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiBDb21wdXRlcyB3ZWlnaHQgYmFzZWQgb24gdGhyZWUgZmFjdG9yczoKICAgICAgICAgICAgICogJmx0O3VsJmd0OwogICAgICAgICAgICAgKiAmbHQ7bGkmZ3Q7aXRlbXMgc2VudAogICAgICAgICAgICAgKiAmbHQ7bGkmZ3Q7aXRlbXMgcmVjZWl2ZWQKICAgICAgICAgICAgICogJmx0O2xpJmd0O2xhc3QgdGltZXN0YW1wCiAgICAgICAgICAgICAqICZsdDsvdWwmZ3Q7CiAgICAgICAgICAgICAqLwogICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CgogICAgICAgICAgVGhlIDxhIGhyZWY9Imh0dHBzOi8vd3d3Lm9yYWNsZS5jb20vdGVjaG5ldHdvcmsvamF2YS9qYXZhc2UvZG9jdW1lbnRhdGlvbi9pbmRleC0xMzc4NjguaHRtbCI+CiAgICAgICAgICBKYXZhRG9jPC9hPiBzdHlsZSBndWlkZSBpcyBhIHVzZWZ1bCByZXNvdXJjZSBvbiBob3cgdG8gd3JpdGUKICAgICAgICAgIHdlbGwtZm9ybWVkIGRvYyBjb21tZW50cy4KICAgICAgICA8L1NVQlNFQ1RJT04+CgogICAgICAgIDxTVUJTRUNUSU9OIHRpdGxlPSJUb3AvRmlsZS1MZXZlbCBDb21tZW50cyI+CiAgICAgICAgICA8cD4KCiAgICAgICAgICAgIEEgPGEgaHJlZj0iY29weXJpZ2h0Lmh0bWwiPmNvcHlyaWdodCBub3RpY2U8L2E+IGFuZCBhdXRob3IgaW5mb3JtYXRpb24gYXJlIG9wdGlvbmFsLgogICAgICAgICAgICBGaWxlIG92ZXJ2aWV3cyBhcmUgZ2VuZXJhbGx5IHJlY29tbWVuZGVkIHdoZW5ldmVyIGEgZmlsZSBjb25zaXN0cyBvZgogICAgICAgICAgICBtb3JlIHRoYW4gYSBzaW5nbGUgY2xhc3MgZGVmaW5pdGlvbi4gVGhlIHRvcCBsZXZlbCBjb21tZW50IGlzCiAgICAgICAgICAgIGRlc2lnbmVkIHRvIG9yaWVudCByZWFkZXJzIHVuZmFtaWxpYXIgd2l0aCB0aGUgY29kZSB0byB3aGF0IGlzIGluCiAgICAgICAgICAgIHRoaXMgZmlsZS4gIElmIHByZXNlbnQsIGl0IHNob3VsZCBwcm92aWRlIGEgZGVzY3JpcHRpb24gb2YgdGhlCiAgICAgICAgICAgIGZpbGUncyBjb250ZW50cyBhbmQgYW55IGRlcGVuZGVuY2llcyBvciBjb21wYXRpYmlsaXR5IGluZm9ybWF0aW9uLgogICAgICAgICAgICBBcyBhbiBleGFtcGxlOgogICAgICAgICAgPC9wPgoKICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiBAZmlsZW92ZXJ2aWV3IERlc2NyaXB0aW9uIG9mIGZpbGUsIGl0cyB1c2VzIGFuZCBpbmZvcm1hdGlvbgogICAgICAgICAgICAgKiBhYm91dCBpdHMgZGVwZW5kZW5jaWVzLgogICAgICAgICAgICAgKi8KICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgoKCiAgICAgICAgPC9TVUJTRUNUSU9OPgoKICAgICAgICA8U1VCU0VDVElPTiB0aXRsZT0iQ2xhc3MgQ29tbWVudHMiPgogICAgICAgICAgPHA+Q2xhc3NlcyBtdXN0IGJlIGRvY3VtZW50ZWQgd2l0aCBhIGRlc2NyaXB0aW9uIGFuZCBhCiAgICAgICAgICAgIDxhIGhyZWY9IiNjb25zdHJ1Y3Rvci10YWciPnR5cGUgdGFnIHRoYXQKICAgICAgICAgICAgICBpZGVudGlmaWVzIHRoZSBjb25zdHJ1Y3RvcjwvYT4uCiAgICAgICAgICA8L3A+CgogICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIENsYXNzIG1ha2luZyBzb21ldGhpbmcgZnVuIGFuZCBlYXN5LgogICAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gYXJnMSBBbiBhcmd1bWVudCB0aGF0IG1ha2VzIHRoaXMgbW9yZSBpbnRlcmVzdGluZy4KICAgICAgICAgICAgICogQHBhcmFtIHtBcnJheS4mbHQ7bnVtYmVyJmd0O30gYXJnMiBMaXN0IG9mIG51bWJlcnMgdG8gYmUgcHJvY2Vzc2VkLgogICAgICAgICAgICAgKiBAY29uc3RydWN0b3IKICAgICAgICAgICAgICogQGV4dGVuZHMge2dvb2cuRGlzcG9zYWJsZX0KICAgICAgICAgICAgICovCiAgICAgICAgICAgIHByb2plY3QuTXlDbGFzcyA9IGZ1bmN0aW9uKGFyZzEsIGFyZzIpIHsKICAgICAgICAgICAgICAvLyAuLi4KICAgICAgICAgICAgfTsKICAgICAgICAgICAgZ29vZy5pbmhlcml0cyhwcm9qZWN0Lk15Q2xhc3MsIGdvb2cuRGlzcG9zYWJsZSk7CiAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICA8L1NVQlNFQ1RJT04+CgogICAgICAgIDxTVUJTRUNUSU9OIHRpdGxlPSJNZXRob2QgYW5kIEZ1bmN0aW9uIENvbW1lbnRzIj4KICAgICAgICAgIDxwPlBhcmFtZXRlciBhbmQgcmV0dXJuIHR5cGVzIHNob3VsZCBiZSBkb2N1bWVudGVkLiBUaGUgbWV0aG9kCiAgICAgICAgICAgICBkZXNjcmlwdGlvbiBtYXkgYmUgb21pdHRlZCBpZiBpdCBpcyBvYnZpb3VzIGZyb20gdGhlIHBhcmFtZXRlcgogICAgICAgICAgICAgb3IgcmV0dXJuIHR5cGUgZGVzY3JpcHRpb25zLiBNZXRob2QgZGVzY3JpcHRpb25zIHNob3VsZCBzdGFydAogICAgICAgICAgICAgd2l0aCBhIHNlbnRlbmNlIHdyaXR0ZW4gaW4gdGhlIHRoaXJkIHBlcnNvbiBkZWNsYXJhdGl2ZSB2b2ljZS48L3A+CiAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAvKioKICAgICAgICAgICAgICogT3BlcmF0ZXMgb24gYW4gaW5zdGFuY2Ugb2YgTXlDbGFzcyBhbmQgcmV0dXJucyBzb21ldGhpbmcuCiAgICAgICAgICAgICAqIEBwYXJhbSB7cHJvamVjdC5NeUNsYXNzfSBvYmogSW5zdGFuY2Ugb2YgTXlDbGFzcyB3aGljaCBsZWFkcyB0byBhIGxvbmcKICAgICAgICAgICAgICogICAgIGNvbW1lbnQgdGhhdCBuZWVkcyB0byBiZSB3cmFwcGVkIHRvIHR3byBsaW5lcy4KICAgICAgICAgICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBzb21ldGhpbmcgb2NjdXJyZWQuCiAgICAgICAgICAgICAqLwogICAgICAgICAgICBmdW5jdGlvbiBQUl9zb21lTWV0aG9kKG9iaikgewogICAgICAgICAgICAgIC8vIC4uLgogICAgICAgICAgICB9CiAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICA8L1NVQlNFQ1RJT04+CgogICAgICAgIDxTVUJTRUNUSU9OIHRpdGxlPSJQcm9wZXJ0eSBDb21tZW50cyI+CiAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAvKiogQGNvbnN0cnVjdG9yICovCiAgICAgICAgICAgIHByb2plY3QuTXlDbGFzcyA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAqIE1heGltdW0gbnVtYmVyIG9mIHRoaW5ncyBwZXIgcGFuZS4KICAgICAgICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfQogICAgICAgICAgICAgICAqLwogICAgICAgICAgICAgIHRoaXMuc29tZVByb3BlcnR5ID0gNDsKICAgICAgICAgICAgfQogICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgPC9TVUJTRUNUSU9OPgoKICAgICAgICA8U1VCU0VDVElPTiB0aXRsZT0iSlNEb2MgVGFnIFJlZmVyZW5jZSI+CiAgICAgICAgICA8YSBuYW1lPSJKU0RvY19UYWdfUmVmZXJlbmNlIi8+CiAgICAgICAgICA8cC8+CiAgICAgICAgICA8dGFibGUgYm9yZGVyPSIxIiBzdHlsZT0iYm9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlIiBjZWxscGFkZGluZz0iNCI+CiAgICAgICAgICAgIDx0aGVhZD4KICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGg+VGFnPC90aD4KICAgICAgICAgICAgICAgIDx0aD5UZW1wbGF0ZSAmYW1wOyBFeGFtcGxlczwvdGg+CiAgICAgICAgICAgICAgICA8dGg+RGVzY3JpcHRpb248L3RoPgogICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgIDwvdGhlYWQ+CiAgICAgICAgICAgIDx0Ym9keT4KICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxhIG5hbWU9InRhZy1hdXRob3IiPkBhdXRob3I8L2E+CgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPGNvZGU+QGF1dGhvciB1c2VybmFtZUBnb29nbGUuY29tIChmaXJzdCBsYXN0KTwvY29kZT4KICAgICAgICAgICAgICAgICAgPHA+PGk+Rm9yIGV4YW1wbGU6PC9pPjwvcD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICAvKioKICAgICAgICAgICAgICAgICAgICAgKiBAZmlsZW92ZXJ2aWV3IFV0aWxpdGllcyBmb3IgaGFuZGxpbmcgdGV4dGFyZWFzLgogICAgICAgICAgICAgICAgICAgICAqIEBhdXRob3Iga3V0aEBnb29nbGUuY29tIChVdGh1ciBQZW5kcmFnb24pCiAgICAgICAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgRG9jdW1lbnQgdGhlIGF1dGhvciBvZiBhIGZpbGUgb3IgdGhlIG93bmVyIG9mIGEgdGVzdCwKICAgICAgICAgICAgICAgICAgZ2VuZXJhbGx5IG9ubHkgdXNlZCBpbiB0aGUgPGNvZGU+QGZpbGVvdmVydmlldzwvY29kZT4gY29tbWVudC4KCiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgIDwvdHI+CgoKCiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkPjxhIG5hbWU9InRhZy1jb2RlIj5AY29kZTwvYT48L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8Y29kZT57QGNvZGUgLi4ufTwvY29kZT4KICAgICAgICAgICAgICAgICAgPHA+PGk+Rm9yIGV4YW1wbGU6PC9pPjwvcD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICAvKioKICAgICAgICAgICAgICAgICAgICAgKiBNb3ZlcyB0byB0aGUgbmV4dCBwb3NpdGlvbiBpbiB0aGUgc2VsZWN0aW9uLgogICAgICAgICAgICAgICAgICAgICAqIFRocm93cyB7QGNvZGUgZ29vZy5pdGVyLlN0b3BJdGVyYXRpb259IHdoZW4gaXQKICAgICAgICAgICAgICAgICAgICAgKiBwYXNzZXMgdGhlIGVuZCBvZiB0aGUgcmFuZ2UuCiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybiB7Tm9kZX0gVGhlIG5vZGUgYXQgdGhlIG5leHQgcG9zaXRpb24uCiAgICAgICAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgICAgICAgZ29vZy5kb20uUmFuZ2VJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgLy8gLi4uCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICBJbmRpY2F0ZXMgdGhhdCBhIHRlcm0gaW4gYSBKU0RvYyBkZXNjcmlwdGlvbiBpcyBjb2RlIHNvIGl0IG1heQogICAgICAgICAgICAgICAgICBiZSBjb3JyZWN0bHkgZm9ybWF0dGVkIGluIGdlbmVyYXRlZCBkb2N1bWVudGF0aW9uLgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+PGEgbmFtZT0idGFnLWNvbnN0Ij5AY29uc3Q8L2E+PC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPGNvZGU+QGNvbnN0PC9jb2RlPjxici8+CiAgICAgICAgICAgICAgICAgIDxjb2RlPkBjb25zdCB7dHlwZX08L2NvZGU+CiAgICAgICAgICAgICAgICAgIDxwPjxpPkZvciBleGFtcGxlOjwvaT48L3A+CiAgICAgICAgICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICAgICAgLyoqIEBjb25zdCAqLyB2YXIgTVlfQkVFUiA9ICdzdG91dCc7CgogICAgICAgICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAgICAgICAqIE15IG5hbWVzcGFjZSdzIGZhdm9yaXRlIGtpbmQgb2YgYmVlci4KICAgICAgICAgICAgICAgICAgICAgKiBAY29uc3Qge3N0cmluZ30KICAgICAgICAgICAgICAgICAgICAgKi8KICAgICAgICAgICAgICAgICAgICBteW5hbWVzcGFjZS5NWV9CRUVSID0gJ3N0b3V0JzsKCiAgICAgICAgICAgICAgICAgICAgLyoqIEBjb25zdCAqLyBNeUNsYXNzLk1ZX0JFRVIgPSAnc3RvdXQnOwoKICAgICAgICAgICAgICAgICAgICAvKioKICAgICAgICAgICAgICAgICAgICAgKiBJbml0aWFsaXplcyB0aGUgcmVxdWVzdC4KICAgICAgICAgICAgICAgICAgICAgKiBAY29uc3QKICAgICAgICAgICAgICAgICAgICAgKi8KICAgICAgICAgICAgICAgICAgICBteW5hbWVzcGFjZS5SZXF1ZXN0LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIG1ldGhvZCBjYW5ub3QgYmUgb3ZlcnJpZGRlbiBpbiBhIHN1YmNsYXNzLgogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPHA+TWFya3MgYSB2YXJpYWJsZSAob3IgcHJvcGVydHkpIGFzIHJlYWQtb25seSBhbmQgc3VpdGFibGUKICAgICAgICAgICAgICAgICAgZm9yIGlubGluaW5nLjwvcD4KCiAgICAgICAgICAgICAgICAgIDxwPkEgPGNvZGU+QGNvbnN0PC9jb2RlPiB2YXJpYWJsZSBpcyBhbiBpbW11dGFibGUgcG9pbnRlciB0bwogICAgICAgICAgICAgICAgICBhIHZhbHVlLiAgSWYgYSB2YXJpYWJsZSBvciBwcm9wZXJ0eSBtYXJrZWQgYXMKICAgICAgICAgICAgICAgICAgPGNvZGU+QGNvbnN0PC9jb2RlPiBpcyBvdmVyd3JpdHRlbiwgSlNDb21waWxlciB3aWxsIGdpdmUKICAgICAgICAgICAgICAgICAgd2FybmluZ3MuPC9wPgoKICAgICAgICAgICAgICAgICAgPHA+VGhlIHR5cGUgZGVjbGFyYXRpb24gb2YgYSBjb25zdGFudCB2YWx1ZSBjYW4gYmUgb21pdHRlZAogICAgICAgICAgICAgICAgICAgIGlmIGl0IGNhbiBiZSBjbGVhcmx5IGluZmVycmVkLiBBbiBhZGRpdGlvbmFsIGNvbW1lbnQgYWJvdXQKICAgICAgICAgICAgICAgICAgICB0aGUgdmFyaWFibGUgaXMgb3B0aW9uYWwuPC9wPgoKICAgICAgICAgICAgICAgICAgPHA+V2hlbiA8Y29kZT5AY29uc3Q8L2NvZGU+IGlzIGFwcGxpZWQgdG8gYSBtZXRob2QsIGl0CiAgICAgICAgICAgICAgICAgICAgaW1wbGllcyB0aGUgbWV0aG9kIGlzIG5vdCBvbmx5IG5vdCBvdmVyd3JpdGFibGUsIGJ1dCBhbHNvCiAgICAgICAgICAgICAgICAgICAgdGhhdCB0aGUgbWV0aG9kIGlzIDxlbT5maW5hbGl6ZWQ8L2VtPiDigJQKICAgICAgICAgICAgICAgICAgICBub3Qgb3ZlcnJpZGFibGUgaW4gc3ViY2xhc3Nlcy48L3A+CgogICAgICAgICAgICAgICAgICA8cD5Gb3IgbW9yZSBvbiA8Y29kZT5AY29uc3Q8L2NvZGU+LCBzZWUgdGhlCiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI0NvbnN0YW50cyI+Q29uc3RhbnRzPC9hPiBzZWN0aW9uLjwvcD4KCiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgIDwvdHI+CgogICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZD48YSBuYW1lPSJ0YWctY29uc3RydWN0b3IiPkBjb25zdHJ1Y3RvcjwvYT48L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8Y29kZT5AY29uc3RydWN0b3I8L2NvZGU+CiAgICAgICAgICAgICAgICAgIDxwPjxpPkZvciBleGFtcGxlOjwvaT48L3A+CiAgICAgICAgICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICAgICAgICogQSByZWN0YW5nbGUuCiAgICAgICAgICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yCiAgICAgICAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gR01fUmVjdCgpIHsKICAgICAgICAgICAgICAgICAgICAgIC4uLgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICBVc2VkIGluIGEgY2xhc3MncyBkb2N1bWVudGF0aW9uIHRvIGluZGljYXRlIHRoZSBjb25zdHJ1Y3Rvci4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgPC90cj4KCiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkPjxhIG5hbWU9InRhZy1kZWZpbmUiPkBkZWZpbmU8L2E+PC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPGNvZGU+QGRlZmluZSB7VHlwZX0gZGVzY3JpcHRpb248L2NvZGU+CiAgICAgICAgICAgICAgICAgIDxwPjxpPkZvciBleGFtcGxlOjwvaT48L3A+CiAgICAgICAgICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICAgICAgLyoqIEBkZWZpbmUge2Jvb2xlYW59ICovCiAgICAgICAgICAgICAgICAgICAgdmFyIFRSX0ZMQUdTX0VOQUJMRV9ERUJVRyA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAgICAgICAqIEBkZWZpbmUge2Jvb2xlYW59IFdoZXRoZXIgd2Uga25vdyBhdCBjb21waWxlLXRpbWUgdGhhdAogICAgICAgICAgICAgICAgICAgICAqICAgICB0aGUgYnJvd3NlciBpcyBJRS4KICAgICAgICAgICAgICAgICAgICAgKi8KICAgICAgICAgICAgICAgICAgICBnb29nLnVzZXJBZ2VudC5BU1NVTUVfSUUgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICBJbmRpY2F0ZXMgYSBjb25zdGFudCB0aGF0IGNhbiBiZSBvdmVycmlkZGVuIGJ5IHRoZSBjb21waWxlciBhdAogICAgICAgICAgICAgICAgICBjb21waWxlLXRpbWUuIEluIHRoZSBleGFtcGxlLCB0aGUgY29tcGlsZXIgZmxhZwogICAgICAgICAgICAgICAgICA8Y29kZT4tLWRlZmluZT0nZ29vZy51c2VyQWdlbnQuQVNTVU1FX0lFPXRydWUnPC9jb2RlPgogICAgICAgICAgICAgICAgICBjb3VsZCBiZSBzcGVjaWZpZWQgaW4gdGhlIEJVSUxEIGZpbGUgdG8gaW5kaWNhdGUgdGhhdCB0aGUKICAgICAgICAgICAgICAgICAgY29uc3RhbnQgPGNvZGU+Z29vZy51c2VyQWdlbnQuQVNTVU1FX0lFPC9jb2RlPiBzaG91bGQgYmUgcmVwbGFjZWQKICAgICAgICAgICAgICAgICAgd2l0aCA8Y29kZT50cnVlPC9jb2RlPi4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgPC90cj4KCiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkPjxhIG5hbWU9InRhZy1kZXByZWNhdGVkIj5AZGVwcmVjYXRlZDwvYT48L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8Y29kZT5AZGVwcmVjYXRlZCBEZXNjcmlwdGlvbjwvY29kZT4KICAgICAgICAgICAgICAgICAgPHA+PGk+Rm9yIGV4YW1wbGU6PC9pPjwvcD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICAvKioKICAgICAgICAgICAgICAgICAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBub2RlIGlzIGEgZmllbGQuCiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgY29udGVudHMgb2YKICAgICAgICAgICAgICAgICAgICAgKiAgICAgdGhlIGVsZW1lbnQgYXJlIGVkaXRhYmxlLCBidXQgdGhlIGVsZW1lbnQKICAgICAgICAgICAgICAgICAgICAgKiAgICAgaXRzZWxmIGlzIG5vdC4KICAgICAgICAgICAgICAgICAgICAgKiBAZGVwcmVjYXRlZCBVc2UgaXNGaWVsZCgpLgogICAgICAgICAgICAgICAgICAgICAqLwogICAgICAgICAgICAgICAgICAgIEJOX0VkaXRVdGlsLmlzVG9wRWRpdGFibGVGaWVsZCA9IGZ1bmN0aW9uKG5vZGUpIHsKICAgICAgICAgICAgICAgICAgICAgIC8vIC4uLgogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgVXNlZCB0byB0ZWxsIHRoYXQgYSBmdW5jdGlvbiwgbWV0aG9kIG9yIHByb3BlcnR5IHNob3VsZCBub3QgYmUKICAgICAgICAgICAgICAgICAgdXNlZCBhbnkgbW9yZS4gIEFsd2F5cyBwcm92aWRlIGluc3RydWN0aW9ucyBvbiB3aGF0IGNhbGxlcnMKICAgICAgICAgICAgICAgICAgc2hvdWxkIHVzZSBpbnN0ZWFkLgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+PGEgbmFtZT0idGFnLWRpY3QiPkBkaWN0PC9hPjwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxjb2RlPkBkaWN0IERlc2NyaXB0aW9uPC9jb2RlPgogICAgICAgICAgICAgICAgICA8cD48aT5Gb3IgZXhhbXBsZTo8L2k+PC9wPgogICAgICAgICAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAgICAgICAqIEBjb25zdHJ1Y3RvcgogICAgICAgICAgICAgICAgICAgICAqIEBkaWN0CiAgICAgICAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gRm9vKHgpIHsKICAgICAgICAgICAgICAgICAgICAgIHRoaXNbJ3gnXSA9IHg7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHZhciBvYmogPSBuZXcgRm9vKDEyMyk7CiAgICAgICAgICAgICAgICAgICAgdmFyIG51bSA9IG9iai54OyAgLy8gd2FybmluZwoKICAgICAgICAgICAgICAgICAgICAoLyoqIEBkaWN0ICovIHsgeDogMSB9KS54ID0gMTIzOyAgLy8gd2FybmluZwogICAgICAgICAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIFdoZW4gYSBjb25zdHJ1Y3RvciAoPGNvZGU+Rm9vPC9jb2RlPiBpbiB0aGUgZXhhbXBsZSkgaXMKICAgICAgICAgICAgICAgICAgYW5ub3RhdGVkIHdpdGggPGNvZGU+QGRpY3Q8L2NvZGU+LCB5b3UgY2FuIG9ubHkgdXNlIHRoZQogICAgICAgICAgICAgICAgICBicmFja2V0IG5vdGF0aW9uIHRvIGFjY2VzcyB0aGUgcHJvcGVydGllcyBvZiA8Y29kZT5Gb288L2NvZGU+CiAgICAgICAgICAgICAgICAgIG9iamVjdHMuCiAgICAgICAgICAgICAgICAgIFRoZSBhbm5vdGF0aW9uIGNhbiBhbHNvIGJlIHVzZWQgZGlyZWN0bHkgb24gb2JqZWN0IGxpdGVyYWxzLgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+PGEgbmFtZT0idGFnLWVudW0iPkBlbnVtPC9hPjwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxjb2RlPkBlbnVtIHtUeXBlfTwvY29kZT4KICAgICAgICAgICAgICAgICAgPHA+PGk+Rm9yIGV4YW1wbGU6PC9pPjwvcD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICAvKioKICAgICAgICAgICAgICAgICAgICAgKiBFbnVtIGZvciB0cmktc3RhdGUgdmFsdWVzLgogICAgICAgICAgICAgICAgICAgICAqIEBlbnVtIHtudW1iZXJ9CiAgICAgICAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgICAgICAgcHJvamVjdC5UcmlTdGF0ZSA9IHsKICAgICAgICAgICAgICAgICAgICAgIFRSVUU6IDEsCiAgICAgICAgICAgICAgICAgICAgICBGQUxTRTogLTEsCiAgICAgICAgICAgICAgICAgICAgICBNQVlCRTogMAogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+PGEgbmFtZT0idGFnLWV4cG9ydCI+QGV4cG9ydDwvYT48L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8Y29kZT5AZXhwb3J0PC9jb2RlPgogICAgICAgICAgICAgICAgICA8cD48aT5Gb3IgZXhhbXBsZTo8L2k+PC9wPgogICAgICAgICAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgICAgIC8qKiBAZXhwb3J0ICovCiAgICAgICAgICAgICAgICAgICAgZm9vLk15UHVibGljQ2xhc3MucHJvdG90eXBlLm15UHVibGljTWV0aG9kID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAvLyAuLi4KICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxwPkdpdmVuIHRoZSBjb2RlIG9uIHRoZSBsZWZ0LCB3aGVuIHRoZSBjb21waWxlciBpcyBydW4gd2l0aAogICAgICAgICAgICAgICAgICB0aGUgPGNvZGU+LS1nZW5lcmF0ZV9leHBvcnRzPC9jb2RlPiBmbGFnLCBpdCB3aWxsIGdlbmVyYXRlIHRoZQogICAgICAgICAgICAgICAgICBjb2RlOjwvcD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICBnb29nLmV4cG9ydFN5bWJvbCgnZm9vLk15UHVibGljQ2xhc3MucHJvdG90eXBlLm15UHVibGljTWV0aG9kJywKICAgICAgICAgICAgICAgICAgICAgICAgZm9vLk15UHVibGljQ2xhc3MucHJvdG90eXBlLm15UHVibGljTWV0aG9kKTsKICAgICAgICAgICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICAgIDxwPndoaWNoIHdpbGwgZXhwb3J0IHRoZSBzeW1ib2xzIHRvIHVuY29tcGlsZWQgY29kZS4KICAgICAgICAgICAgICAgICAgQ29kZSB0aGF0IHVzZXMgdGhlIDxjb2RlPkBleHBvcnQ8L2NvZGU+IGFubm90YXRpb24gbXVzdCBlaXRoZXI8L3A+CiAgICAgICAgICAgICAgICAgIDxvbD4KICAgICAgICAgICAgICAgICAgICA8bGk+aW5jbHVkZSA8Y29kZT4vL2phdmFzY3JpcHQvY2xvc3VyZS9iYXNlLmpzPC9jb2RlPiwgb3I8L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT5kZWZpbmUgYm90aCA8Y29kZT5nb29nLmV4cG9ydFN5bWJvbDwvY29kZT4gYW5kCiAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5nb29nLmV4cG9ydFByb3BlcnR5PC9jb2RlPiB3aXRoIHRoZSBzYW1lIG1ldGhvZAogICAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlIGluIHRoZWlyIG93biBjb2RlYmFzZS48L2xpPgogICAgICAgICAgICAgICAgICA8L29sPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+PGEgbmFtZT0idGFnLWV4cG9zZSI+QGV4cG9zZTwvYT48L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8Y29kZT5AZXhwb3NlPC9jb2RlPgogICAgICAgICAgICAgICAgICA8cD48aT5Gb3IgZXhhbXBsZTo8L2k+PC9wPgogICAgICAgICAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgICAgIC8qKiBAZXhwb3NlICovCiAgICAgICAgICAgICAgICAgICAgTXlDbGFzcy5wcm90b3R5cGUuZXhwb3NlZFByb3BlcnR5ID0gMzsKICAgICAgICAgICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICBEZWNsYXJlcyBhbiBleHBvc2VkIHByb3BlcnR5LiBFeHBvc2VkIHByb3BlcnRpZXMKICAgICAgICAgICAgICAgICAgICB3aWxsIG5vdCBiZSByZW1vdmVkLCBvciByZW5hbWVkLCBvciBjb2xsYXBzZWQsCiAgICAgICAgICAgICAgICAgICAgb3Igb3B0aW1pemVkIGluIGFueSB3YXkgYnkgdGhlIGNvbXBpbGVyLiBObyBwcm9wZXJ0aWVzCiAgICAgICAgICAgICAgICAgICAgd2l0aCB0aGUgc2FtZSBuYW1lIHdpbGwgYmUgYWJsZSB0byBiZSBvcHRpbWl6ZWQgZWl0aGVyLgogICAgICAgICAgICAgICAgICA8L3A+CgogICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICA8Y29kZT5AZXhwb3NlPC9jb2RlPiBzaG91bGQgbmV2ZXIgYmUgdXNlZCBpbiBsaWJyYXJ5IGNvZGUsCiAgICAgICAgICAgICAgICAgICAgYmVjYXVzZSBpdCB3aWxsIHByZXZlbnQgdGhhdCBwcm9wZXJ0eSBmcm9tIGV2ZXIgZ2V0dGluZwogICAgICAgICAgICAgICAgICAgIHJlbW92ZWQuCiAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgPC90cj4KCiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkPjxhIG5hbWU9InRhZy1leHRlbmRzIj5AZXh0ZW5kczwvYT48L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8Y29kZT4KICAgICAgICAgICAgICAgICAgICBAZXh0ZW5kcyBUeXBlPGJyLz4KICAgICAgICAgICAgICAgICAgICBAZXh0ZW5kcyB7VHlwZX0KICAgICAgICAgICAgICAgICAgPC9jb2RlPgogICAgICAgICAgICAgICAgICA8cD48aT5Gb3IgZXhhbXBsZTo8L2k+PC9wPgogICAgICAgICAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAgICAgICAqIEltbXV0YWJsZSBlbXB0eSBub2RlIGxpc3QuCiAgICAgICAgICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yCiAgICAgICAgICAgICAgICAgICAgICogQGV4dGVuZHMgZ29vZy5kcy5CYXNpY05vZGVMaXN0CiAgICAgICAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgICAgICAgZ29vZy5kcy5FbXB0eU5vZGVMaXN0ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAuLi4KICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIFVzZWQgd2l0aCA8Y29kZT5AY29uc3RydWN0b3I8L2NvZGU+IHRvIGluZGljYXRlIHRoYXQgYSBjbGFzcwogICAgICAgICAgICAgICAgICBpbmhlcml0cyBmcm9tIGFub3RoZXIgY2xhc3MuIEN1cmx5IGJyYWNlcyBhcm91bmQgdGhlIHR5cGUgYXJlCiAgICAgICAgICAgICAgICAgIG9wdGlvbmFsLgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+PGEgbmFtZT0idGFnLWV4dGVybnMiPkBleHRlcm5zPC9hPjwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxjb2RlPkBleHRlcm5zPC9jb2RlPgogICAgICAgICAgICAgICAgICA8cD48aT5Gb3IgZXhhbXBsZTo8L2k+PC9wPgogICAgICAgICAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAgICAgICAqIEBmaWxlb3ZlcnZpZXcgVGhpcyBpcyBhbiBleHRlcm5zIGZpbGUuCiAgICAgICAgICAgICAgICAgICAgICogQGV4dGVybnMKICAgICAgICAgICAgICAgICAgICAgKi8KCiAgICAgICAgICAgICAgICAgICAgdmFyIGRvY3VtZW50OwogICAgICAgICAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgIERlY2xhcmVzIGFuCgogICAgICAgICAgICAgICAgICAgIGV4dGVybnMgZmlsZS4KICAgICAgICAgICAgICAgICAgPC9wPgoKCiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgIDwvdHI+CgogICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZD48YSBuYW1lPSJ0YWctZmlsZW92ZXJ2aWV3Ij5AZmlsZW92ZXJ2aWV3PC9hPjwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxjb2RlPkBmaWxlb3ZlcnZpZXcgRGVzY3JpcHRpb248L2NvZGU+CiAgICAgICAgICAgICAgICAgIDxwPjxpPkZvciBleGFtcGxlOjwvaT48L3A+CiAgICAgICAgICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICAgICAgICogQGZpbGVvdmVydmlldyBVdGlsaXRpZXMgZm9yIGRvaW5nIHRoaW5ncyB0aGF0IHJlcXVpcmUgdGhpcyB2ZXJ5IGxvbmcKICAgICAgICAgICAgICAgICAgICAgKiBidXQgbm90IGluZGVudGVkIGNvbW1lbnQuCiAgICAgICAgICAgICAgICAgICAgICogQGF1dGhvciBrdXRoQGdvb2dsZS5jb20gKFV0aHVyIFBlbmRyYWdvbikKICAgICAgICAgICAgICAgICAgICAgKi8KICAgICAgICAgICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPk1ha2VzIHRoZSBjb21tZW50IGJsb2NrIHByb3ZpZGUgZmlsZSBsZXZlbCBpbmZvcm1hdGlvbi48L3RkPgogICAgICAgICAgICAgIDwvdHI+CgogICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZD48YSBuYW1lPSJ0YWctaW1wbGVtZW50cyI+QGltcGxlbWVudHM8L2E+PC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPGNvZGU+CiAgICAgICAgICAgICAgICAgICAgQGltcGxlbWVudHMgVHlwZTxici8+CiAgICAgICAgICAgICAgICAgICAgQGltcGxlbWVudHMge1R5cGV9CiAgICAgICAgICAgICAgICAgIDwvY29kZT4KICAgICAgICAgICAgICAgICAgPHA+PGk+Rm9yIGV4YW1wbGU6PC9pPjwvcD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICAvKioKICAgICAgICAgICAgICAgICAgICAgKiBBIHNoYXBlLgogICAgICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UKICAgICAgICAgICAgICAgICAgICAgKi8KICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBTaGFwZSgpIHt9OwogICAgICAgICAgICAgICAgICAgIFNoYXBlLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oKSB7fTsKCiAgICAgICAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yCiAgICAgICAgICAgICAgICAgICAgICogQGltcGxlbWVudHMge1NoYXBlfQogICAgICAgICAgICAgICAgICAgICAqLwogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFNxdWFyZSgpIHt9OwogICAgICAgICAgICAgICAgICAgIFNxdWFyZS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgLi4uCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICBVc2VkIHdpdGggPGNvZGU+QGNvbnN0cnVjdG9yPC9jb2RlPiB0byBpbmRpY2F0ZSB0aGF0IGEgY2xhc3MKICAgICAgICAgICAgICAgICAgaW1wbGVtZW50cyBhbiBpbnRlcmZhY2UuIEN1cmx5IGJyYWNlcyBhcm91bmQgdGhlIHR5cGUgYXJlCiAgICAgICAgICAgICAgICAgIG9wdGlvbmFsLgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+PGEgbmFtZT0idGFnLWluaGVyaXREb2MiPkBpbmhlcml0RG9jPC9hPjwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxjb2RlPkBpbmhlcml0RG9jPC9jb2RlPgogICAgICAgICAgICAgICAgICA8cD48aT5Gb3IgZXhhbXBsZTo8L2k+PC9wPgogICAgICAgICAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgICAgIC8qKiBAaW5oZXJpdERvYyAqLwogICAgICAgICAgICAgICAgICAgIHByb2plY3QuU3ViQ2xhc3MucHJvdG90eXBlLnRvU3RyaW5nKCkgewogICAgICAgICAgICAgICAgICAgICAgLy8gLi4uCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8cCBzdHlsZT0iZm9udC13ZWlnaHQ6Ym9sZCI+RGVwcmVjYXRlZC4gVXNlCiAgICAgICAgICAgICAgICAgICAgPGNvZGU+QG92ZXJyaWRlPC9jb2RlPiBpbnN0ZWFkLjwvcD4KCiAgICAgICAgICAgICAgICAgIEluZGljYXRlcyB0aGF0IGEgbWV0aG9kIG9yIHByb3BlcnR5IG9mIGEgc3ViY2xhc3MKICAgICAgICAgICAgICAgICAgaW50ZW50aW9uYWxseSBoaWRlcyBhIG1ldGhvZCBvciBwcm9wZXJ0eSBvZiB0aGUgc3VwZXJjbGFzcywKICAgICAgICAgICAgICAgICAgYW5kIGhhcyBleGFjdGx5IHRoZSBzYW1lIGRvY3VtZW50YXRpb24uIE5vdGljZSB0aGF0CiAgICAgICAgICAgICAgICAgIDxjb2RlPkBpbmhlcml0RG9jPC9jb2RlPiBpbXBsaWVzIDxjb2RlPkBvdmVycmlkZTwvY29kZT4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgPC90cj4KCiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkPjxhIG5hbWU9InRhZy1pbnRlcmZhY2UiPkBpbnRlcmZhY2U8L2E+PC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPGNvZGU+QGludGVyZmFjZTwvY29kZT4KICAgICAgICAgICAgICAgICAgPHA+PGk+Rm9yIGV4YW1wbGU6PC9pPjwvcD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICAvKioKICAgICAgICAgICAgICAgICAgICAgKiBBIHNoYXBlLgogICAgICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UKICAgICAgICAgICAgICAgICAgICAgKi8KICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBTaGFwZSgpIHt9OwogICAgICAgICAgICAgICAgICAgIFNoYXBlLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oKSB7fTsKCiAgICAgICAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICAgICAgICogQSBwb2x5Z29uLgogICAgICAgICAgICAgICAgICAgICAqIEBpbnRlcmZhY2UKICAgICAgICAgICAgICAgICAgICAgKiBAZXh0ZW5kcyB7U2hhcGV9CiAgICAgICAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gUG9seWdvbigpIHt9OwogICAgICAgICAgICAgICAgICAgIFBvbHlnb24ucHJvdG90eXBlLmdldFNpZGVzID0gZnVuY3Rpb24oKSB7fTsKICAgICAgICAgICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICBVc2VkIHRvIGluZGljYXRlIHRoYXQgdGhlIGZ1bmN0aW9uIGRlZmluZXMgYW4gaW50ZXJmYWNlLgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+PGEgbmFtZT0idGFnLWxlbmRzIj5AbGVuZHM8L2E+PC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPGNvZGU+QGxlbmRzIG9iamVjdE5hbWU8L2NvZGU+PGJyLz4KICAgICAgICAgICAgICAgICAgPGNvZGU+QGxlbmRzIHtvYmplY3ROYW1lfTwvY29kZT4KICAgICAgICAgICAgICAgICAgPHA+PGk+Rm9yIGV4YW1wbGU6PC9pPjwvcD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICBnb29nLm9iamVjdC5leHRlbmQoCiAgICAgICAgICAgICAgICAgICAgICAgIEJ1dHRvbi5wcm90b3R5cGUsCiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAbGVuZHMge0J1dHRvbi5wcm90b3R5cGV9ICovIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpc0J1dHRvbjogZnVuY3Rpb24oKSB7IHJldHVybiB0cnVlOyB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIEluZGljYXRlcyB0aGF0IHRoZSBrZXlzIG9mIGFuIG9iamVjdCBsaXRlcmFsIHNob3VsZAogICAgICAgICAgICAgICAgICBiZSB0cmVhdGVkIGFzIHByb3BlcnRpZXMgb2Ygc29tZSBvdGhlciBvYmplY3QuIFRoaXMgYW5ub3RhdGlvbgogICAgICAgICAgICAgICAgICBzaG91bGQgb25seSBhcHBlYXIgb24gb2JqZWN0IGxpdGVyYWxzLjxwLz4KCiAgICAgICAgICAgICAgICAgIE5vdGljZSB0aGF0IHRoZSBuYW1lIGluIGJyYWNlcyBpcyBub3QgYSB0eXBlIG5hbWUgbGlrZQogICAgICAgICAgICAgICAgICBpbiBvdGhlciBhbm5vdGF0aW9ucy4gSXQncyBhbiBvYmplY3QgbmFtZS4gSXQgbmFtZXMKICAgICAgICAgICAgICAgICAgdGhlIG9iamVjdCBvbiB3aGljaCB0aGUgcHJvcGVydGllcyBhcmUgImxlbnQiLgogICAgICAgICAgICAgICAgICBGb3IgZXhhbXBsZSwgPGNvZGU+QHR5cGUge0Zvb308L2NvZGU+IG1lYW5zICJhbiBpbnN0YW5jZSBvZiBGb28iLAogICAgICAgICAgICAgICAgICBidXQgPGNvZGU+QGxlbmRzIHtGb299PC9jb2RlPiBtZWFucyAidGhlIGNvbnN0cnVjdG9yIEZvbyIuPHAvPgoKICAgICAgICAgICAgICAgICAgVGhlIDxhIGhyZWY9Imh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvanNkb2MtdG9vbGtpdC93aWtpL1RhZ0xlbmRzIj4KICAgICAgICAgICAgICAgICAgSlNEb2MgVG9vbGtpdCBkb2NzPC9hPiBoYXZlIG1vcmUgaW5mb3JtYXRpb24gb24gdGhpcwogICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uLgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+PGEgbmFtZT0idGFnLWxpY2Vuc2UiPkBsaWNlbnNlPC9hPiBvcgogICAgICAgICAgICAgICAgICA8YSBuYW1lPSJ0YWctcHJlc2VydmUiPkBwcmVzZXJ2ZTwvYT48L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8Y29kZT5AbGljZW5zZSBEZXNjcmlwdGlvbjwvY29kZT4KICAgICAgICAgICAgICAgICAgPHA+PGk+Rm9yIGV4YW1wbGU6PC9pPjwvcD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICAvKioKICAgICAgICAgICAgICAgICAgICAgKiBAcHJlc2VydmUgQ29weXJpZ2h0IDIwMDkgU29tZVRoaXJkUGFydHkuCiAgICAgICAgICAgICAgICAgICAgICogSGVyZSBpcyB0aGUgZnVsbCBsaWNlbnNlIHRleHQgYW5kIGNvcHlyaWdodAogICAgICAgICAgICAgICAgICAgICAqIG5vdGljZSBmb3IgdGhpcyBmaWxlLiBOb3RlIHRoYXQgdGhlIG5vdGljZSBjYW4gc3BhbiBzZXZlcmFsCiAgICAgICAgICAgICAgICAgICAgICogbGluZXMgYW5kIGlzIG9ubHkgdGVybWluYXRlZCBieSB0aGUgY2xvc2luZyBzdGFyIGFuZCBzbGFzaDoKICAgICAgICAgICAgICAgICAgICAgKi8KICAgICAgICAgICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICBBbnl0aGluZyBtYXJrZWQgYnkgPGNvZGU+QGxpY2Vuc2U8L2NvZGU+IG9yCiAgICAgICAgICAgICAgICAgIDxjb2RlPkBwcmVzZXJ2ZTwvY29kZT4gd2lsbCBiZSByZXRhaW5lZCBieSB0aGUgY29tcGlsZXIgYW5kCiAgICAgICAgICAgICAgICAgIG91dHB1dCBhdCB0aGUgdG9wIG9mIHRoZSBjb21waWxlZCBjb2RlIGZvciB0aGF0IGZpbGUuIFRoaXMKICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbiBhbGxvd3MgaW1wb3J0YW50IG5vdGljZXMgKHN1Y2ggYXMgbGVnYWwgbGljZW5zZXMgb3IKICAgICAgICAgICAgICAgICAgY29weXJpZ2h0IHRleHQpIHRvIHN1cnZpdmUgY29tcGlsYXRpb24gdW5jaGFuZ2VkLiBMaW5lIGJyZWFrcwogICAgICAgICAgICAgICAgICBhcmUgcHJlc2VydmVkLgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICA8L3RyPgoKCgoKCiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkPjxhIG5hbWU9InRhZy1ub2FsaWFzIj5Abm9hbGlhczwvYT48L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8Y29kZT5Abm9hbGlhczwvY29kZT4KICAgICAgICAgICAgICAgICAgPHA+PGk+Rm9yIGV4YW1wbGU6PC9pPjwvcD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICAvKiogQG5vYWxpYXMgKi8KICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBSYW5nZSgpIHt9CiAgICAgICAgICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgVXNlZCBpbiBhbiBleHRlcm5zIGZpbGUgdG8gaW5kaWNhdGUgdG8gdGhlIGNvbXBpbGVyIHRoYXQgdGhlCiAgICAgICAgICAgICAgICAgIHZhcmlhYmxlIG9yIGZ1bmN0aW9uIHNob3VsZCBub3QgYmUgYWxpYXNlZCBhcyBwYXJ0IG9mIHRoZQogICAgICAgICAgICAgICAgICBhbGlhcyBleHRlcm5hbHMgcGFzcyBvZiB0aGUgY29tcGlsZXIuCiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgIDwvdHI+CgogICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZD48YSBuYW1lPSJ0YWctbm9jb21waWxlIj5Abm9jb21waWxlPC9hPjwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxjb2RlPkBub2NvbXBpbGU8L2NvZGU+CiAgICAgICAgICAgICAgICAgIDxwPjxpPkZvciBleGFtcGxlOjwvaT48L3A+CiAgICAgICAgICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICAgICAgLyoqIEBub2NvbXBpbGUgKi8KCiAgICAgICAgICAgICAgICAgICAgLy8gSmF2YVNjcmlwdCBjb2RlCiAgICAgICAgICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgVXNlZCBhdCB0aGUgdG9wIG9mIGEgZmlsZSB0byB0ZWxsIHRoZSBjb21waWxlciB0byBwYXJzZSB0aGlzCiAgICAgICAgICAgICAgICAgIGZpbGUgYnV0IG5vdCBjb21waWxlIGl0LgogICAgICAgICAgICAgICAgICBDb2RlIHRoYXQgaXMgbm90IG1lYW50IGZvciBjb21waWxhdGlvbiBhbmQgc2hvdWxkIGJlIG9taXR0ZWQKICAgICAgICAgICAgICAgICAgZnJvbSBjb21waWxhdGlvbiB0ZXN0cyAoc3VjaCBhcyBib290c3RyYXAgY29kZSkgdXNlcyB0aGlzCiAgICAgICAgICAgICAgICAgIGFubm90YXRpb24uCiAgICAgICAgICAgICAgICAgIFVzZSBzcGFyaW5nbHkuCiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgIDwvdHI+CgogICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZD48YSBuYW1lPSJ0YWctbm9zaWRlZWZmZWN0cyI+QG5vc2lkZWVmZmVjdHM8L2E+PC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPGNvZGU+QG5vc2lkZWVmZmVjdHM8L2NvZGU+CiAgICAgICAgICAgICAgICAgIDxwPjxpPkZvciBleGFtcGxlOjwvaT48L3A+CiAgICAgICAgICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICAgICAgLyoqIEBub3NpZGVlZmZlY3RzICovCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gbm9TaWRlRWZmZWN0c0ZuMSgpIHsKICAgICAgICAgICAgICAgICAgICAgIC8vIC4uLgogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLyoqIEBub3NpZGVlZmZlY3RzICovCiAgICAgICAgICAgICAgICAgICAgdmFyIG5vU2lkZUVmZmVjdHNGbjIgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgIC8vIC4uLgogICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgIC8qKiBAbm9zaWRlZWZmZWN0cyAqLwogICAgICAgICAgICAgICAgICAgIGEucHJvdG90eXBlLm5vU2lkZUVmZmVjdHNGbjMgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgIC8vIC4uLgogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgVGhpcyBhbm5vdGF0aW9uIGNhbiBiZSB1c2VkIGFzIHBhcnQgb2YgZnVuY3Rpb24gYW5kCiAgICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yIGRlY2xhcmF0aW9ucyB0byBpbmRpY2F0ZSB0aGF0IGNhbGxzIHRvIHRoZQogICAgICAgICAgICAgICAgICBkZWNsYXJlZCBmdW5jdGlvbiBoYXZlIG5vIHNpZGUtZWZmZWN0cy4gIFRoaXMgYW5ub3RhdGlvbgogICAgICAgICAgICAgICAgICBhbGxvd3MgdGhlIGNvbXBpbGVyIHRvIHJlbW92ZSBjYWxscyB0byB0aGVzZSBmdW5jdGlvbnMgaWYgdGhlCiAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSBpcyBub3QgdXNlZC4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgPC90cj4KCiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkPjxhIG5hbWU9InRhZy1vdmVycmlkZSI+QG92ZXJyaWRlPC9hPjwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxjb2RlPkBvdmVycmlkZTwvY29kZT4KICAgICAgICAgICAgICAgICAgPHA+PGk+Rm9yIGV4YW1wbGU6PC9pPjwvcD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICAvKioKICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEh1bWFuLXJlYWRhYmxlIHJlcHJlc2VudGF0aW9uIG9mIHByb2plY3QuU3ViQ2xhc3MuCiAgICAgICAgICAgICAgICAgICAgICogQG92ZXJyaWRlCiAgICAgICAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgICAgICAgcHJvamVjdC5TdWJDbGFzcy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgIC8vIC4uLgogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgSW5kaWNhdGVzIHRoYXQgYSBtZXRob2Qgb3IgcHJvcGVydHkgb2YgYSBzdWJjbGFzcwogICAgICAgICAgICAgICAgICBpbnRlbnRpb25hbGx5IGhpZGVzIGEgbWV0aG9kIG9yIHByb3BlcnR5IG9mIHRoZSBzdXBlcmNsYXNzLiBJZgogICAgICAgICAgICAgICAgICBubyBvdGhlciBkb2N1bWVudGF0aW9uIGlzIGluY2x1ZGVkLCB0aGUgbWV0aG9kIG9yIHByb3BlcnR5CiAgICAgICAgICAgICAgICAgIGFsc28gaW5oZXJpdHMgZG9jdW1lbnRhdGlvbiBmcm9tIGl0cyBzdXBlcmNsYXNzLgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+PGEgbmFtZT0idGFnLXBhcmFtIj5AcGFyYW08L2E+PC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPGNvZGU+QHBhcmFtIHtUeXBlfSB2YXJuYW1lIERlc2NyaXB0aW9uPC9jb2RlPgogICAgICAgICAgICAgICAgICA8cD48aT5Gb3IgZXhhbXBsZTo8L2k+PC9wPgogICAgICAgICAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAgICAgICAqIFF1ZXJpZXMgYSBCYXogZm9yIGl0ZW1zLgogICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBncm91cE51bSBTdWJncm91cCBpZCB0byBxdWVyeS4KICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ8bnVsbH0gdGVybSBBbiBpdGVtTmFtZSwKICAgICAgICAgICAgICAgICAgICAgKiAgICAgb3IgaXRlbUlkLCBvciBudWxsIHRvIHNlYXJjaCBldmVyeXRoaW5nLgogICAgICAgICAgICAgICAgICAgICAqLwogICAgICAgICAgICAgICAgICAgIGdvb2cuQmF6LnByb3RvdHlwZS5xdWVyeSA9IGZ1bmN0aW9uKGdyb3VwTnVtLCB0ZXJtKSB7CiAgICAgICAgICAgICAgICAgICAgICAvLyAuLi4KICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIFVzZWQgd2l0aCBtZXRob2QsIGZ1bmN0aW9uIGFuZCBjb25zdHJ1Y3RvciBjYWxscyB0byBkb2N1bWVudAogICAgICAgICAgICAgICAgICB0aGUgYXJndW1lbnRzIG9mIGEgZnVuY3Rpb24uPHAvPgoKICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI0pzVHlwZXMiPlR5cGU8L2E+CiAgICAgICAgICAgICAgICAgIG5hbWVzIG11c3QgYmUgZW5jbG9zZWQgaW4gY3VybHkgYnJhY2VzLiBJZiB0aGUgdHlwZQogICAgICAgICAgICAgICAgICBpcyBvbWl0dGVkLCB0aGUgY29tcGlsZXIgd2lsbCBub3QgdHlwZS1jaGVjayB0aGUgcGFyYW1ldGVyLgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+PGEgbmFtZT0idGFnLXByaXZhdGUiPkBwcml2YXRlPC9hPjwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxjb2RlPkBwcml2YXRlPC9jb2RlPjxici8+CiAgICAgICAgICAgICAgICAgIDxjb2RlPkBwcml2YXRlIHt0eXBlfTwvY29kZT4KICAgICAgICAgICAgICAgICAgPHA+PGk+Rm9yIGV4YW1wbGU6PC9pPjwvcD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICAvKioKICAgICAgICAgICAgICAgICAgICAgKiBIYW5kbGVycyB0aGF0IGFyZSBsaXN0ZW5pbmcgdG8gdGhpcyBsb2dnZXIuCiAgICAgICAgICAgICAgICAgICAgICogQHByaXZhdGUgeyFBcnJheS4mbHQ7RnVuY3Rpb24mZ3Q7fQogICAgICAgICAgICAgICAgICAgICAqLwogICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlcnNfID0gW107CiAgICAgICAgICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgVXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIGEgdHJhaWxpbmcgdW5kZXJzY29yZSBvbiB0aGUgbWV0aG9kCiAgICAgICAgICAgICAgICAgIG9yIHByb3BlcnR5IG5hbWUgdG8gaW5kaWNhdGUgdGhhdCB0aGUgbWVtYmVyIGlzCiAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNWaXNpYmlsaXR5X19wcml2YXRlX2FuZF9wcm90ZWN0ZWRfZmllbGRzXyI+cHJpdmF0ZTwvYT4gYW5kIGZpbmFsLgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+PGEgbmFtZT0idGFnLXByb3RlY3RlZCI+QHByb3RlY3RlZDwvYT48L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8Y29kZT5AcHJvdGVjdGVkPC9jb2RlPjxici8+CiAgICAgICAgICAgICAgICAgIDxjb2RlPkBwcm90ZWN0ZWQge3R5cGV9PC9jb2RlPgogICAgICAgICAgICAgICAgICA8cD48aT5Gb3IgZXhhbXBsZTo8L2k+PC9wPgogICAgICAgICAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAgICAgICAqIFNldHMgdGhlIGNvbXBvbmVudCdzIHJvb3QgZWxlbWVudCB0byB0aGUgZ2l2ZW4gZWxlbWVudC4KICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgUm9vdCBlbGVtZW50IGZvciB0aGUgY29tcG9uZW50LgogICAgICAgICAgICAgICAgICAgICAqIEBwcm90ZWN0ZWQKICAgICAgICAgICAgICAgICAgICAgKi8KICAgICAgICAgICAgICAgICAgICBnb29nLnVpLkNvbXBvbmVudC5wcm90b3R5cGUuc2V0RWxlbWVudEludGVybmFsID0gZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgICAgICAgICAgICAgICAgLy8gLi4uCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICBVc2VkIHRvIGluZGljYXRlIHRoYXQgdGhlIG1lbWJlciBvciBwcm9wZXJ0eSBpcwogICAgICAgICAgICAgICAgICA8YSBocmVmPSIjVmlzaWJpbGl0eV9fcHJpdmF0ZV9hbmRfcHJvdGVjdGVkX2ZpZWxkc18iPnByb3RlY3RlZDwvYT4uCiAgICAgICAgICAgICAgICAgIFNob3VsZCBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggbmFtZXMgd2l0aCBubyB0cmFpbGluZwogICAgICAgICAgICAgICAgICB1bmRlcnNjb3JlLgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+PGEgbmFtZT0idGFnLXB1YmxpYyI+QHB1YmxpYzwvYT48L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8Y29kZT5AcHVibGljPC9jb2RlPjxici8+CiAgICAgICAgICAgICAgICAgIDxjb2RlPkBwdWJsaWMge3R5cGV9PC9jb2RlPgogICAgICAgICAgICAgICAgICA8cD48aT5Gb3IgZXhhbXBsZTo8L2k+PC9wPgogICAgICAgICAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAgICAgICAqIFdoZXRoZXIgdG8gY2FuY2VsIHRoZSBldmVudCBpbiBpbnRlcm5hbCBjYXB0dXJlL2J1YmJsZSBwcm9jZXNzaW5nLgogICAgICAgICAgICAgICAgICAgICAqIEBwdWJsaWMge2Jvb2xlYW59CiAgICAgICAgICAgICAgICAgICAgICogQHN1cHByZXNzIHt2aXNpYmxpdHl9IFJlZmVyZW5jaW5nIHRoaXMgb3V0c2lkZSB0aGlzIHBhY2thZ2UgaXMgc3Ryb25nbHkKICAgICAgICAgICAgICAgICAgICAgKiBkaXNjb3VyYWdlZC4KICAgICAgICAgICAgICAgICAgICAgKi8KICAgICAgICAgICAgICAgICAgICAgZ29vZy5ldmVudHMuRXZlbnQucHJvdG90eXBlLnByb3BhZ2F0aW9uU3RvcHBlZF8gPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICBVc2VkIHRvIGluZGljYXRlIHRoYXQgdGhlIG1lbWJlciBvciBwcm9wZXJ0eSBpcyBwdWJsaWMuIFZhcmlhYmxlcyBhbmQKICAgICAgICAgICAgICAgICAgcHJvcGVydGllcyBhcmUgcHVibGljIGJ5IGRlZmF1bHQsIHNvIHRoaXMgYW5ub3RhdGlvbiBpcyByYXJlbHkgbmVjZXNzYXJ5LgogICAgICAgICAgICAgICAgICBTaG91bGQgb25seSBiZSB1c2VkIGluIGxlZ2FjeSBjb2RlIHRoYXQgY2Fubm90IGJlIGVhc2lseSBjaGFuZ2VkIHRvCiAgICAgICAgICAgICAgICAgIG92ZXJyaWRlIHRoZSB2aXNpYmlsaXR5IG9mIG1lbWJlcnMgdGhhdCB3ZXJlIG5hbWVkIGFzIHByaXZhdGUgdmFyaWFibGVzLgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+PGEgbmFtZT0idGFnLXJldHVybiI+QHJldHVybjwvYT48L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8Y29kZT5AcmV0dXJuIHtUeXBlfSBEZXNjcmlwdGlvbjwvY29kZT4KICAgICAgICAgICAgICAgICAgPHA+PGk+Rm9yIGV4YW1wbGU6PC9pPjwvcD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICAvKioKICAgICAgICAgICAgICAgICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBoZXggSUQgb2YgdGhlIGxhc3QgaXRlbS4KICAgICAgICAgICAgICAgICAgICAgKi8KICAgICAgICAgICAgICAgICAgICBnb29nLkJhei5wcm90b3R5cGUuZ2V0TGFzdElkID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAvLyAuLi4KICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpZDsKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIFVzZWQgd2l0aCBtZXRob2QgYW5kIGZ1bmN0aW9uIGNhbGxzIHRvIGRvY3VtZW50IHRoZSByZXR1cm4KICAgICAgICAgICAgICAgICAgdHlwZS4gIFdoZW4gd3JpdGluZyBkZXNjcmlwdGlvbnMgZm9yIGJvb2xlYW4gcGFyYW1ldGVycywKICAgICAgICAgICAgICAgICAgcHJlZmVyICJXaGV0aGVyIHRoZSBjb21wb25lbnQgaXMgdmlzaWJsZSIgdG8gIlRydWUgaWYgdGhlCiAgICAgICAgICAgICAgICAgIGNvbXBvbmVudCBpcyB2aXNpYmxlLCBmYWxzZSBvdGhlcndpc2UiLiBJZiB0aGVyZSBpcyBubyByZXR1cm4KICAgICAgICAgICAgICAgICAgdmFsdWUsIGRvIG5vdCB1c2UgYW4gPGNvZGU+QHJldHVybjwvY29kZT4gdGFnLjxwLz4KCiAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNKc1R5cGVzIj5UeXBlPC9hPgogICAgICAgICAgICAgICAgICBuYW1lcyBtdXN0IGJlIGVuY2xvc2VkIGluIGN1cmx5IGJyYWNlcy4gSWYgdGhlIHR5cGUKICAgICAgICAgICAgICAgICAgaXMgb21pdHRlZCwgdGhlIGNvbXBpbGVyIHdpbGwgbm90IHR5cGUtY2hlY2sgdGhlIHJldHVybiB2YWx1ZS4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgPC90cj4KCiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkPjxhIG5hbWU9InRhZy1zZWUiPkBzZWU8L2E+PC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPGNvZGU+QHNlZSBMaW5rPC9jb2RlPgogICAgICAgICAgICAgICAgICA8cD48aT5Gb3IgZXhhbXBsZTo8L2k+PC9wPgogICAgICAgICAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAgICAgICAqIEFkZHMgYSBzaW5nbGUgaXRlbSwgcmVja2xlc3NseS4KICAgICAgICAgICAgICAgICAgICAgKiBAc2VlICNhZGRTYWZlbHkKICAgICAgICAgICAgICAgICAgICAgKiBAc2VlIGdvb2cuQ29sbGVjdAogICAgICAgICAgICAgICAgICAgICAqIEBzZWUgZ29vZy5SZWNrbGVzc0FkZGVyI2FkZAogICAgICAgICAgICAgICAgICAgICAuLi4KICAgICAgICAgICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPlJlZmVyZW5jZSBhIGxvb2t1cCB0byBhbm90aGVyIGNsYXNzIGZ1bmN0aW9uIG9yIG1ldGhvZC48L3RkPgogICAgICAgICAgICAgIDwvdHI+CgogICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZD48YSBuYW1lPSJ0YWctc3RydWN0Ij5Ac3RydWN0PC9hPjwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxjb2RlPkBzdHJ1Y3QgRGVzY3JpcHRpb248L2NvZGU+CiAgICAgICAgICAgICAgICAgIDxwPjxpPkZvciBleGFtcGxlOjwvaT48L3A+CiAgICAgICAgICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yCiAgICAgICAgICAgICAgICAgICAgICogQHN0cnVjdAogICAgICAgICAgICAgICAgICAgICAqLwogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIEZvbyh4KSB7CiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnggPSB4OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gbmV3IEZvbygxMjMpOwogICAgICAgICAgICAgICAgICAgIHZhciBudW0gPSBvYmpbJ3gnXTsgIC8vIHdhcm5pbmcKICAgICAgICAgICAgICAgICAgICBvYmoueSA9ICJhc2RmIjsgIC8vIHdhcm5pbmcKCiAgICAgICAgICAgICAgICAgICAgRm9vLnByb3RvdHlwZSA9IC8qKiBAc3RydWN0ICovIHsKICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDE6IGZ1bmN0aW9uKCkge30KICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIEZvby5wcm90b3R5cGUubWV0aG9kMiA9IGZ1bmN0aW9uKCkge307ICAvLyB3YXJuaW5nCiAgICAgICAgICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgV2hlbiBhIGNvbnN0cnVjdG9yICg8Y29kZT5Gb288L2NvZGU+IGluIHRoZSBleGFtcGxlKSBpcwogICAgICAgICAgICAgICAgICBhbm5vdGF0ZWQgd2l0aCA8Y29kZT5Ac3RydWN0PC9jb2RlPiwgeW91IGNhbiBvbmx5IHVzZSB0aGUgZG90CiAgICAgICAgICAgICAgICAgIG5vdGF0aW9uIHRvIGFjY2VzcyB0aGUgcHJvcGVydGllcyBvZiA8Y29kZT5Gb288L2NvZGU+IG9iamVjdHMuCiAgICAgICAgICAgICAgICAgIEFsc28sIHlvdSBjYW5ub3QgYWRkIG5ldyBwcm9wZXJ0aWVzIHRvIDxjb2RlPkZvbzwvY29kZT4KICAgICAgICAgICAgICAgICAgb2JqZWN0cyBhZnRlciB0aGV5IGhhdmUgYmVlbiBjcmVhdGVkLgogICAgICAgICAgICAgICAgICBUaGUgYW5ub3RhdGlvbiBjYW4gYWxzbyBiZSB1c2VkIGRpcmVjdGx5IG9uIG9iamVjdCBsaXRlcmFscy4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgPC90cj4KCiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkPjxhIG5hbWU9InRhZy1zdXBwb3J0ZWQiPkBzdXBwb3J0ZWQ8L2E+PC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPGNvZGU+QHN1cHBvcnRlZCBEZXNjcmlwdGlvbjwvY29kZT4KICAgICAgICAgICAgICAgICAgPHA+PGk+Rm9yIGV4YW1wbGU6PC9pPjwvcD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICAvKioKICAgICAgICAgICAgICAgICAgICAgKiBAZmlsZW92ZXJ2aWV3IEV2ZW50IE1hbmFnZXIKICAgICAgICAgICAgICAgICAgICAgKiBQcm92aWRlcyBhbiBhYnN0cmFjdGVkIGludGVyZmFjZSB0byB0aGUKICAgICAgICAgICAgICAgICAgICAgKiBicm93c2VycycgZXZlbnQgc3lzdGVtcy4KICAgICAgICAgICAgICAgICAgICAgKiBAc3VwcG9ydGVkIFNvIGZhciB0ZXN0ZWQgaW4gSUU2IGFuZCBGRjEuNQogICAgICAgICAgICAgICAgICAgICAqLwogICAgICAgICAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIFVzZWQgaW4gYSBmaWxlb3ZlcnZpZXcgdG8gaW5kaWNhdGUgd2hhdCBicm93c2VycyBhcmUgc3VwcG9ydGVkCiAgICAgICAgICAgICAgICAgIGJ5IHRoZSBmaWxlLgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+PGEgbmFtZT0idGFnLXN1cHByZXNzIj5Ac3VwcHJlc3M8L2E+PC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPGNvZGU+CiAgICAgICAgICAgICAgICAgICAgQHN1cHByZXNzIHt3YXJuaW5nMXx3YXJuaW5nMn0KICAgICAgICAgICAgICAgICAgPC9jb2RlPgogICAgICAgICAgICAgICAgICA8Y29kZT4KICAgICAgICAgICAgICAgICAgICBAc3VwcHJlc3Mge3dhcm5pbmcxLHdhcm5pbmcyfQogICAgICAgICAgICAgICAgICA8L2NvZGU+CiAgICAgICAgICAgICAgICAgIDxwPjxpPkZvciBleGFtcGxlOjwvaT48L3A+CiAgICAgICAgICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICAgICAgICogQHN1cHByZXNzIHtkZXByZWNhdGVkfQogICAgICAgICAgICAgICAgICAgICAqLwogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGYoKSB7CiAgICAgICAgICAgICAgICAgICAgICBkZXByZWNhdGVkVmVyc2lvbk9mRigpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICBTdXBwcmVzc2VzIHdhcm5pbmdzIGZyb20gdG9vbHMuIFdhcm5pbmcgY2F0ZWdvcmllcyBhcmUKICAgICAgICAgICAgICAgICAgc2VwYXJhdGVkIGJ5IDxjb2RlPnw8L2NvZGU+IG9yIDxjb2RlPiw8L2NvZGU+LgoKICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgPC90cj4KCiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkPjxhIG5hbWU9InRhZy10ZW1wbGF0ZSI+QHRlbXBsYXRlPC9hPjwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxjb2RlPkB0ZW1wbGF0ZTwvY29kZT4KICAgICAgICAgICAgICAgICAgPHA+PGk+Rm9yIGV4YW1wbGU6PC9pPjwvcD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICAvKioKICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6VCwgLi4uKX0gZm4KICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge1R9IHRoaXNPYmoKICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0gey4uLip9IHZhcl9hcmdzCiAgICAgICAgICAgICAgICAgICAgICogQHRlbXBsYXRlIFQKICAgICAgICAgICAgICAgICAgICAgKi8KICAgICAgICAgICAgICAgICAgICBnb29nLmJpbmQgPSBmdW5jdGlvbihmbiwgdGhpc09iaiwgdmFyX2FyZ3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAuLi4KICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIFRoaXMgYW5ub3RhdGlvbiBjYW4gYmUgdXNlZCB0byBkZWNsYXJlIGEKICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI1RlbXBsYXRlX3R5cGVzIj50ZW1wbGF0ZSB0eXBlbmFtZTwvYT4uCiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgIDwvdHI+CgogICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0ZD48YSBuYW1lPSJ0YWctdGhpcyI+QHRoaXM8L2E+PC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgPGNvZGU+CiAgICAgICAgICAgICAgICAgICAgQHRoaXMgVHlwZTxici8+CiAgICAgICAgICAgICAgICAgICAgQHRoaXMge1R5cGV9CiAgICAgICAgICAgICAgICAgIDwvY29kZT4KICAgICAgICAgICAgICAgICAgPHA+PGk+Rm9yIGV4YW1wbGU6PC9pPjwvcD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICBwaW50by5jaGF0LlJvc3RlcldpZGdldC5leHRlcm4oJ2dldFJvc3RlckVsZW1lbnQnLAogICAgICAgICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAgICAgICAqIFJldHVybnMgdGhlIHJvc3RlciB3aWRnZXQgZWxlbWVudC4KICAgICAgICAgICAgICAgICAgICAgKiBAdGhpcyBwaW50by5jaGF0LlJvc3RlcldpZGdldAogICAgICAgICAgICAgICAgICAgICAqIEByZXR1cm4ge0VsZW1lbnR9CiAgICAgICAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRXcmFwcGVkQ29tcG9uZW50XygpLmdldEVsZW1lbnQoKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0IGluIHdob3NlIGNvbnRleHQgYSBwYXJ0aWN1bGFyIG1ldGhvZCBpcwogICAgICAgICAgICAgICAgICBjYWxsZWQuIFJlcXVpcmVkIHdoZW4gdGhlIDxjb2RlPnRoaXM8L2NvZGU+IGtleXdvcmQgaXMgcmVmZXJlbmNlZAogICAgICAgICAgICAgICAgICBmcm9tIGEgZnVuY3Rpb24gdGhhdCBpcyBub3QgYSBwcm90b3R5cGUgbWV0aG9kLgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICA8L3RyPgoKICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQ+PGEgbmFtZT0idGFnLXR5cGUiPkB0eXBlPC9hPjwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgIDxjb2RlPgogICAgICAgICAgICAgICAgICAgIEB0eXBlIFR5cGU8YnIvPgogICAgICAgICAgICAgICAgICAgIEB0eXBlIHtUeXBlfQogICAgICAgICAgICAgICAgICA8L2NvZGU+CiAgICAgICAgICAgICAgICAgIDxwPjxpPkZvciBleGFtcGxlOjwvaT48L3A+CiAgICAgICAgICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICAgICAgICogVGhlIG1lc3NhZ2UgaGV4IElELgogICAgICAgICAgICAgICAgICAgICAqIEB0eXBlIHtzdHJpbmd9CiAgICAgICAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgICAgICAgdmFyIGhleElkID0gaGV4SWQ7CiAgICAgICAgICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgSWRlbnRpZmllcyB0aGUgPGEgaHJlZj0iI0pzVHlwZXMiPnR5cGU8L2E+IG9mIGEgdmFyaWFibGUsCiAgICAgICAgICAgICAgICAgIHByb3BlcnR5LCBvciBleHByZXNzaW9uLiBDdXJseSBicmFjZXMgYXJlIG5vdCByZXF1aXJlZCBhcm91bmQKICAgICAgICAgICAgICAgICAgbW9zdCB0eXBlcywgYnV0IHNvbWUgcHJvamVjdHMgbWFuZGF0ZSB0aGVtIGZvciBhbGwgdHlwZXMsIGZvcgogICAgICAgICAgICAgICAgICBjb25zaXN0ZW5jeS4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgPC90cj4KCiAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkPjxhIG5hbWU9InRhZy10eXBlZGVmIj5AdHlwZWRlZjwvYT48L3RkPgogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICA8Y29kZT5AdHlwZWRlZjwvY29kZT4KICAgICAgICAgICAgICAgICAgPHA+PGk+Rm9yIGV4YW1wbGU6PC9pPjwvcD4KICAgICAgICAgICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgICAgICAgICAvKiogQHR5cGVkZWYgeyhzdHJpbmd8bnVtYmVyKX0gKi8KICAgICAgICAgICAgICAgICAgICBnb29nLk51bWJlckxpa2U7CgogICAgICAgICAgICAgICAgICAgIC8qKiBAcGFyYW0ge2dvb2cuTnVtYmVyTGlrZX0geCBBIG51bWJlciBvciBhIHN0cmluZy4gKi8KICAgICAgICAgICAgICAgICAgICBnb29nLnJlYWROdW1iZXIgPSBmdW5jdGlvbih4KSB7CiAgICAgICAgICAgICAgICAgICAgICAuLi4KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgVGhpcyBhbm5vdGF0aW9uIGNhbiBiZSB1c2VkIHRvIGRlY2xhcmUgYW4gYWxpYXMgb2YgYSBtb3JlCiAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNUeXBlZGVmcyI+Y29tcGxleCB0eXBlPC9hPi4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgPC90cj4KCgoKICAgICAgICAgICAgPC90Ym9keT4KICAgICAgICAgIDwvdGFibGU+CgoKCiAgICAgICAgICA8cD4KICAgICAgICAgICAgWW91IG1heSBhbHNvIHNlZSBvdGhlciB0eXBlcyBvZiBKU0RvYyBhbm5vdGF0aW9ucyBpbiB0aGlyZC1wYXJ0eQogICAgICAgICAgICBjb2RlLiBUaGVzZSBhbm5vdGF0aW9ucyBhcHBlYXIgaW4gdGhlCiAgICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvanNkb2MtdG9vbGtpdC93aWtpL1RhZ1JlZmVyZW5jZSI+CiAgICAgICAgICAgICAgSlNEb2MgVG9vbGtpdCBUYWcgUmVmZXJlbmNlCiAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgYnV0IGFyZSBjdXJyZW50bHkgZGlzY291cmFnZWQgaW4gR29vZ2xlIGNvZGUuIFlvdSBzaG91bGQgY29uc2lkZXIKICAgICAgICAgICAgdGhlbSAicmVzZXJ2ZWQiIG5hbWVzIGZvciBmdXR1cmUgdXNlLiBUaGVzZSBpbmNsdWRlOgogICAgICAgICAgICA8dWw+CiAgICAgICAgICAgICAgPGxpPkBhdWdtZW50czwvbGk+CiAgICAgICAgICAgICAgPGxpPkBhcmd1bWVudDwvbGk+CiAgICAgICAgICAgICAgPGxpPkBib3Jyb3dzPC9saT4KICAgICAgICAgICAgICA8bGk+QGNsYXNzPC9saT4KICAgICAgICAgICAgICA8bGk+QGNvbnN0YW50PC9saT4KICAgICAgICAgICAgICA8bGk+QGNvbnN0cnVjdHM8L2xpPgogICAgICAgICAgICAgIDxsaT5AZGVmYXVsdDwvbGk+CiAgICAgICAgICAgICAgPGxpPkBldmVudDwvbGk+CiAgICAgICAgICAgICAgPGxpPkBleGFtcGxlPC9saT4KICAgICAgICAgICAgICA8bGk+QGZpZWxkPC9saT4KICAgICAgICAgICAgICA8bGk+QGZ1bmN0aW9uPC9saT4KICAgICAgICAgICAgICA8bGk+QGlnbm9yZTwvbGk+CiAgICAgICAgICAgICAgPGxpPkBpbm5lcjwvbGk+CiAgICAgICAgICAgICAgPGxpPkBsaW5rPC9saT4KICAgICAgICAgICAgICA8bGk+QG1lbWJlck9mPC9saT4KICAgICAgICAgICAgICA8bGk+QG5hbWU8L2xpPgogICAgICAgICAgICAgIDxsaT5AbmFtZXNwYWNlPC9saT4KICAgICAgICAgICAgICA8bGk+QHByb3BlcnR5PC9saT4KICAgICAgICAgICAgICA8bGk+QHB1YmxpYzwvbGk+CiAgICAgICAgICAgICAgPGxpPkByZXF1aXJlczwvbGk+CiAgICAgICAgICAgICAgPGxpPkByZXR1cm5zPC9saT4KICAgICAgICAgICAgICA8bGk+QHNpbmNlPC9saT4KICAgICAgICAgICAgICA8bGk+QHN0YXRpYzwvbGk+CiAgICAgICAgICAgICAgPGxpPkB2ZXJzaW9uPC9saT4KICAgICAgICAgICAgPC91bD4KICAgICAgICAgIDwvcD4KICAgICAgICA8L1NVQlNFQ1RJT04+CiAgICAgIDwvQk9EWT4KICAgIDwvU1RZTEVQT0lOVD4KCiAgICA8U1RZTEVQT0lOVCB0aXRsZT0iUHJvdmlkaW5nIERlcGVuZGVuY2llcyBXaXRoIGdvb2cucHJvdmlkZSI+CiAgICAgIDxTVU1NQVJZPgogICAgICAgIE9ubHkgcHJvdmlkZSB0b3AtbGV2ZWwgc3ltYm9scy4KICAgICAgPC9TVU1NQVJZPgogICAgICA8Qk9EWT4KICAgICAgICA8cD4KICAgICAgICAgIEFsbCBtZW1iZXJzIGRlZmluZWQgb24gYSBjbGFzcyBzaG91bGQgYmUgaW4gdGhlIHNhbWUgZmlsZS4gU28sIG9ubHkKICAgICAgICAgIHRvcC1sZXZlbCBjbGFzc2VzIHNob3VsZCBiZSBwcm92aWRlZCBpbiBhIGZpbGUgdGhhdCBjb250YWlucyBtdWx0aXBsZQogICAgICAgICAgbWVtYmVycyBkZWZpbmVkIG9uIHRoZSBzYW1lIGNsYXNzIChlLmcuIGVudW1zLCBpbm5lciBjbGFzc2VzLCBldGMpLgogICAgICAgIDwvcD4KICAgICAgICA8cD5EbyB0aGlzOjwvcD4KICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgZ29vZy5wcm92aWRlKCduYW1lc3BhY2UuTXlDbGFzcycpOwogICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgIDxwPk5vdCB0aGlzOjwvcD4KICAgICAgICA8QkFEX0NPREVfU05JUFBFVD4KICAgICAgICAgIGdvb2cucHJvdmlkZSgnbmFtZXNwYWNlLk15Q2xhc3MnKTsKICAgICAgICAgIGdvb2cucHJvdmlkZSgnbmFtZXNwYWNlLk15Q2xhc3MuRW51bScpOwogICAgICAgICAgZ29vZy5wcm92aWRlKCduYW1lc3BhY2UuTXlDbGFzcy5Jbm5lckNsYXNzJyk7CiAgICAgICAgICBnb29nLnByb3ZpZGUoJ25hbWVzcGFjZS5NeUNsYXNzLlR5cGVEZWYnKTsKICAgICAgICAgIGdvb2cucHJvdmlkZSgnbmFtZXNwYWNlLk15Q2xhc3MuQ09OU1RBTlQnKTsKICAgICAgICAgIGdvb2cucHJvdmlkZSgnbmFtZXNwYWNlLk15Q2xhc3Muc3RhdGljTWV0aG9kJyk7CiAgICAgICAgPC9CQURfQ09ERV9TTklQUEVUPgogICAgICAgIDxwPgogICAgICAgICAgTWVtYmVycyBvbiBuYW1lc3BhY2VzIG1heSBhbHNvIGJlIHByb3ZpZGVkOgogICAgICAgIDwvcD4KICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgZ29vZy5wcm92aWRlKCdmb28uYmFyJyk7CiAgICAgICAgICBnb29nLnByb3ZpZGUoJ2Zvby5iYXIubWV0aG9kJyk7CiAgICAgICAgICBnb29nLnByb3ZpZGUoJ2Zvby5iYXIuQ09OU1RBTlQnKTsKICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgPC9CT0RZPgogICAgPC9TVFlMRVBPSU5UPgoKICAgIDxTVFlMRVBPSU5UIHRpdGxlPSJDb21waWxpbmciPgogICAgICA8U1VNTUFSWT5SZXF1aXJlZDwvU1VNTUFSWT4KICAgICAgPEJPRFk+CgoKICAgICAgICA8cD5Vc2Ugb2YgSlMgY29tcGlsZXJzIHN1Y2ggYXMgdGhlCiAgICAgICAgICA8YSBocmVmPSJodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9jbG9zdXJlL2NvbXBpbGVyLyI+Q2xvc3VyZSBDb21waWxlcjwvYT4KICAgICAgICAgIGlzIHJlcXVpcmVkIGZvciBhbGwgY3VzdG9tZXItZmFjaW5nIGNvZGUuPC9wPgoKCgoKICAgICAgPC9CT0RZPgogICAgPC9TVFlMRVBPSU5UPgoKICAgIDxTVFlMRVBPSU5UIHRpdGxlPSJUaXBzIGFuZCBUcmlja3MiPgogICAgICA8U1VNTUFSWT5KYXZhU2NyaXB0IHRpZGJpdHM8L1NVTU1BUlk+CiAgICAgIDxCT0RZPgogICAgICAgIDxTVUJTRUNUSU9OIHRpdGxlPSJUcnVlIGFuZCBGYWxzZSBCb29sZWFuIEV4cHJlc3Npb25zIj4KICAgICAgICAgIDxwPlRoZSBmb2xsb3dpbmcgYXJlIGFsbCBmYWxzZSBpbiBib29sZWFuIGV4cHJlc3Npb25zOjwvcD4KICAgICAgICAgIDx1bD4KICAgICAgICAgICAgPGxpPjxjb2RlPm51bGw8L2NvZGU+PC9saT4KICAgICAgICAgICAgPGxpPjxjb2RlPnVuZGVmaW5lZDwvY29kZT48L2xpPgogICAgICAgICAgICA8bGk+PGNvZGU+Jyc8L2NvZGU+IHRoZSBlbXB0eSBzdHJpbmc8L2xpPgogICAgICAgICAgICA8bGk+PGNvZGU+MDwvY29kZT4gdGhlIG51bWJlcjwvbGk+CiAgICAgICAgICA8L3VsPgogICAgICAgICAgPHA+QnV0IGJlIGNhcmVmdWwsIGJlY2F1c2UgdGhlc2UgYXJlIGFsbCB0cnVlOjwvcD4KICAgICAgICAgIDx1bD4KICAgICAgICAgICAgPGxpPjxjb2RlPicwJzwvY29kZT4gdGhlIHN0cmluZzwvbGk+CiAgICAgICAgICAgIDxsaT48Y29kZT5bXTwvY29kZT4gdGhlIGVtcHR5IGFycmF5PC9saT4KICAgICAgICAgICAgPGxpPjxjb2RlPnt9PC9jb2RlPiB0aGUgZW1wdHkgb2JqZWN0PC9saT4KICAgICAgICAgIDwvdWw+CgogICAgICAgICAgPHA+VGhpcyBtZWFucyB0aGF0IGluc3RlYWQgb2YgdGhpczo8L3A+CiAgICAgICAgICA8QkFEX0NPREVfU05JUFBFVD4KICAgICAgICAgICAgd2hpbGUgKHggIT0gbnVsbCkgewogICAgICAgICAgPC9CQURfQ09ERV9TTklQUEVUPgogICAgICAgICAgPHA+eW91IGNhbiB3cml0ZSB0aGlzIHNob3J0ZXIgY29kZSAoYXMgbG9uZyBhcyB5b3UgZG9uJ3QgZXhwZWN0IHggdG8KICAgICAgICAgICAgYmUgMCwgb3IgdGhlIGVtcHR5IHN0cmluZywgb3IgZmFsc2UpOjwvcD4KICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgIHdoaWxlICh4KSB7CiAgICAgICAgICA8L0NPREVfU05JUFBFVD4KCiAgICAgICAgICA8cD5BbmQgaWYgeW91IHdhbnQgdG8gY2hlY2sgYSBzdHJpbmcgdG8gc2VlIGlmIGl0IGlzIG51bGwgb3IgZW1wdHksCiAgICAgICAgICAgIHlvdSBjb3VsZCBkbyB0aGlzOjwvcD4KICAgICAgICAgIDxCQURfQ09ERV9TTklQUEVUPgogICAgICAgICAgICBpZiAoeSAhPSBudWxsICZhbXA7JmFtcDsgeSAhPSAnJykgewogICAgICAgICAgPC9CQURfQ09ERV9TTklQUEVUPgogICAgICAgICAgPHA+QnV0IHRoaXMgaXMgc2hvcnRlciBhbmQgbmljZXI6PC9wPgogICAgICAgICAgPENPREVfU05JUFBFVD4KICAgICAgICAgICAgaWYgKHkpIHsKICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgoKICAgICAgICAgIDxwPjxzdHJvbmc+Q2F1dGlvbjo8L3N0cm9uZz4gVGhlcmUgYXJlIG1hbnkgdW5pbnR1aXRpdmUgdGhpbmdzIGFib3V0CiAgICAgICAgICAgIGJvb2xlYW4gZXhwcmVzc2lvbnMuICBIZXJlIGFyZSBzb21lIG9mIHRoZW06PC9wPgogICAgICAgICAgPHVsPgogICAgICAgICAgICA8bGk+PGNvZGU+CiAgICAgICAgICAgICAgQm9vbGVhbignMCcpID09IHRydWU8YnIvPgogICAgICAgICAgICAgICcwJyAhPSB0cnVlPC9jb2RlPjwvbGk+CiAgICAgICAgICAgIDxsaT48Y29kZT4KICAgICAgICAgICAgICAwICE9IG51bGw8YnIvPgogICAgICAgICAgICAgIDAgPT0gW108YnIvPgogICAgICAgICAgICAgIDAgPT0gZmFsc2U8L2NvZGU+PC9saT4KICAgICAgICAgICAgPGxpPjxjb2RlPgogICAgICAgICAgICAgIEJvb2xlYW4obnVsbCkgPT0gZmFsc2U8YnIvPgogICAgICAgICAgICAgIG51bGwgIT0gdHJ1ZTxici8+CiAgICAgICAgICAgICAgbnVsbCAhPSBmYWxzZTwvY29kZT48L2xpPgogICAgICAgICAgICA8bGk+PGNvZGU+CiAgICAgICAgICAgICAgQm9vbGVhbih1bmRlZmluZWQpID09IGZhbHNlPGJyLz4KICAgICAgICAgICAgICB1bmRlZmluZWQgIT0gdHJ1ZTxici8+CiAgICAgICAgICAgICAgdW5kZWZpbmVkICE9IGZhbHNlPC9jb2RlPjwvbGk+CiAgICAgICAgICAgIDxsaT48Y29kZT4KICAgICAgICAgICAgICBCb29sZWFuKFtdKSA9PSB0cnVlPGJyLz4KICAgICAgICAgICAgICBbXSAhPSB0cnVlPGJyLz4KICAgICAgICAgICAgICBbXSA9PSBmYWxzZTwvY29kZT48L2xpPgogICAgICAgICAgICA8bGk+PGNvZGU+CiAgICAgICAgICAgICAgQm9vbGVhbih7fSkgPT0gdHJ1ZTxici8+CiAgICAgICAgICAgICAge30gIT0gdHJ1ZTxici8+CiAgICAgICAgICAgICAge30gIT0gZmFsc2U8L2NvZGU+PC9saT4KICAgICAgICAgIDwvdWw+CiAgICAgICAgPC9TVUJTRUNUSU9OPgoKICAgICAgICA8U1VCU0VDVElPTiB0aXRsZT0iQ29uZGl0aW9uYWwgKFRlcm5hcnkpIE9wZXJhdG9yICg/OikiPgogICAgICAgICAgPHA+SW5zdGVhZCBvZiB0aGlzOjwvcD4KICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgIGlmICh2YWwpIHsKICAgICAgICAgICAgICByZXR1cm4gZm9vKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmV0dXJuIGJhcigpOwogICAgICAgICAgICB9CiAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICAgIDxwPnlvdSBjYW4gd3JpdGUgdGhpczo8L3A+CiAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICByZXR1cm4gdmFsID8gZm9vKCkgOiBiYXIoKTsKICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgoKICAgICAgICAgIDxwPlRoZSB0ZXJuYXJ5IGNvbmRpdGlvbmFsIGlzIGFsc28gdXNlZnVsIHdoZW4gZ2VuZXJhdGluZyBIVE1MOjwvcD4KICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgIHZhciBodG1sID0gJyZsdDtpbnB1dCB0eXBlPSJjaGVja2JveCInICsKICAgICAgICAgICAgICAgIChpc0NoZWNrZWQgPyAnIGNoZWNrZWQnIDogJycpICsKICAgICAgICAgICAgICAgIChpc0VuYWJsZWQgPyAnJyA6ICcgZGlzYWJsZWQnKSArCiAgICAgICAgICAgICAgICAnIG5hbWU9ImZvbyImZ3Q7JzsKICAgICAgICAgIDwvQ09ERV9TTklQUEVUPgogICAgICAgIDwvU1VCU0VDVElPTj4KCiAgICAgICAgPFNVQlNFQ1RJT04gdGl0bGU9IiZhbXA7JmFtcDsgYW5kIHx8Ij4KICAgICAgICAgIDxwPlRoZXNlIGJpbmFyeSBib29sZWFuIG9wZXJhdG9ycyBhcmUgc2hvcnQtY2lyY3VpdGVkLCBhbmQgZXZhbHVhdGUKICAgICAgICAgICAgdG8gdGhlIGxhc3QgZXZhbHVhdGVkIHRlcm0uPC9wPgoKICAgICAgICAgIDxwPiJ8fCIgaGFzIGJlZW4gY2FsbGVkIHRoZSAnZGVmYXVsdCcgb3BlcmF0b3IsIGJlY2F1c2UgaW5zdGVhZCBvZgogICAgICAgICAgICB3cml0aW5nIHRoaXM6PC9wPgogICAgICAgICAgPEJBRF9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgIC8qKiBAcGFyYW0geyo9fSBvcHRfd2luICovCiAgICAgICAgICAgIGZ1bmN0aW9uIGZvbyhvcHRfd2luKSB7CiAgICAgICAgICAgICAgdmFyIHdpbjsKICAgICAgICAgICAgICBpZiAob3B0X3dpbikgewogICAgICAgICAgICAgICAgd2luID0gb3B0X3dpbjsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgd2luID0gd2luZG93OwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvLyAuLi4KICAgICAgICAgICAgfQogICAgICAgICAgPC9CQURfQ09ERV9TTklQUEVUPgogICAgICAgICAgPHA+eW91IGNhbiB3cml0ZSB0aGlzOjwvcD4KICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgIC8qKiBAcGFyYW0geyo9fSBvcHRfd2luICovCiAgICAgICAgICAgIGZ1bmN0aW9uIGZvbyhvcHRfd2luKSB7CiAgICAgICAgICAgICAgdmFyIHdpbiA9IG9wdF93aW4gfHwgd2luZG93OwogICAgICAgICAgICAgIC8vIC4uLgogICAgICAgICAgICB9CiAgICAgICAgICA8L0NPREVfU05JUFBFVD4KCiAgICAgICAgICA8cD4iJmFtcDsmYW1wOyIgaXMgYWxzbyB1c2VmdWwgZm9yIHNob3J0ZW5pbmcgY29kZS4gRm9yIGluc3RhbmNlLAogICAgICAgICAgICBpbnN0ZWFkIG9mIHRoaXM6PC9wPgogICAgICAgICAgPEJBRF9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgIGlmIChub2RlKSB7CiAgICAgICAgICAgICAgaWYgKG5vZGUua2lkcykgewogICAgICAgICAgICAgICAgaWYgKG5vZGUua2lkc1tpbmRleF0pIHsKICAgICAgICAgICAgICAgICAgZm9vKG5vZGUua2lkc1tpbmRleF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgPC9CQURfQ09ERV9TTklQUEVUPgoKICAgICAgICAgIDxwPnlvdSBjb3VsZCBkbyB0aGlzOjwvcD4KICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgIGlmIChub2RlICZhbXA7JmFtcDsgbm9kZS5raWRzICZhbXA7JmFtcDsgbm9kZS5raWRzW2luZGV4XSkgewogICAgICAgICAgICAgIGZvbyhub2RlLmtpZHNbaW5kZXhdKTsKICAgICAgICAgICAgfQogICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CgogICAgICAgICAgPHA+b3IgdGhpczo8L3A+CiAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICB2YXIga2lkID0gbm9kZSAmYW1wOyZhbXA7IG5vZGUua2lkcyAmYW1wOyZhbXA7IG5vZGUua2lkc1tpbmRleF07CiAgICAgICAgICAgIGlmIChraWQpIHsKICAgICAgICAgICAgICBmb28oa2lkKTsKICAgICAgICAgICAgfQogICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CgogICAgICAgICAgPHA+SG93ZXZlciwgdGhpcyBpcyBnb2luZyBhIGxpdHRsZSB0b28gZmFyOjwvcD4KICAgICAgICAgIDxCQURfQ09ERV9TTklQUEVUPgogICAgICAgICAgICBub2RlICZhbXA7JmFtcDsgbm9kZS5raWRzICZhbXA7JmFtcDsgbm9kZS5raWRzW2luZGV4XSAmYW1wOyZhbXA7IGZvbyhub2RlLmtpZHNbaW5kZXhdKTsKICAgICAgICAgIDwvQkFEX0NPREVfU05JUFBFVD4KICAgICAgICA8L1NVQlNFQ1RJT04+CgogICAgICAgIDxTVUJTRUNUSU9OIHRpdGxlPSJJdGVyYXRpbmcgb3ZlciBOb2RlIExpc3RzIj4KICAgICAgICAgIDxwPk5vZGUgbGlzdHMgYXJlIG9mdGVuIGltcGxlbWVudGVkIGFzIG5vZGUgaXRlcmF0b3JzIHdpdGggYSBmaWx0ZXIuCiAgICAgICAgICAgIFRoaXMgbWVhbnMgdGhhdCBnZXR0aW5nIGEgcHJvcGVydHkgbGlrZSBsZW5ndGggaXMgTyhuKSwgYW5kCiAgICAgICAgICAgIGl0ZXJhdGluZyBvdmVyIHRoZSBsaXN0IGJ5IHJlLWNoZWNraW5nIHRoZSBsZW5ndGggd2lsbCBiZQogICAgICAgICAgICBPKG5eMikuPC9wPgogICAgICAgICAgPEJBRF9DT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgIHZhciBwYXJhZ3JhcGhzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3AnKTsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgJmx0OyBwYXJhZ3JhcGhzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgZG9Tb21ldGhpbmcocGFyYWdyYXBoc1tpXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIDwvQkFEX0NPREVfU05JUFBFVD4KCiAgICAgICAgICA8cD5JdCBpcyBiZXR0ZXIgdG8gZG8gdGhpcyBpbnN0ZWFkOjwvcD4KICAgICAgICAgIDxDT0RFX1NOSVBQRVQ+CiAgICAgICAgICAgIHZhciBwYXJhZ3JhcGhzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3AnKTsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIHBhcmFncmFwaDsgcGFyYWdyYXBoID0gcGFyYWdyYXBoc1tpXTsgaSsrKSB7CiAgICAgICAgICAgICAgZG9Tb21ldGhpbmcocGFyYWdyYXBoKTsKICAgICAgICAgICAgfQogICAgICAgICAgPC9DT0RFX1NOSVBQRVQ+CgogICAgICAgICAgPHA+VGhpcyB3b3JrcyB3ZWxsIGZvciBhbGwgY29sbGVjdGlvbnMgYW5kIGFycmF5cyBhcyBsb25nIGFzIHRoZSBhcnJheQogICAgICAgICAgICBkb2VzIG5vdCBjb250YWluIHRoaW5ncyB0aGF0IGFyZSB0cmVhdGVkIGFzIGJvb2xlYW4gZmFsc2UuPC9wPgoKICAgICAgICAgIDxwPkluIGNhc2VzIHdoZXJlIHlvdSBhcmUgaXRlcmF0aW5nIG92ZXIgdGhlIGNoaWxkTm9kZXMgeW91IGNhbiBhbHNvCiAgICAgICAgICAgIHVzZSB0aGUgZmlyc3RDaGlsZCBhbmQgbmV4dFNpYmxpbmcgcHJvcGVydGllcy48L3A+CiAgICAgICAgICA8Q09ERV9TTklQUEVUPgogICAgICAgICAgICB2YXIgcGFyZW50Tm9kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb28nKTsKICAgICAgICAgICAgZm9yICh2YXIgY2hpbGQgPSBwYXJlbnROb2RlLmZpcnN0Q2hpbGQ7IGNoaWxkOyBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nKSB7CiAgICAgICAgICAgICAgZG9Tb21ldGhpbmcoY2hpbGQpOwogICAgICAgICAgICB9CiAgICAgICAgICA8L0NPREVfU05JUFBFVD4KICAgICAgICA8L1NVQlNFQ1RJT04+CiAgICAgIDwvQk9EWT4KICAgIDwvU1RZTEVQT0lOVD4KICA8L0NBVEVHT1JZPgoKCgogIDxQQVJUSU5HX1dPUkRTPgogICAgPHA+CiAgICAgIDxlbT5CRSBDT05TSVNURU5UPC9lbT4uCiAgICA8L3A+CgogICAgPHA+CiAgICAgIElmIHlvdSdyZSBlZGl0aW5nIGNvZGUsIHRha2UgYSBmZXcgbWludXRlcyB0byBsb29rIGF0IHRoZSBjb2RlCiAgICAgIGFyb3VuZCB5b3UgYW5kIGRldGVybWluZSBpdHMgc3R5bGUuICBJZiB0aGV5IHVzZSBzcGFjZXMgYXJvdW5kCiAgICAgIGFsbCB0aGVpciBhcml0aG1ldGljIG9wZXJhdG9ycywgeW91IHNob3VsZCB0b28uICBJZiB0aGVpcgogICAgICBjb21tZW50cyBoYXZlIGxpdHRsZSBib3hlcyBvZiBoYXNoIG1hcmtzIGFyb3VuZCB0aGVtLCBtYWtlIHlvdXIKICAgICAgY29tbWVudHMgaGF2ZSBsaXR0bGUgYm94ZXMgb2YgaGFzaCBtYXJrcyBhcm91bmQgdGhlbSB0b28uCiAgICA8L3A+CgogICAgPHA+CiAgICAgIFRoZSBwb2ludCBvZiBoYXZpbmcgc3R5bGUgZ3VpZGVsaW5lcyBpcyB0byBoYXZlIGEgY29tbW9uIHZvY2FidWxhcnkKICAgICAgb2YgY29kaW5nIHNvIHBlb3BsZSBjYW4gY29uY2VudHJhdGUgb24gd2hhdCB5b3UncmUgc2F5aW5nIHJhdGhlcgogICAgICB0aGFuIG9uIGhvdyB5b3UncmUgc2F5aW5nIGl0LiAgV2UgcHJlc2VudCBnbG9iYWwgc3R5bGUgcnVsZXMgaGVyZSBzbwogICAgICBwZW9wbGUga25vdyB0aGUgdm9jYWJ1bGFyeSwgYnV0IGxvY2FsIHN0eWxlIGlzIGFsc28gaW1wb3J0YW50LiAgSWYKICAgICAgY29kZSB5b3UgYWRkIHRvIGEgZmlsZSBsb29rcyBkcmFzdGljYWxseSBkaWZmZXJlbnQgZnJvbSB0aGUgZXhpc3RpbmcKICAgICAgY29kZSBhcm91bmQgaXQsIGl0IHRocm93cyByZWFkZXJzIG91dCBvZiB0aGVpciByaHl0aG0gd2hlbiB0aGV5IGdvIHRvCiAgICAgIHJlYWQgaXQuICBBdm9pZCB0aGlzLgogICAgPC9wPgoKICA8L1BBUlRJTkdfV09SRFM+CgogIDxwIGFsaWduPSJyaWdodCI+CiAgICBSZXZpc2lvbiAyLjkzCiAgPC9wPgoKCiAgPGFkZHJlc3M+CiAgICBBYXJvbiBXaHl0ZTxici8+CiAgICBCb2IgSmVydmlzPGJyLz4KICAgIERhbiBQdXBpdXM8YnIvPgogICAgRXJpayBBcnZpZHNzb248YnIvPgogICAgRnJpdHogU2NobmVpZGVyPGJyLz4KICAgIFJvYmJ5IFdhbGtlcjxici8+CiAgPC9hZGRyZXNzPgo8L0dVSURFPgo=
  recorded_at: Sat, 22 Aug 2020 23:47:40 GMT
recorded_with: VCR 6.0.0
